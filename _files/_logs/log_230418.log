23/04/18 00:14:17 052 [debug]: --------------------------------------------------
23/04/18 00:14:17 054 [debug]: |              Start Express Server              |
23/04/18 00:14:17 055 [debug]: --------------------------------------------------
23/04/18 00:14:17 055 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:14:17 056 [debug]: --------------------------------------------------
23/04/18 00:14:28 039 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:14:28 041 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:14:28 041 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:14:28 044 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:14:28 045 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:14:28 045 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:14:28 052 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:14:28 053 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:14:28 053 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:14:28 054 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:14:28 054 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:14:28 055 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:14:28 133 [info]:  >> DATABASE 접속됨 [threaId=9]
23/04/18 00:14:28 134 [info]:  >> Connection 임대됨 [threaId=9]
23/04/18 00:14:28 136 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:14:28 136 [info]:  >> DATABASE 접속됨 [threaId=11]
23/04/18 00:14:28 137 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 138 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:14:28 138 [info]:  >> DATABASE 접속됨 [threaId=10]
23/04/18 00:14:28 138 [info]:  >> Connection 임대됨 [threaId=10]
23/04/18 00:14:28 138 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:14:28 139 [info]:  >> DATABASE 접속됨 [threaId=12]
23/04/18 00:14:28 139 [info]:  >> Connection 임대됨 [threaId=12]
23/04/18 00:14:28 139 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:14:28 155 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 156 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 157 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:14:28 158 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 158 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 159 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:14:28 159 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 159 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 160 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:14:28 160 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 160 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 161 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:14:28 161 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 161 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 162 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:14:28 162 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 163 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 164 [debug]: SELECT reviewNo, comment, sp, date_format(regDate, '%Y/%m/%d') as regDate, userNo, bookNo FROM review   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:14:28 164 [info]:  >> Connection 반납됨 [threaId=10]
23/04/18 00:14:28 168 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 123ms
23/04/18 00:14:28 168 [debug]: --------------------------------------------------
23/04/18 00:14:28 169 [info]:  >> Connection 반납됨 [threaId=12]
23/04/18 00:14:28 170 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 116ms
23/04/18 00:14:28 170 [debug]: --------------------------------------------------
23/04/18 00:14:28 170 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 171 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 118ms
23/04/18 00:14:28 171 [debug]: --------------------------------------------------
23/04/18 00:14:28 172 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:14:28 173 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:14:28 173 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:14:28 174 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 175 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:14:28 175 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 176 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 176 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:14:28 176 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 177 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 177 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:14:28 177 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 178 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 178 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:14:28 179 [info]:  >> Connection 반납됨 [threaId=9]
23/04/18 00:14:28 179 [info]:  >> Connection 임대됨 [threaId=9]
23/04/18 00:14:28 179 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:14:28 180 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 180 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 181 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:14:28 181 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 181 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 182 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:14:28 182 [info]:  >> Connection 반납됨 [threaId=9]
23/04/18 00:14:28 182 [info]:  >> Connection 임대됨 [threaId=9]
23/04/18 00:14:28 183 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:14:28 183 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 183 [info]:  >> Connection 임대됨 [threaId=11]
23/04/18 00:14:28 184 [debug]: SELECT reviewNo, comment, sp, date_format(regDate, '%Y/%m/%d') as regDate, userNo, bookNo FROM review   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:14:28 184 [info]:  >> Connection 반납됨 [threaId=11]
23/04/18 00:14:28 185 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 00:14:28 185 [debug]: --------------------------------------------------
23/04/18 00:14:28 186 [info]:  >> Connection 반납됨 [threaId=9]
23/04/18 00:14:28 186 [info]:  >> Connection 임대됨 [threaId=9]
23/04/18 00:14:28 186 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:14:28 188 [info]:  >> Connection 반납됨 [threaId=9]
23/04/18 00:14:28 189 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 148ms
23/04/18 00:14:28 189 [debug]: --------------------------------------------------
23/04/18 00:15:19 412 [debug]: --------------------------------------------------
23/04/18 00:15:19 414 [debug]: |              Start Express Server              |
23/04/18 00:15:19 415 [debug]: --------------------------------------------------
23/04/18 00:15:19 415 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:15:19 416 [debug]: --------------------------------------------------
23/04/18 00:15:40 134 [debug]: --------------------------------------------------
23/04/18 00:15:40 136 [debug]: |              Start Express Server              |
23/04/18 00:15:40 137 [debug]: --------------------------------------------------
23/04/18 00:15:40 137 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:15:40 138 [debug]: --------------------------------------------------
23/04/18 00:18:32 788 [debug]: --------------------------------------------------
23/04/18 00:18:32 790 [debug]: |              Start Express Server              |
23/04/18 00:18:32 791 [debug]: --------------------------------------------------
23/04/18 00:18:32 791 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:18:32 791 [debug]: --------------------------------------------------
23/04/18 00:22:16 285 [debug]: --------------------------------------------------
23/04/18 00:22:16 288 [debug]: |              Start Express Server              |
23/04/18 00:22:16 288 [debug]: --------------------------------------------------
23/04/18 00:22:16 289 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:22:16 289 [debug]: --------------------------------------------------
23/04/18 00:22:23 254 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:22:23 255 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:22:23 256 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:22:23 260 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:22:23 260 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:22:23 261 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:22:23 268 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:22:23 268 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:22:23 268 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:22:23 269 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:22:23 270 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:22:23 270 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:22:23 287 [info]:  >> DATABASE 접속됨 [threaId=18]
23/04/18 00:22:23 287 [info]:  >> Connection 임대됨 [threaId=18]
23/04/18 00:22:23 290 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:22:23 291 [info]:  >> DATABASE 접속됨 [threaId=19]
23/04/18 00:22:23 291 [info]:  >> Connection 임대됨 [threaId=19]
23/04/18 00:22:23 292 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:22:23 292 [info]:  >> DATABASE 접속됨 [threaId=21]
23/04/18 00:22:23 292 [info]:  >> Connection 임대됨 [threaId=21]
23/04/18 00:22:23 293 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:22:23 293 [info]:  >> DATABASE 접속됨 [threaId=20]
23/04/18 00:22:23 293 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 294 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:22:23 296 [info]:  >> Connection 반납됨 [threaId=18]
23/04/18 00:22:23 297 [info]:  >> Connection 임대됨 [threaId=18]
23/04/18 00:22:23 297 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:22:23 298 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 299 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 299 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:22:23 300 [info]:  >> Connection 반납됨 [threaId=19]
23/04/18 00:22:23 303 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 43ms
23/04/18 00:22:23 303 [debug]: --------------------------------------------------
23/04/18 00:22:23 305 [info]:  >> Connection 반납됨 [threaId=21]
23/04/18 00:22:23 306 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 36ms
23/04/18 00:22:23 306 [debug]: --------------------------------------------------
23/04/18 00:22:23 307 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 307 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 307 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:22:23 308 [info]:  >> Connection 반납됨 [threaId=18]
23/04/18 00:22:23 308 [info]:  >> Connection 임대됨 [threaId=18]
23/04/18 00:22:23 308 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:22:23 309 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 309 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 309 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:22:23 310 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 310 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 310 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:22:23 311 [info]:  >> Connection 반납됨 [threaId=18]
23/04/18 00:22:23 311 [info]:  >> Connection 임대됨 [threaId=18]
23/04/18 00:22:23 311 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:22:23 312 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 312 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 313 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:22:23 313 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 314 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 314 [debug]: SELECT reviewNo, comment, sp, date_format(regDate, '%Y/%m/%d') as regDate, loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:22:23 315 [info]:  >> Connection 반납됨 [threaId=18]
23/04/18 00:22:23 316 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 00:22:23 316 [debug]: --------------------------------------------------
23/04/18 00:22:23 317 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 317 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
                ORDER' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:22:23 318 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 50ms
23/04/18 00:22:23 319 [debug]: --------------------------------------------------
23/04/18 00:22:23 322 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:22:23 323 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:22:23 323 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:22:23 324 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 324 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:22:23 325 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 325 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 326 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:22:23 326 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 326 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 326 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:22:23 327 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 327 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 328 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:22:23 328 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 328 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 329 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:22:23 329 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 329 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 330 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:22:23 330 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 330 [info]:  >> Connection 임대됨 [threaId=20]
23/04/18 00:22:23 331 [debug]: SELECT reviewNo, comment, sp, date_format(regDate, '%Y/%m/%d') as regDate, loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:22:23 331 [info]:  >> Connection 반납됨 [threaId=20]
23/04/18 00:22:23 332 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
                ORDER' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:22:23 333 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:22:23 333 [debug]: --------------------------------------------------
23/04/18 00:24:14 711 [debug]: --------------------------------------------------
23/04/18 00:24:14 713 [debug]: |              Start Express Server              |
23/04/18 00:24:14 714 [debug]: --------------------------------------------------
23/04/18 00:24:14 714 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:24:14 714 [debug]: --------------------------------------------------
23/04/18 00:24:19 595 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:24:19 596 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:24:19 596 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:24:19 600 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:24:19 600 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:24:19 601 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:24:19 608 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:24:19 608 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:24:19 609 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:24:19 610 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:24:19 610 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:24:19 611 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:24:19 627 [info]:  >> DATABASE 접속됨 [threaId=23]
23/04/18 00:24:19 627 [info]:  >> Connection 임대됨 [threaId=23]
23/04/18 00:24:19 630 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:24:19 630 [info]:  >> DATABASE 접속됨 [threaId=24]
23/04/18 00:24:19 631 [info]:  >> Connection 임대됨 [threaId=24]
23/04/18 00:24:19 632 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:24:19 635 [info]:  >> Connection 반납됨 [threaId=23]
23/04/18 00:24:19 635 [info]:  >> Connection 임대됨 [threaId=23]
23/04/18 00:24:19 636 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:24:19 636 [info]:  >> DATABASE 접속됨 [threaId=25]
23/04/18 00:24:19 636 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 638 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:24:19 638 [info]:  >> Connection 반납됨 [threaId=24]
23/04/18 00:24:19 641 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 41ms
23/04/18 00:24:19 642 [debug]: --------------------------------------------------
23/04/18 00:24:19 642 [info]:  >> DATABASE 접속됨 [threaId=26]
23/04/18 00:24:19 643 [info]:  >> Connection 임대됨 [threaId=26]
23/04/18 00:24:19 643 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:24:19 644 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 645 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 646 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:24:19 646 [info]:  >> Connection 반납됨 [threaId=23]
23/04/18 00:24:19 646 [info]:  >> Connection 임대됨 [threaId=23]
23/04/18 00:24:19 647 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:24:19 647 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 648 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 648 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:24:19 649 [info]:  >> Connection 반납됨 [threaId=26]
23/04/18 00:24:19 650 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 00:24:19 650 [debug]: --------------------------------------------------
23/04/18 00:24:19 651 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 651 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 652 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:24:19 652 [info]:  >> Connection 반납됨 [threaId=23]
23/04/18 00:24:19 652 [info]:  >> Connection 임대됨 [threaId=23]
23/04/18 00:24:19 653 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:24:19 653 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 653 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 654 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:24:19 654 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 654 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 655 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:24:19 656 [info]:  >> Connection 반납됨 [threaId=23]
23/04/18 00:24:19 656 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 00:24:19 657 [debug]: --------------------------------------------------
23/04/18 00:24:19 657 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 658 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 658 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:24:19 659 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 660 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
                ORDER' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:24:19 661 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 53ms
23/04/18 00:24:19 661 [debug]: --------------------------------------------------
23/04/18 00:24:19 663 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:24:19 663 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:24:19 663 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:24:19 664 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 665 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:24:19 665 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 666 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 666 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:24:19 666 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 667 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 667 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:24:19 667 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 668 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 668 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:24:19 668 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 669 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 669 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:24:19 670 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 670 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 670 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:24:19 671 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 671 [info]:  >> Connection 임대됨 [threaId=25]
23/04/18 00:24:19 672 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:24:19 672 [info]:  >> Connection 반납됨 [threaId=25]
23/04/18 00:24:19 672 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
                ORDER' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:24:19 673 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:24:19 673 [debug]: --------------------------------------------------
23/04/18 00:26:47 629 [debug]: --------------------------------------------------
23/04/18 00:26:47 631 [debug]: |              Start Express Server              |
23/04/18 00:26:47 631 [debug]: --------------------------------------------------
23/04/18 00:26:47 632 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:26:47 632 [debug]: --------------------------------------------------
23/04/18 00:26:51 566 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:26:51 567 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:26:51 568 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:26:51 571 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:26:51 571 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:26:51 572 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:26:51 579 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:26:51 579 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:26:51 580 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:26:51 580 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:26:51 581 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:26:51 581 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:26:51 598 [info]:  >> DATABASE 접속됨 [threaId=29]
23/04/18 00:26:51 599 [info]:  >> Connection 임대됨 [threaId=29]
23/04/18 00:26:51 601 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:26:51 601 [info]:  >> DATABASE 접속됨 [threaId=28]
23/04/18 00:26:51 602 [info]:  >> Connection 임대됨 [threaId=28]
23/04/18 00:26:51 603 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:26:51 603 [info]:  >> DATABASE 접속됨 [threaId=30]
23/04/18 00:26:51 604 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 604 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:26:51 607 [info]:  >> Connection 반납됨 [threaId=29]
23/04/18 00:26:51 611 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 00:26:51 611 [debug]: --------------------------------------------------
23/04/18 00:26:51 612 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 612 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 613 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:26:51 614 [info]:  >> Connection 반납됨 [threaId=28]
23/04/18 00:26:51 614 [info]:  >> Connection 임대됨 [threaId=28]
23/04/18 00:26:51 614 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:26:51 615 [info]:  >> DATABASE 접속됨 [threaId=31]
23/04/18 00:26:51 615 [info]:  >> Connection 임대됨 [threaId=31]
23/04/18 00:26:51 616 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:26:51 616 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 617 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 617 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:26:51 617 [info]:  >> Connection 반납됨 [threaId=28]
23/04/18 00:26:51 618 [info]:  >> Connection 임대됨 [threaId=28]
23/04/18 00:26:51 618 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:26:51 619 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 619 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 619 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:26:51 620 [info]:  >> Connection 반납됨 [threaId=31]
23/04/18 00:26:51 621 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 00:26:51 621 [debug]: --------------------------------------------------
23/04/18 00:26:51 622 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 622 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 622 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:26:51 623 [info]:  >> Connection 반납됨 [threaId=28]
23/04/18 00:26:51 623 [info]:  >> Connection 임대됨 [threaId=28]
23/04/18 00:26:51 623 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:26:51 624 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 624 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 625 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:26:51 625 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 625 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 626 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:26:51 627 [info]:  >> Connection 반납됨 [threaId=28]
23/04/18 00:26:51 628 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 00:26:51 628 [debug]: --------------------------------------------------
23/04/18 00:26:51 629 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 629 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
                ORDER' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:26:51 630 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 51ms
23/04/18 00:26:51 630 [debug]: --------------------------------------------------
23/04/18 00:26:51 631 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:26:51 631 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:26:51 632 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:26:51 632 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 633 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:26:51 633 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 634 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 634 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:26:51 634 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 635 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 635 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:26:51 635 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 636 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 636 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:26:51 636 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 637 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 637 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:26:51 638 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 638 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 638 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:26:51 638 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 639 [info]:  >> Connection 임대됨 [threaId=30]
23/04/18 00:26:51 639 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:26:51 640 [info]:  >> Connection 반납됨 [threaId=30]
23/04/18 00:26:51 640 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
                ORDER' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:26:51 641 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:26:51 641 [debug]: --------------------------------------------------
23/04/18 00:27:08 318 [debug]: --------------------------------------------------
23/04/18 00:27:08 320 [debug]: |              Start Express Server              |
23/04/18 00:27:08 321 [debug]: --------------------------------------------------
23/04/18 00:27:08 321 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:27:08 321 [debug]: --------------------------------------------------
23/04/18 00:27:11 865 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:11 866 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:27:11 867 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:11 871 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:11 871 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:27:11 872 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:11 878 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:11 879 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:27:11 879 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:11 880 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:11 880 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:27:11 880 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:11 896 [info]:  >> DATABASE 접속됨 [threaId=34]
23/04/18 00:27:11 896 [info]:  >> Connection 임대됨 [threaId=34]
23/04/18 00:27:11 899 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:27:11 900 [info]:  >> DATABASE 접속됨 [threaId=33]
23/04/18 00:27:11 900 [info]:  >> Connection 임대됨 [threaId=33]
23/04/18 00:27:11 901 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:27:11 904 [info]:  >> Connection 반납됨 [threaId=34]
23/04/18 00:27:11 907 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 36ms
23/04/18 00:27:11 907 [debug]: --------------------------------------------------
23/04/18 00:27:11 908 [info]:  >> DATABASE 접속됨 [threaId=35]
23/04/18 00:27:11 908 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 909 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:27:11 910 [info]:  >> Connection 반납됨 [threaId=33]
23/04/18 00:27:11 910 [info]:  >> Connection 임대됨 [threaId=33]
23/04/18 00:27:11 910 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:27:11 911 [info]:  >> DATABASE 접속됨 [threaId=36]
23/04/18 00:27:11 911 [info]:  >> Connection 임대됨 [threaId=36]
23/04/18 00:27:11 911 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:27:11 912 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 913 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 913 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:27:11 914 [info]:  >> Connection 반납됨 [threaId=33]
23/04/18 00:27:11 914 [info]:  >> Connection 임대됨 [threaId=33]
23/04/18 00:27:11 915 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:27:11 915 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 915 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 916 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:27:11 917 [info]:  >> Connection 반납됨 [threaId=36]
23/04/18 00:27:11 917 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 37ms
23/04/18 00:27:11 917 [debug]: --------------------------------------------------
23/04/18 00:27:11 918 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 918 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 919 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:27:11 919 [info]:  >> Connection 반납됨 [threaId=33]
23/04/18 00:27:11 919 [info]:  >> Connection 임대됨 [threaId=33]
23/04/18 00:27:11 920 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:27:11 920 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 920 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 921 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:27:11 921 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 921 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 922 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:27:11 923 [info]:  >> Connection 반납됨 [threaId=33]
23/04/18 00:27:11 923 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 57ms
23/04/18 00:27:11 924 [debug]: --------------------------------------------------
23/04/18 00:27:11 924 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 924 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 925 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo       LIMIT 0, 30
23/04/18 00:27:11 926 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 926 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
        
           ' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:27:11 928 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 50ms
23/04/18 00:27:11 928 [debug]: --------------------------------------------------
23/04/18 00:27:11 929 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:11 929 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:27:11 929 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:11 930 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 931 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:27:11 932 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 932 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 932 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:27:11 932 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 933 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 933 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:27:11 934 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 934 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 934 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:27:11 935 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 935 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 935 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:27:11 936 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 936 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 936 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:27:11 937 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 937 [info]:  >> Connection 임대됨 [threaId=35]
23/04/18 00:27:11 937 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo       LIMIT 0, 30
23/04/18 00:27:11 938 [info]:  >> Connection 반납됨 [threaId=35]
23/04/18 00:27:11 938 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
        
           ' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:27:11 939 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:27:11 939 [debug]: --------------------------------------------------
23/04/18 00:27:34 386 [debug]: --------------------------------------------------
23/04/18 00:27:34 388 [debug]: |              Start Express Server              |
23/04/18 00:27:34 389 [debug]: --------------------------------------------------
23/04/18 00:27:34 389 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:27:34 389 [debug]: --------------------------------------------------
23/04/18 00:27:38 068 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:38 069 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:27:38 070 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:38 073 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:38 074 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:27:38 074 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:38 081 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:38 081 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:27:38 081 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:38 082 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:38 083 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:27:38 083 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:38 099 [info]:  >> DATABASE 접속됨 [threaId=39]
23/04/18 00:27:38 099 [info]:  >> Connection 임대됨 [threaId=39]
23/04/18 00:27:38 101 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:27:38 102 [info]:  >> DATABASE 접속됨 [threaId=38]
23/04/18 00:27:38 102 [info]:  >> Connection 임대됨 [threaId=38]
23/04/18 00:27:38 103 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:27:38 104 [info]:  >> DATABASE 접속됨 [threaId=41]
23/04/18 00:27:38 104 [info]:  >> Connection 임대됨 [threaId=41]
23/04/18 00:27:38 105 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:27:38 107 [info]:  >> Connection 반납됨 [threaId=39]
23/04/18 00:27:38 111 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 37ms
23/04/18 00:27:38 111 [debug]: --------------------------------------------------
23/04/18 00:27:38 111 [info]:  >> DATABASE 접속됨 [threaId=40]
23/04/18 00:27:38 112 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 112 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:27:38 113 [info]:  >> Connection 반납됨 [threaId=38]
23/04/18 00:27:38 113 [info]:  >> Connection 임대됨 [threaId=38]
23/04/18 00:27:38 114 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:27:38 115 [info]:  >> Connection 반납됨 [threaId=41]
23/04/18 00:27:38 116 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 00:27:38 116 [debug]: --------------------------------------------------
23/04/18 00:27:38 117 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 117 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 118 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:27:38 118 [info]:  >> Connection 반납됨 [threaId=38]
23/04/18 00:27:38 118 [info]:  >> Connection 임대됨 [threaId=38]
23/04/18 00:27:38 119 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:27:38 119 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 119 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 120 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:27:38 120 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 121 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 121 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:27:38 122 [info]:  >> Connection 반납됨 [threaId=38]
23/04/18 00:27:38 122 [info]:  >> Connection 임대됨 [threaId=38]
23/04/18 00:27:38 122 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:27:38 123 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 123 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 123 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:27:38 124 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 124 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 124 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:27:38 125 [info]:  >> Connection 반납됨 [threaId=38]
23/04/18 00:27:38 126 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 57ms
23/04/18 00:27:38 126 [debug]: --------------------------------------------------
23/04/18 00:27:38 127 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 127 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 128 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r     INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:27:38 129 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 130 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 49ms
23/04/18 00:27:38 130 [debug]: --------------------------------------------------
23/04/18 00:27:38 131 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:27:38 131 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:27:38 131 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:27:38 133 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 133 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:27:38 134 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 134 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 135 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:27:38 135 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 135 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 136 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:27:38 136 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 137 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 137 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:27:38 137 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 138 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 138 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:27:38 138 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 139 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 139 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:27:38 139 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 139 [info]:  >> Connection 임대됨 [threaId=40]
23/04/18 00:27:38 140 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r     INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:27:38 141 [info]:  >> Connection 반납됨 [threaId=40]
23/04/18 00:27:38 141 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:27:38 142 [debug]: --------------------------------------------------
23/04/18 00:28:01 610 [debug]: --------------------------------------------------
23/04/18 00:28:01 612 [debug]: |              Start Express Server              |
23/04/18 00:28:01 613 [debug]: --------------------------------------------------
23/04/18 00:28:01 613 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:28:01 614 [debug]: --------------------------------------------------
23/04/18 00:28:03 565 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:03 566 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:28:03 566 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:03 570 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:03 571 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:28:03 571 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:03 579 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:03 579 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:28:03 580 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:03 581 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:03 581 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:28:03 581 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:03 598 [info]:  >> DATABASE 접속됨 [threaId=43]
23/04/18 00:28:03 599 [info]:  >> Connection 임대됨 [threaId=43]
23/04/18 00:28:03 601 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:03 602 [info]:  >> DATABASE 접속됨 [threaId=44]
23/04/18 00:28:03 602 [info]:  >> Connection 임대됨 [threaId=44]
23/04/18 00:28:03 603 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:28:03 606 [info]:  >> Connection 반납됨 [threaId=44]
23/04/18 00:28:03 609 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 00:28:03 609 [debug]: --------------------------------------------------
23/04/18 00:28:03 610 [info]:  >> Connection 반납됨 [threaId=43]
23/04/18 00:28:03 611 [info]:  >> Connection 임대됨 [threaId=43]
23/04/18 00:28:03 611 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:03 612 [info]:  >> DATABASE 접속됨 [threaId=45]
23/04/18 00:28:03 612 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 613 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:28:03 614 [info]:  >> DATABASE 접속됨 [threaId=46]
23/04/18 00:28:03 614 [info]:  >> Connection 임대됨 [threaId=46]
23/04/18 00:28:03 614 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:28:03 615 [info]:  >> Connection 반납됨 [threaId=43]
23/04/18 00:28:03 615 [info]:  >> Connection 임대됨 [threaId=43]
23/04/18 00:28:03 616 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:03 616 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 617 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 618 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:28:03 618 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 618 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 619 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:28:03 620 [info]:  >> Connection 반납됨 [threaId=46]
23/04/18 00:28:03 621 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 00:28:03 621 [debug]: --------------------------------------------------
23/04/18 00:28:03 621 [info]:  >> Connection 반납됨 [threaId=43]
23/04/18 00:28:03 622 [info]:  >> Connection 임대됨 [threaId=43]
23/04/18 00:28:03 622 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:28:03 623 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 623 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 623 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:28:03 624 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 624 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 624 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:28:03 625 [info]:  >> Connection 반납됨 [threaId=43]
23/04/18 00:28:03 626 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 00:28:03 626 [debug]: --------------------------------------------------
23/04/18 00:28:03 627 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 627 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 628 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:28:03 628 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 629 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 630 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r     INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:28:03 631 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 631 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 52ms
23/04/18 00:28:03 632 [debug]: --------------------------------------------------
23/04/18 00:28:03 632 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:03 633 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:28:03 633 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:03 634 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 635 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:28:03 635 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 636 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 636 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:28:03 637 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 637 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 638 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:28:03 638 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 638 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 639 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:28:03 639 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 639 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 640 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:28:03 640 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 641 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 641 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:28:03 641 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 642 [info]:  >> Connection 임대됨 [threaId=45]
23/04/18 00:28:03 642 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r     INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:28:03 643 [info]:  >> Connection 반납됨 [threaId=45]
23/04/18 00:28:03 644 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 00:28:03 644 [debug]: --------------------------------------------------
23/04/18 00:28:13 301 [debug]: --------------------------------------------------
23/04/18 00:28:13 304 [debug]: |              Start Express Server              |
23/04/18 00:28:13 304 [debug]: --------------------------------------------------
23/04/18 00:28:13 305 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:28:13 305 [debug]: --------------------------------------------------
23/04/18 00:28:13 516 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:13 517 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:28:13 518 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:13 535 [info]:  >> DATABASE 접속됨 [threaId=48]
23/04/18 00:28:13 535 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 538 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:13 541 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 542 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 542 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:13 544 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 544 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 545 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:13 546 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 546 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 546 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:28:13 548 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 551 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 00:28:13 551 [debug]: --------------------------------------------------
23/04/18 00:28:13 554 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:13 554 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:28:13 554 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:13 556 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 557 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:28:13 558 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 559 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 5ms
23/04/18 00:28:13 559 [debug]: --------------------------------------------------
23/04/18 00:28:13 560 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:13 561 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:28:13 561 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:13 563 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 564 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:28:13 565 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:13 565 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:28:13 565 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:13 566 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 566 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 567 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:28:13 567 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 567 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 568 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:28:13 570 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 570 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 570 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:28:13 571 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 571 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 571 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:28:13 572 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 572 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 572 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:28:13 573 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 574 [info]:  >> Connection 임대됨 [threaId=48]
23/04/18 00:28:13 574 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r     INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:28:13 575 [info]:  >> Connection 반납됨 [threaId=48]
23/04/18 00:28:13 576 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 15ms
23/04/18 00:28:13 576 [debug]: --------------------------------------------------
23/04/18 00:28:13 576 [info]:  >> DATABASE 접속됨 [threaId=49]
23/04/18 00:28:13 576 [info]:  >> Connection 임대됨 [threaId=49]
23/04/18 00:28:13 577 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:28:13 578 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:13 578 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:28:13 578 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:13 579 [info]:  >> Connection 반납됨 [threaId=49]
23/04/18 00:28:13 580 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 15ms
23/04/18 00:28:13 580 [debug]: --------------------------------------------------
23/04/18 00:28:13 581 [info]:  >> Connection 임대됨 [threaId=49]
23/04/18 00:28:13 581 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:28:13 582 [info]:  >> Connection 반납됨 [threaId=49]
23/04/18 00:28:13 582 [info]:  >> Connection 임대됨 [threaId=49]
23/04/18 00:28:13 582 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:28:13 583 [info]:  >> Connection 반납됨 [threaId=49]
23/04/18 00:28:13 583 [info]:  >> Connection 임대됨 [threaId=49]
23/04/18 00:28:13 584 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:28:13 584 [info]:  >> Connection 반납됨 [threaId=49]
23/04/18 00:28:13 584 [info]:  >> Connection 임대됨 [threaId=49]
23/04/18 00:28:13 585 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:28:13 585 [info]:  >> Connection 반납됨 [threaId=49]
23/04/18 00:28:13 585 [info]:  >> Connection 임대됨 [threaId=49]
23/04/18 00:28:13 586 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:28:13 586 [info]:  >> Connection 반납됨 [threaId=49]
23/04/18 00:28:13 587 [info]:  >> Connection 임대됨 [threaId=49]
23/04/18 00:28:13 587 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:28:13 587 [info]:  >> Connection 반납됨 [threaId=49]
23/04/18 00:28:13 588 [info]:  >> Connection 임대됨 [threaId=49]
23/04/18 00:28:13 588 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r     INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:28:13 589 [info]:  >> Connection 반납됨 [threaId=49]
23/04/18 00:28:13 589 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 00:28:13 590 [debug]: --------------------------------------------------
23/04/18 00:28:29 429 [debug]: --------------------------------------------------
23/04/18 00:28:29 431 [debug]: |              Start Express Server              |
23/04/18 00:28:29 431 [debug]: --------------------------------------------------
23/04/18 00:28:29 431 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:28:29 432 [debug]: --------------------------------------------------
23/04/18 00:28:33 480 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:33 481 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:28:33 481 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:33 486 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:33 487 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:28:33 487 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:33 495 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:33 496 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:28:33 496 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:33 497 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:33 497 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:28:33 497 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:33 516 [info]:  >> DATABASE 접속됨 [threaId=51]
23/04/18 00:28:33 517 [info]:  >> Connection 임대됨 [threaId=51]
23/04/18 00:28:33 519 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:33 520 [info]:  >> DATABASE 접속됨 [threaId=52]
23/04/18 00:28:33 520 [info]:  >> Connection 임대됨 [threaId=52]
23/04/18 00:28:33 521 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:28:33 521 [info]:  >> DATABASE 접속됨 [threaId=53]
23/04/18 00:28:33 521 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 522 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:28:33 525 [info]:  >> Connection 반납됨 [threaId=51]
23/04/18 00:28:33 526 [info]:  >> Connection 임대됨 [threaId=51]
23/04/18 00:28:33 526 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:33 527 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 527 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 528 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:28:33 529 [info]:  >> DATABASE 접속됨 [threaId=54]
23/04/18 00:28:33 529 [info]:  >> Connection 임대됨 [threaId=54]
23/04/18 00:28:33 529 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:28:33 531 [info]:  >> Connection 반납됨 [threaId=52]
23/04/18 00:28:33 534 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 47ms
23/04/18 00:28:33 534 [debug]: --------------------------------------------------
23/04/18 00:28:33 535 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 535 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 536 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:28:33 536 [info]:  >> Connection 반납됨 [threaId=51]
23/04/18 00:28:33 537 [info]:  >> Connection 임대됨 [threaId=51]
23/04/18 00:28:33 537 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:33 539 [info]:  >> Connection 반납됨 [threaId=54]
23/04/18 00:28:33 539 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 42ms
23/04/18 00:28:33 540 [debug]: --------------------------------------------------
23/04/18 00:28:33 540 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 540 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 541 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:28:33 541 [info]:  >> Connection 반납됨 [threaId=51]
23/04/18 00:28:33 542 [info]:  >> Connection 임대됨 [threaId=51]
23/04/18 00:28:33 542 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:28:33 543 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 543 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 544 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:28:33 545 [info]:  >> Connection 반납됨 [threaId=51]
23/04/18 00:28:33 545 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 64ms
23/04/18 00:28:33 545 [debug]: --------------------------------------------------
23/04/18 00:28:33 546 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 546 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 547 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:28:33 547 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 547 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 548 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:28:33 549 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 550 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
                ORDER' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:28:33 551 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 56ms
23/04/18 00:28:33 551 [debug]: --------------------------------------------------
23/04/18 00:28:33 552 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:33 552 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:28:33 553 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:33 554 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 554 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:28:33 555 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 555 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 555 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:28:33 555 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 556 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 556 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:28:33 557 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 557 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 557 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:28:33 558 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 558 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 558 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:28:33 559 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 559 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 559 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:28:33 560 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 560 [info]:  >> Connection 임대됨 [threaId=53]
23/04/18 00:28:33 560 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r   WHERE  bookNo LIKE concat('%', '1', '%')    INNER JOIN user as u where r.userNo = u.userNo     ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:28:33 561 [info]:  >> Connection 반납됨 [threaId=53]
23/04/18 00:28:33 561 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INNER JOIN user as u where r.userNo = u.userNo 
        
                ORDER' at line 5
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:28:33 562 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:28:33 562 [debug]: --------------------------------------------------
23/04/18 00:28:43 770 [debug]: --------------------------------------------------
23/04/18 00:28:43 773 [debug]: |              Start Express Server              |
23/04/18 00:28:43 773 [debug]: --------------------------------------------------
23/04/18 00:28:43 773 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:28:43 774 [debug]: --------------------------------------------------
23/04/18 00:28:47 736 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:47 737 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:28:47 737 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:47 741 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:47 741 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:28:47 742 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:47 749 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:47 749 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:28:47 749 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:47 750 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:47 751 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:28:47 751 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:47 768 [info]:  >> DATABASE 접속됨 [threaId=57]
23/04/18 00:28:47 769 [info]:  >> Connection 임대됨 [threaId=57]
23/04/18 00:28:47 770 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:28:47 771 [info]:  >> DATABASE 접속됨 [threaId=56]
23/04/18 00:28:47 771 [info]:  >> Connection 임대됨 [threaId=56]
23/04/18 00:28:47 773 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:47 776 [info]:  >> Connection 반납됨 [threaId=57]
23/04/18 00:28:47 778 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 37ms
23/04/18 00:28:47 779 [debug]: --------------------------------------------------
23/04/18 00:28:47 779 [info]:  >> DATABASE 접속됨 [threaId=58]
23/04/18 00:28:47 780 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 780 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:28:47 781 [info]:  >> DATABASE 접속됨 [threaId=59]
23/04/18 00:28:47 781 [info]:  >> Connection 임대됨 [threaId=59]
23/04/18 00:28:47 781 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:28:47 782 [info]:  >> Connection 반납됨 [threaId=56]
23/04/18 00:28:47 783 [info]:  >> Connection 임대됨 [threaId=56]
23/04/18 00:28:47 783 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:47 784 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 784 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 785 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:28:47 786 [info]:  >> Connection 반납됨 [threaId=59]
23/04/18 00:28:47 786 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 35ms
23/04/18 00:28:47 787 [debug]: --------------------------------------------------
23/04/18 00:28:47 787 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 788 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 788 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:28:47 789 [info]:  >> Connection 반납됨 [threaId=56]
23/04/18 00:28:47 789 [info]:  >> Connection 임대됨 [threaId=56]
23/04/18 00:28:47 790 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:28:47 790 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 790 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 791 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:28:47 791 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 791 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 792 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:28:47 792 [info]:  >> Connection 반납됨 [threaId=56]
23/04/18 00:28:47 792 [info]:  >> Connection 임대됨 [threaId=56]
23/04/18 00:28:47 793 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:28:47 793 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 793 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 794 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:28:47 795 [info]:  >> Connection 반납됨 [threaId=56]
23/04/18 00:28:47 796 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 59ms
23/04/18 00:28:47 796 [debug]: --------------------------------------------------
23/04/18 00:28:47 796 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 797 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 797 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u where r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:28:47 798 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 798 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE  bookNo LIKE concat('%', '1', '%')
              
                ORDER ' at line 3
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:28:47 799 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 50ms
23/04/18 00:28:47 800 [debug]: --------------------------------------------------
23/04/18 00:28:47 800 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:28:47 801 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:28:47 801 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:28:47 802 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 802 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:28:47 803 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 803 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 803 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:28:47 804 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 804 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 804 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:28:47 805 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 805 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 805 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:28:47 806 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 806 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 806 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:28:47 806 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 807 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 807 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:28:47 807 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 808 [info]:  >> Connection 임대됨 [threaId=58]
23/04/18 00:28:47 808 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u where r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:28:47 808 [info]:  >> Connection 반납됨 [threaId=58]
23/04/18 00:28:47 809 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE  bookNo LIKE concat('%', '1', '%')
              
                ORDER ' at line 3
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:28:47 810 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 00:28:47 810 [debug]: --------------------------------------------------
23/04/18 00:28:58 801 [debug]: --------------------------------------------------
23/04/18 00:28:58 803 [debug]: |              Start Express Server              |
23/04/18 00:28:58 803 [debug]: --------------------------------------------------
23/04/18 00:28:58 804 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:28:58 804 [debug]: --------------------------------------------------
23/04/18 00:29:03 648 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:03 649 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:29:03 649 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:03 653 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:03 653 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:29:03 654 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:03 655 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:03 655 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:29:03 656 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:03 663 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:03 664 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:29:03 664 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:03 682 [info]:  >> DATABASE 접속됨 [threaId=61]
23/04/18 00:29:03 683 [info]:  >> Connection 임대됨 [threaId=61]
23/04/18 00:29:03 685 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:29:03 685 [info]:  >> DATABASE 접속됨 [threaId=62]
23/04/18 00:29:03 686 [info]:  >> Connection 임대됨 [threaId=62]
23/04/18 00:29:03 687 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:29:03 687 [info]:  >> DATABASE 접속됨 [threaId=63]
23/04/18 00:29:03 688 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 689 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:29:03 691 [info]:  >> Connection 반납됨 [threaId=61]
23/04/18 00:29:03 692 [info]:  >> Connection 임대됨 [threaId=61]
23/04/18 00:29:03 692 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:29:03 693 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 693 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 694 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:29:03 695 [info]:  >> Connection 반납됨 [threaId=62]
23/04/18 00:29:03 698 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 45ms
23/04/18 00:29:03 698 [debug]: --------------------------------------------------
23/04/18 00:29:03 699 [info]:  >> DATABASE 접속됨 [threaId=64]
23/04/18 00:29:03 699 [info]:  >> Connection 임대됨 [threaId=64]
23/04/18 00:29:03 700 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:29:03 700 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 701 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 701 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:29:03 701 [info]:  >> Connection 반납됨 [threaId=61]
23/04/18 00:29:03 702 [info]:  >> Connection 임대됨 [threaId=61]
23/04/18 00:29:03 702 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:29:03 703 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 703 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 704 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:29:03 705 [info]:  >> Connection 반납됨 [threaId=64]
23/04/18 00:29:03 705 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 41ms
23/04/18 00:29:03 705 [debug]: --------------------------------------------------
23/04/18 00:29:03 706 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 706 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 707 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:29:03 707 [info]:  >> Connection 반납됨 [threaId=61]
23/04/18 00:29:03 707 [info]:  >> Connection 임대됨 [threaId=61]
23/04/18 00:29:03 708 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:29:03 708 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 708 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 709 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:29:03 709 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 710 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 711 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u where r.userNo = u.userNo   WHERE     bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:29:03 712 [info]:  >> Connection 반납됨 [threaId=61]
23/04/18 00:29:03 712 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 64ms
23/04/18 00:29:03 712 [debug]: --------------------------------------------------
23/04/18 00:29:03 713 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 713 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE 
            
                bookNo LIKE concat('%', '1', '%')
       ' at line 3
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:29:03 715 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 00:29:03 715 [debug]: --------------------------------------------------
23/04/18 00:29:03 716 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:03 716 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:29:03 716 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:03 717 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 718 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:29:03 718 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 718 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 719 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:29:03 719 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 719 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 719 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:29:03 720 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 720 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 720 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:29:03 721 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 721 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 721 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:29:03 722 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 722 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 722 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:29:03 723 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 723 [info]:  >> Connection 임대됨 [threaId=63]
23/04/18 00:29:03 723 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u where r.userNo = u.userNo   WHERE     bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:29:03 724 [info]:  >> Connection 반납됨 [threaId=63]
23/04/18 00:29:03 724 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE 
            
                bookNo LIKE concat('%', '1', '%')
       ' at line 3
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:29:03 725 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 00:29:03 725 [debug]: --------------------------------------------------
23/04/18 00:29:20 242 [debug]: --------------------------------------------------
23/04/18 00:29:20 244 [debug]: |              Start Express Server              |
23/04/18 00:29:20 244 [debug]: --------------------------------------------------
23/04/18 00:29:20 245 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:29:20 245 [debug]: --------------------------------------------------
23/04/18 00:29:24 959 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:24 960 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:29:24 960 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:24 964 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:24 964 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:29:24 964 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:24 971 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:24 972 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:29:24 972 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:24 973 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:24 974 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:29:24 974 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:24 990 [info]:  >> DATABASE 접속됨 [threaId=67]
23/04/18 00:29:24 991 [info]:  >> Connection 임대됨 [threaId=67]
23/04/18 00:29:24 992 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:29:24 993 [info]:  >> DATABASE 접속됨 [threaId=66]
23/04/18 00:29:24 994 [info]:  >> Connection 임대됨 [threaId=66]
23/04/18 00:29:24 995 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:29:24 997 [info]:  >> Connection 반납됨 [threaId=67]
23/04/18 00:29:25 000 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 36ms
23/04/18 00:29:25 000 [debug]: --------------------------------------------------
23/04/18 00:29:25 001 [info]:  >> DATABASE 접속됨 [threaId=68]
23/04/18 00:29:25 001 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 002 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:29:25 003 [info]:  >> Connection 반납됨 [threaId=66]
23/04/18 00:29:25 003 [info]:  >> Connection 임대됨 [threaId=66]
23/04/18 00:29:25 004 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:29:25 005 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 005 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 006 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:29:25 006 [info]:  >> DATABASE 접속됨 [threaId=69]
23/04/18 00:29:25 006 [info]:  >> Connection 임대됨 [threaId=69]
23/04/18 00:29:25 006 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:29:25 007 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 007 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 008 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:29:25 008 [info]:  >> Connection 반납됨 [threaId=66]
23/04/18 00:29:25 008 [info]:  >> Connection 임대됨 [threaId=66]
23/04/18 00:29:25 009 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:29:25 009 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 010 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 010 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:29:25 011 [info]:  >> Connection 반납됨 [threaId=69]
23/04/18 00:29:25 011 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 37ms
23/04/18 00:29:25 012 [debug]: --------------------------------------------------
23/04/18 00:29:25 012 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 012 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 013 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:29:25 013 [info]:  >> Connection 반납됨 [threaId=66]
23/04/18 00:29:25 013 [info]:  >> Connection 임대됨 [threaId=66]
23/04/18 00:29:25 014 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:29:25 014 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 015 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 016 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:29:25 018 [info]:  >> Connection 반납됨 [threaId=66]
23/04/18 00:29:25 019 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 00:29:25 020 [debug]: --------------------------------------------------
23/04/18 00:29:25 021 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 023 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 026 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u where r.userNo = u.userNo       ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:29:25 028 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 030 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 58ms
23/04/18 00:29:25 032 [debug]: --------------------------------------------------
23/04/18 00:29:25 033 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:29:25 034 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:29:25 034 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:29:25 035 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 036 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:29:25 036 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 037 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 037 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:29:25 038 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 038 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 038 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:29:25 039 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 039 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 039 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:29:25 040 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 040 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 041 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:29:25 041 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 041 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 042 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:29:25 042 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 042 [info]:  >> Connection 임대됨 [threaId=68]
23/04/18 00:29:25 043 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u where r.userNo = u.userNo       ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:29:25 044 [info]:  >> Connection 반납됨 [threaId=68]
23/04/18 00:29:25 044 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:29:25 044 [debug]: --------------------------------------------------
23/04/18 00:31:21 566 [debug]: --------------------------------------------------
23/04/18 00:31:21 568 [debug]: |              Start Express Server              |
23/04/18 00:31:21 568 [debug]: --------------------------------------------------
23/04/18 00:31:21 569 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:31:21 569 [debug]: --------------------------------------------------
23/04/18 00:31:25 174 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:31:25 175 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:31:25 175 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:31:25 179 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:31:25 179 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:31:25 179 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:31:25 186 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:31:25 186 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:31:25 187 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:31:25 188 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:31:25 188 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:31:25 188 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:31:25 204 [info]:  >> DATABASE 접속됨 [threaId=71]
23/04/18 00:31:25 204 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 207 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:31:25 208 [info]:  >> DATABASE 접속됨 [threaId=72]
23/04/18 00:31:25 208 [info]:  >> Connection 임대됨 [threaId=72]
23/04/18 00:31:25 209 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:31:25 209 [info]:  >> DATABASE 접속됨 [threaId=73]
23/04/18 00:31:25 209 [info]:  >> Connection 임대됨 [threaId=73]
23/04/18 00:31:25 210 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:31:25 210 [info]:  >> DATABASE 접속됨 [threaId=74]
23/04/18 00:31:25 210 [info]:  >> Connection 임대됨 [threaId=74]
23/04/18 00:31:25 211 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:31:25 213 [info]:  >> Connection 반납됨 [threaId=72]
23/04/18 00:31:25 216 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 37ms
23/04/18 00:31:25 216 [debug]: --------------------------------------------------
23/04/18 00:31:25 217 [info]:  >> Connection 반납됨 [threaId=73]
23/04/18 00:31:25 217 [info]:  >> Connection 임대됨 [threaId=73]
23/04/18 00:31:25 218 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:31:25 219 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 219 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 220 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:31:25 220 [info]:  >> Connection 반납됨 [threaId=73]
23/04/18 00:31:25 220 [info]:  >> Connection 임대됨 [threaId=73]
23/04/18 00:31:25 221 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:31:25 222 [info]:  >> Connection 반납됨 [threaId=74]
23/04/18 00:31:25 223 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 35ms
23/04/18 00:31:25 223 [debug]: --------------------------------------------------
23/04/18 00:31:25 223 [info]:  >> Connection 반납됨 [threaId=73]
23/04/18 00:31:25 224 [info]:  >> Connection 임대됨 [threaId=73]
23/04/18 00:31:25 224 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:31:25 225 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 225 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 225 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:31:25 226 [info]:  >> Connection 반납됨 [threaId=73]
23/04/18 00:31:25 226 [info]:  >> Connection 임대됨 [threaId=73]
23/04/18 00:31:25 226 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:31:25 227 [info]:  >> Connection 반납됨 [threaId=73]
23/04/18 00:31:25 227 [info]:  >> Connection 임대됨 [threaId=73]
23/04/18 00:31:25 227 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:31:25 228 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 228 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 229 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:31:25 229 [info]:  >> Connection 반납됨 [threaId=73]
23/04/18 00:31:25 230 [info]:  >> Connection 임대됨 [threaId=73]
23/04/18 00:31:25 230 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u where r.userNo = u.userNo     where bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:31:25 231 [info]:  >> Connection 반납됨 [threaId=73]
23/04/18 00:31:25 231 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where bookNo LIKE concat('%', '1', '%')
         
                ORDER BY reg' at line 4
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:31:25 232 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 46ms
23/04/18 00:31:25 233 [debug]: --------------------------------------------------
23/04/18 00:31:25 233 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 234 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 00:31:25 234 [debug]: --------------------------------------------------
23/04/18 00:31:25 235 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:31:25 236 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:31:25 236 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:31:25 237 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 237 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:31:25 238 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 238 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 238 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:31:25 239 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 239 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 239 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:31:25 240 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 240 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 240 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:31:25 240 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 241 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 241 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:31:25 241 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 242 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 242 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:31:25 242 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 243 [info]:  >> Connection 임대됨 [threaId=71]
23/04/18 00:31:25 243 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u where r.userNo = u.userNo     where bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:31:25 244 [info]:  >> Connection 반납됨 [threaId=71]
23/04/18 00:31:25 244 [error]: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where bookNo LIKE concat('%', '1', '%')
         
                ORDER BY reg' at line 4
    at PromisePoolConnection.query (D:\projectlb2\node_modules\mysql2\promise.js:93:22)
    at ReviewService.getList (D:\projectlb2\server\services\ReviewService.js:24:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async D:\projectlb2\server\controllers\ReviewController.js:48:20
23/04/18 00:31:25 245 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 00:31:25 245 [debug]: --------------------------------------------------
23/04/18 00:32:19 120 [debug]: --------------------------------------------------
23/04/18 00:32:19 122 [debug]: |              Start Express Server              |
23/04/18 00:32:19 122 [debug]: --------------------------------------------------
23/04/18 00:32:19 123 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:32:19 123 [debug]: --------------------------------------------------
23/04/18 00:32:22 969 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:32:22 970 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:32:22 971 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:32:22 974 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:32:22 975 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:32:22 975 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:32:22 981 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:32:22 982 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:32:22 982 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:32:22 983 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:32:22 983 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:32:22 983 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:32:22 999 [info]:  >> DATABASE 접속됨 [threaId=76]
23/04/18 00:32:23 000 [info]:  >> Connection 임대됨 [threaId=76]
23/04/18 00:32:23 002 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:32:23 002 [info]:  >> DATABASE 접속됨 [threaId=77]
23/04/18 00:32:23 003 [info]:  >> Connection 임대됨 [threaId=77]
23/04/18 00:32:23 003 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:32:23 006 [info]:  >> Connection 반납됨 [threaId=77]
23/04/18 00:32:23 009 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 00:32:23 009 [debug]: --------------------------------------------------
23/04/18 00:32:23 011 [info]:  >> Connection 반납됨 [threaId=76]
23/04/18 00:32:23 011 [info]:  >> Connection 임대됨 [threaId=76]
23/04/18 00:32:23 012 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:32:23 012 [info]:  >> DATABASE 접속됨 [threaId=78]
23/04/18 00:32:23 012 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 013 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:32:23 014 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 014 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 015 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:32:23 015 [info]:  >> DATABASE 접속됨 [threaId=79]
23/04/18 00:32:23 015 [info]:  >> Connection 임대됨 [threaId=79]
23/04/18 00:32:23 016 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:32:23 016 [info]:  >> Connection 반납됨 [threaId=76]
23/04/18 00:32:23 017 [info]:  >> Connection 임대됨 [threaId=76]
23/04/18 00:32:23 018 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:32:23 018 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 019 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 020 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:32:23 021 [info]:  >> Connection 반납됨 [threaId=79]
23/04/18 00:32:23 022 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 00:32:23 022 [debug]: --------------------------------------------------
23/04/18 00:32:23 023 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 023 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 024 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:32:23 025 [info]:  >> Connection 반납됨 [threaId=76]
23/04/18 00:32:23 025 [info]:  >> Connection 임대됨 [threaId=76]
23/04/18 00:32:23 025 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:32:23 028 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 028 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 028 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:32:23 030 [info]:  >> Connection 반납됨 [threaId=76]
23/04/18 00:32:23 031 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 00:32:23 032 [debug]: --------------------------------------------------
23/04/18 00:32:23 036 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 037 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 038 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:32:23 039 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 039 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 040 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE     bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:32:23 041 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 042 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 00:32:23 043 [debug]: --------------------------------------------------
23/04/18 00:32:23 043 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:32:23 044 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:32:23 044 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:32:23 045 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 045 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:32:23 046 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 046 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 046 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:32:23 047 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 047 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 047 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:32:23 048 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 048 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 048 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:32:23 049 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 049 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 049 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:32:23 050 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 050 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 051 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:32:23 051 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 051 [info]:  >> Connection 임대됨 [threaId=78]
23/04/18 00:32:23 052 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE     bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:32:23 052 [info]:  >> Connection 반납됨 [threaId=78]
23/04/18 00:32:23 053 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 00:32:23 054 [debug]: --------------------------------------------------
23/04/18 00:37:54 561 [debug]: --------------------------------------------------
23/04/18 00:37:54 563 [debug]: |              Start Express Server              |
23/04/18 00:37:54 564 [debug]: --------------------------------------------------
23/04/18 00:37:54 564 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:37:54 564 [debug]: --------------------------------------------------
23/04/18 00:37:56 456 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:37:56 457 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:37:56 458 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:37:56 461 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:37:56 462 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:37:56 462 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:37:56 470 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:37:56 471 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:37:56 471 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:37:56 472 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:37:56 473 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:37:56 473 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:37:56 493 [info]:  >> DATABASE 접속됨 [threaId=81]
23/04/18 00:37:56 493 [info]:  >> Connection 임대됨 [threaId=81]
23/04/18 00:37:56 496 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:37:56 497 [info]:  >> DATABASE 접속됨 [threaId=82]
23/04/18 00:37:56 497 [info]:  >> Connection 임대됨 [threaId=82]
23/04/18 00:37:56 497 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:37:56 498 [info]:  >> DATABASE 접속됨 [threaId=83]
23/04/18 00:37:56 498 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 499 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:37:56 501 [info]:  >> Connection 반납됨 [threaId=82]
23/04/18 00:37:56 505 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 43ms
23/04/18 00:37:56 505 [debug]: --------------------------------------------------
23/04/18 00:37:56 506 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 506 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 507 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:37:56 508 [info]:  >> DATABASE 접속됨 [threaId=84]
23/04/18 00:37:56 508 [info]:  >> Connection 임대됨 [threaId=84]
23/04/18 00:37:56 508 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:37:56 509 [info]:  >> Connection 반납됨 [threaId=81]
23/04/18 00:37:56 509 [info]:  >> Connection 임대됨 [threaId=81]
23/04/18 00:37:56 510 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:37:56 511 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 511 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 511 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:37:56 512 [info]:  >> Connection 반납됨 [threaId=84]
23/04/18 00:37:56 513 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 00:37:56 513 [debug]: --------------------------------------------------
23/04/18 00:37:56 514 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 514 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 515 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:37:56 515 [info]:  >> Connection 반납됨 [threaId=81]
23/04/18 00:37:56 516 [info]:  >> Connection 임대됨 [threaId=81]
23/04/18 00:37:56 516 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:37:56 517 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 517 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 518 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:37:56 518 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 518 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 519 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:37:56 519 [info]:  >> Connection 반납됨 [threaId=81]
23/04/18 00:37:56 520 [info]:  >> Connection 임대됨 [threaId=81]
23/04/18 00:37:56 520 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:37:56 521 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 521 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 522 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:37:56 524 [info]:  >> Connection 반납됨 [threaId=81]
23/04/18 00:37:56 524 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 67ms
23/04/18 00:37:56 524 [debug]: --------------------------------------------------
23/04/18 00:37:56 525 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 526 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 55ms
23/04/18 00:37:56 526 [debug]: --------------------------------------------------
23/04/18 00:37:56 527 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:37:56 527 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:37:56 528 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:37:56 529 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 530 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:37:56 530 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 530 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 531 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:37:56 531 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 531 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 532 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:37:56 532 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 532 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 533 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:37:56 533 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 533 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 534 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:37:56 534 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 534 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 535 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:37:56 535 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 536 [info]:  >> Connection 임대됨 [threaId=83]
23/04/18 00:37:56 536 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:37:56 537 [info]:  >> Connection 반납됨 [threaId=83]
23/04/18 00:37:56 537 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:37:56 537 [debug]: --------------------------------------------------
23/04/18 00:38:11 700 [debug]: --------------------------------------------------
23/04/18 00:38:11 702 [debug]: |              Start Express Server              |
23/04/18 00:38:11 702 [debug]: --------------------------------------------------
23/04/18 00:38:11 703 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:38:11 703 [debug]: --------------------------------------------------
23/04/18 00:38:50 190 [debug]: --------------------------------------------------
23/04/18 00:38:50 192 [debug]: |              Start Express Server              |
23/04/18 00:38:50 193 [debug]: --------------------------------------------------
23/04/18 00:38:50 193 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:38:50 193 [debug]: --------------------------------------------------
23/04/18 00:39:04 254 [debug]: --------------------------------------------------
23/04/18 00:39:04 257 [debug]: |              Start Express Server              |
23/04/18 00:39:04 257 [debug]: --------------------------------------------------
23/04/18 00:39:04 258 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:39:04 258 [debug]: --------------------------------------------------
23/04/18 00:39:15 545 [debug]: --------------------------------------------------
23/04/18 00:39:15 548 [debug]: |              Start Express Server              |
23/04/18 00:39:15 548 [debug]: --------------------------------------------------
23/04/18 00:39:15 549 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:39:15 549 [debug]: --------------------------------------------------
23/04/18 00:39:32 463 [debug]: --------------------------------------------------
23/04/18 00:39:32 465 [debug]: |              Start Express Server              |
23/04/18 00:39:32 466 [debug]: --------------------------------------------------
23/04/18 00:39:32 466 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:39:32 466 [debug]: --------------------------------------------------
23/04/18 00:39:35 357 [debug]: --------------------------------------------------
23/04/18 00:39:35 359 [debug]: |              Start Express Server              |
23/04/18 00:39:35 360 [debug]: --------------------------------------------------
23/04/18 00:39:35 360 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:39:35 361 [debug]: --------------------------------------------------
23/04/18 00:39:39 009 [debug]: --------------------------------------------------
23/04/18 00:39:39 011 [debug]: |              Start Express Server              |
23/04/18 00:39:39 011 [debug]: --------------------------------------------------
23/04/18 00:39:39 012 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:39:39 012 [debug]: --------------------------------------------------
23/04/18 00:39:39 567 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:39:39 569 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:39:39 569 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:39:39 575 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:39:39 575 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:39:39 576 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:39:39 585 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:39:39 586 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:39:39 586 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:39:39 588 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:39:39 588 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:39:39 588 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:39:39 625 [info]:  >> DATABASE 접속됨 [threaId=92]
23/04/18 00:39:39 626 [info]:  >> Connection 임대됨 [threaId=92]
23/04/18 00:39:39 630 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:39:39 634 [info]:  >> DATABASE 접속됨 [threaId=93]
23/04/18 00:39:39 635 [info]:  >> Connection 임대됨 [threaId=93]
23/04/18 00:39:39 636 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:39:39 640 [info]:  >> Connection 반납됨 [threaId=92]
23/04/18 00:39:39 640 [info]:  >> Connection 임대됨 [threaId=92]
23/04/18 00:39:39 641 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:39:39 644 [info]:  >> Connection 반납됨 [threaId=93]
23/04/18 00:39:39 648 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 73ms
23/04/18 00:39:39 649 [debug]: --------------------------------------------------
23/04/18 00:39:39 650 [info]:  >> DATABASE 접속됨 [threaId=95]
23/04/18 00:39:39 650 [info]:  >> Connection 임대됨 [threaId=95]
23/04/18 00:39:39 651 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:39:39 651 [info]:  >> DATABASE 접속됨 [threaId=94]
23/04/18 00:39:39 653 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 654 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:39:39 655 [info]:  >> Connection 반납됨 [threaId=92]
23/04/18 00:39:39 656 [info]:  >> Connection 임대됨 [threaId=92]
23/04/18 00:39:39 656 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:39:39 657 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 658 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 659 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:39:39 660 [info]:  >> Connection 반납됨 [threaId=95]
23/04/18 00:39:39 661 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 73ms
23/04/18 00:39:39 662 [debug]: --------------------------------------------------
23/04/18 00:39:39 662 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 662 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 663 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:39:39 664 [info]:  >> Connection 반납됨 [threaId=92]
23/04/18 00:39:39 664 [info]:  >> Connection 임대됨 [threaId=92]
23/04/18 00:39:39 665 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:39:39 666 [info]:  >> Connection 반납됨 [threaId=92]
23/04/18 00:39:39 668 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 99ms
23/04/18 00:39:39 668 [debug]: --------------------------------------------------
23/04/18 00:39:39 668 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 669 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 669 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:39:39 670 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 670 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 671 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:39:39 671 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 671 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 672 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:39:39 673 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 673 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 674 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:39:39 675 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 676 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 91ms
23/04/18 00:39:39 676 [debug]: --------------------------------------------------
23/04/18 00:39:39 677 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:39:39 677 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:39:39 678 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:39:39 679 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 679 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:39:39 680 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 680 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 681 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:39:39 681 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 682 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 682 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:39:39 683 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 683 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 683 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:39:39 684 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 684 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 684 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:39:39 685 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 685 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 686 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:39:39 686 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 686 [info]:  >> Connection 임대됨 [threaId=94]
23/04/18 00:39:39 687 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:39:39 688 [info]:  >> Connection 반납됨 [threaId=94]
23/04/18 00:39:39 688 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 00:39:39 688 [debug]: --------------------------------------------------
23/04/18 00:40:38 177 [debug]: --------------------------------------------------
23/04/18 00:40:38 179 [debug]: |              Start Express Server              |
23/04/18 00:40:38 180 [debug]: --------------------------------------------------
23/04/18 00:40:38 180 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:40:38 180 [debug]: --------------------------------------------------
23/04/18 00:40:47 263 [debug]: --------------------------------------------------
23/04/18 00:40:47 265 [debug]: |              Start Express Server              |
23/04/18 00:40:47 266 [debug]: --------------------------------------------------
23/04/18 00:40:47 266 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:40:47 267 [debug]: --------------------------------------------------
23/04/18 00:40:47 300 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:40:47 301 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:40:47 302 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:40:47 306 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:40:47 307 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:40:47 307 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:40:47 315 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:40:47 315 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:40:47 316 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:40:47 317 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:40:47 317 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:40:47 318 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:40:47 338 [info]:  >> DATABASE 접속됨 [threaId=99]
23/04/18 00:40:47 339 [info]:  >> Connection 임대됨 [threaId=99]
23/04/18 00:40:47 341 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:40:47 341 [info]:  >> DATABASE 접속됨 [threaId=98]
23/04/18 00:40:47 342 [info]:  >> Connection 임대됨 [threaId=98]
23/04/18 00:40:47 343 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:40:47 343 [info]:  >> DATABASE 접속됨 [threaId=100]
23/04/18 00:40:47 344 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 344 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:40:47 347 [info]:  >> Connection 반납됨 [threaId=99]
23/04/18 00:40:47 350 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 43ms
23/04/18 00:40:47 350 [debug]: --------------------------------------------------
23/04/18 00:40:47 351 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 352 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 353 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:40:47 353 [info]:  >> Connection 반납됨 [threaId=98]
23/04/18 00:40:47 353 [info]:  >> Connection 임대됨 [threaId=98]
23/04/18 00:40:47 354 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:40:47 354 [info]:  >> DATABASE 접속됨 [threaId=101]
23/04/18 00:40:47 355 [info]:  >> Connection 임대됨 [threaId=101]
23/04/18 00:40:47 355 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:40:47 356 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 356 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 357 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:40:47 357 [info]:  >> Connection 반납됨 [threaId=98]
23/04/18 00:40:47 357 [info]:  >> Connection 임대됨 [threaId=98]
23/04/18 00:40:47 358 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:40:47 358 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 359 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 359 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:40:47 360 [info]:  >> Connection 반납됨 [threaId=101]
23/04/18 00:40:47 361 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 44ms
23/04/18 00:40:47 361 [debug]: --------------------------------------------------
23/04/18 00:40:47 361 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 362 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 362 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:40:47 363 [info]:  >> Connection 반납됨 [threaId=98]
23/04/18 00:40:47 363 [info]:  >> Connection 임대됨 [threaId=98]
23/04/18 00:40:47 364 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:40:47 364 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 364 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 365 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:40:47 366 [info]:  >> Connection 반납됨 [threaId=98]
23/04/18 00:40:47 366 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 65ms
23/04/18 00:40:47 367 [debug]: --------------------------------------------------
23/04/18 00:40:47 367 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 368 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 368 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:40:47 369 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 370 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 55ms
23/04/18 00:40:47 370 [debug]: --------------------------------------------------
23/04/18 00:40:47 371 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:40:47 371 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:40:47 372 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:40:47 372 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 373 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:40:47 373 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 374 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 374 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:40:47 375 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 375 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 375 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:40:47 376 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 376 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 376 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:40:47 377 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 377 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 378 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:40:47 378 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 378 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 378 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:40:47 379 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 379 [info]:  >> Connection 임대됨 [threaId=100]
23/04/18 00:40:47 380 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:40:47 380 [info]:  >> Connection 반납됨 [threaId=100]
23/04/18 00:40:47 381 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:40:47 381 [debug]: --------------------------------------------------
23/04/18 00:41:12 442 [debug]: --------------------------------------------------
23/04/18 00:41:12 444 [debug]: |              Start Express Server              |
23/04/18 00:41:12 445 [debug]: --------------------------------------------------
23/04/18 00:41:12 445 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:41:12 445 [debug]: --------------------------------------------------
23/04/18 00:41:13 721 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:13 723 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:41:13 723 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:13 728 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:13 729 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:41:13 729 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:13 731 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:13 732 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:41:13 732 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:13 740 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:13 740 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:41:13 741 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:13 756 [info]:  >> DATABASE 접속됨 [threaId=104]
23/04/18 00:41:13 756 [info]:  >> Connection 임대됨 [threaId=104]
23/04/18 00:41:13 758 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:41:13 758 [info]:  >> DATABASE 접속됨 [threaId=105]
23/04/18 00:41:13 758 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 760 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:41:13 760 [info]:  >> DATABASE 접속됨 [threaId=103]
23/04/18 00:41:13 761 [info]:  >> Connection 임대됨 [threaId=103]
23/04/18 00:41:13 761 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:13 764 [info]:  >> Connection 반납됨 [threaId=104]
23/04/18 00:41:13 767 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 00:41:13 767 [debug]: --------------------------------------------------
23/04/18 00:41:13 768 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 769 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 770 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:41:13 771 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 771 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 772 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:41:13 772 [info]:  >> Connection 반납됨 [threaId=103]
23/04/18 00:41:13 773 [info]:  >> Connection 임대됨 [threaId=103]
23/04/18 00:41:13 773 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:13 774 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 774 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 774 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:41:13 775 [info]:  >> DATABASE 접속됨 [threaId=106]
23/04/18 00:41:13 775 [info]:  >> Connection 임대됨 [threaId=106]
23/04/18 00:41:13 775 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:41:13 776 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 776 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 776 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:41:13 777 [info]:  >> Connection 반납됨 [threaId=103]
23/04/18 00:41:13 777 [info]:  >> Connection 임대됨 [threaId=103]
23/04/18 00:41:13 778 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:13 778 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 778 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 779 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:41:13 779 [info]:  >> Connection 반납됨 [threaId=106]
23/04/18 00:41:13 780 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 00:41:13 780 [debug]: --------------------------------------------------
23/04/18 00:41:13 781 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 781 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 782 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:41:13 782 [info]:  >> Connection 반납됨 [threaId=103]
23/04/18 00:41:13 782 [info]:  >> Connection 임대됨 [threaId=103]
23/04/18 00:41:13 783 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:41:13 784 [info]:  >> Connection 반납됨 [threaId=103]
23/04/18 00:41:13 785 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 63ms
23/04/18 00:41:13 785 [debug]: --------------------------------------------------
23/04/18 00:41:13 786 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 787 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 55ms
23/04/18 00:41:13 787 [debug]: --------------------------------------------------
23/04/18 00:41:13 788 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:13 788 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:41:13 789 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:13 790 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 790 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:41:13 791 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 791 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 792 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:41:13 792 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 792 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 793 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:41:13 793 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 794 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 794 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:41:13 794 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 795 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 795 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:41:13 795 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 796 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 796 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:41:13 796 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 796 [info]:  >> Connection 임대됨 [threaId=105]
23/04/18 00:41:13 797 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:41:13 798 [info]:  >> Connection 반납됨 [threaId=105]
23/04/18 00:41:13 799 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 00:41:13 799 [debug]: --------------------------------------------------
23/04/18 00:41:26 101 [debug]: --------------------------------------------------
23/04/18 00:41:26 103 [debug]: |              Start Express Server              |
23/04/18 00:41:26 104 [debug]: --------------------------------------------------
23/04/18 00:41:26 104 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:41:26 104 [debug]: --------------------------------------------------
23/04/18 00:41:26 578 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:26 579 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:41:26 579 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:26 584 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:26 584 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:41:26 585 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:26 593 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:26 593 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:41:26 593 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:26 594 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:26 595 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:41:26 595 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:26 612 [info]:  >> DATABASE 접속됨 [threaId=109]
23/04/18 00:41:26 612 [info]:  >> Connection 임대됨 [threaId=109]
23/04/18 00:41:26 613 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:41:26 614 [info]:  >> DATABASE 접속됨 [threaId=108]
23/04/18 00:41:26 614 [info]:  >> Connection 임대됨 [threaId=108]
23/04/18 00:41:26 616 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:26 619 [info]:  >> Connection 반납됨 [threaId=109]
23/04/18 00:41:26 623 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 00:41:26 624 [debug]: --------------------------------------------------
23/04/18 00:41:26 624 [info]:  >> DATABASE 접속됨 [threaId=110]
23/04/18 00:41:26 625 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 626 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:41:26 626 [info]:  >> DATABASE 접속됨 [threaId=111]
23/04/18 00:41:26 627 [info]:  >> Connection 임대됨 [threaId=111]
23/04/18 00:41:26 627 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:41:26 628 [info]:  >> Connection 반납됨 [threaId=108]
23/04/18 00:41:26 628 [info]:  >> Connection 임대됨 [threaId=108]
23/04/18 00:41:26 629 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:26 630 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 630 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 631 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:41:26 632 [info]:  >> Connection 반납됨 [threaId=111]
23/04/18 00:41:26 633 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 00:41:26 633 [debug]: --------------------------------------------------
23/04/18 00:41:26 634 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 634 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 635 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:41:26 635 [info]:  >> Connection 반납됨 [threaId=108]
23/04/18 00:41:26 635 [info]:  >> Connection 임대됨 [threaId=108]
23/04/18 00:41:26 636 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:26 637 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 637 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 637 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:41:26 638 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 638 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 638 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:41:26 639 [info]:  >> Connection 반납됨 [threaId=108]
23/04/18 00:41:26 639 [info]:  >> Connection 임대됨 [threaId=108]
23/04/18 00:41:26 640 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:41:26 640 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 640 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 641 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:41:26 642 [info]:  >> Connection 반납됨 [threaId=108]
23/04/18 00:41:26 642 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 64ms
23/04/18 00:41:26 642 [debug]: --------------------------------------------------
23/04/18 00:41:26 644 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 644 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 645 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:41:26 646 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 647 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 54ms
23/04/18 00:41:26 647 [debug]: --------------------------------------------------
23/04/18 00:41:26 648 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:26 648 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:41:26 648 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:26 649 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 650 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:41:26 651 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 651 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 652 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:41:26 652 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 652 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 653 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:41:26 653 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 654 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 654 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:41:26 654 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 655 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 655 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:41:26 656 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 656 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 656 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:41:26 657 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 657 [info]:  >> Connection 임대됨 [threaId=110]
23/04/18 00:41:26 658 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:41:26 658 [info]:  >> Connection 반납됨 [threaId=110]
23/04/18 00:41:26 659 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 00:41:26 659 [debug]: --------------------------------------------------
23/04/18 00:41:36 896 [debug]: --------------------------------------------------
23/04/18 00:41:36 898 [debug]: |              Start Express Server              |
23/04/18 00:41:36 898 [debug]: --------------------------------------------------
23/04/18 00:41:36 899 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:41:36 899 [debug]: --------------------------------------------------
23/04/18 00:41:37 062 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:37 063 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:41:37 064 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:37 067 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:37 068 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:41:37 068 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:37 070 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:37 070 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:41:37 070 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:37 071 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:37 071 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:41:37 071 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:37 092 [info]:  >> DATABASE 접속됨 [threaId=115]
23/04/18 00:41:37 093 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 095 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:41:37 095 [info]:  >> DATABASE 접속됨 [threaId=113]
23/04/18 00:41:37 096 [info]:  >> Connection 임대됨 [threaId=113]
23/04/18 00:41:37 096 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:37 097 [info]:  >> DATABASE 접속됨 [threaId=114]
23/04/18 00:41:37 097 [info]:  >> Connection 임대됨 [threaId=114]
23/04/18 00:41:37 097 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:41:37 100 [info]:  >> Connection 반납됨 [threaId=114]
23/04/18 00:41:37 103 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 35ms
23/04/18 00:41:37 103 [debug]: --------------------------------------------------
23/04/18 00:41:37 104 [info]:  >> DATABASE 접속됨 [threaId=116]
23/04/18 00:41:37 104 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:37 104 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:41:37 105 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 106 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 106 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:41:37 107 [info]:  >> Connection 반납됨 [threaId=113]
23/04/18 00:41:37 107 [info]:  >> Connection 임대됨 [threaId=113]
23/04/18 00:41:37 108 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:37 110 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 110 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 110 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:41:37 112 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:37 112 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 41ms
23/04/18 00:41:37 113 [debug]: --------------------------------------------------
23/04/18 00:41:37 113 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 113 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 114 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:41:37 115 [info]:  >> Connection 반납됨 [threaId=113]
23/04/18 00:41:37 115 [info]:  >> Connection 임대됨 [threaId=113]
23/04/18 00:41:37 116 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:37 116 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 117 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 117 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:41:37 118 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 118 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 118 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:41:37 119 [info]:  >> Connection 반납됨 [threaId=113]
23/04/18 00:41:37 119 [info]:  >> Connection 임대됨 [threaId=113]
23/04/18 00:41:37 120 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:41:37 120 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 121 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 121 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:41:37 123 [info]:  >> Connection 반납됨 [threaId=113]
23/04/18 00:41:37 123 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 00:41:37 124 [debug]: --------------------------------------------------
23/04/18 00:41:37 124 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 125 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 55ms
23/04/18 00:41:37 125 [debug]: --------------------------------------------------
23/04/18 00:41:37 126 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:37 126 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:41:37 127 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:37 128 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 128 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:41:37 129 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 129 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 129 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:41:37 130 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 130 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 131 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:41:37 131 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 131 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 132 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:41:37 132 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 132 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 133 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:41:37 133 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 133 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 134 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:41:37 134 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 135 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:37 135 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:41:37 136 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:37 137 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 00:41:37 137 [debug]: --------------------------------------------------
23/04/18 00:41:38 373 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:38 374 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:41:38 374 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:38 376 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:38 376 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:41:38 376 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:38 377 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:38 377 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:41:38 378 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:38 378 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:38 379 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:38 380 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:38 381 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:41:38 381 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:38 382 [info]:  >> Connection 임대됨 [threaId=113]
23/04/18 00:41:38 382 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:41:38 383 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 383 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:41:38 384 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:38 384 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:38 385 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:38 385 [info]:  >> Connection 임대됨 [threaId=114]
23/04/18 00:41:38 386 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:41:38 386 [info]:  >> Connection 반납됨 [threaId=113]
23/04/18 00:41:38 387 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 00:41:38 388 [debug]: --------------------------------------------------
23/04/18 00:41:38 388 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 389 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 389 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:41:38 390 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 390 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 390 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:41:38 391 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:38 391 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:38 391 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:41:38 392 [info]:  >> Connection 반납됨 [threaId=114]
23/04/18 00:41:38 392 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 00:41:38 392 [debug]: --------------------------------------------------
23/04/18 00:41:38 393 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 393 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 393 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:41:38 394 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:38 394 [info]:  >> Connection 임대됨 [threaId=115]
23/04/18 00:41:38 395 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:41:38 395 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 395 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 396 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:41:38 396 [info]:  >> Connection 반납됨 [threaId=115]
23/04/18 00:41:38 397 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 23ms
23/04/18 00:41:38 397 [debug]: --------------------------------------------------
23/04/18 00:41:38 397 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 398 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 398 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:41:38 398 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 399 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 399 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:41:38 399 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 400 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 23ms
23/04/18 00:41:38 400 [debug]: --------------------------------------------------
23/04/18 00:41:38 401 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:41:38 402 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:41:38 402 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:41:38 403 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 403 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:41:38 404 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 404 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 404 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:41:38 405 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 405 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 405 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:41:38 406 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 406 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 407 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:41:38 407 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 407 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 407 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:41:38 408 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 408 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 409 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:41:38 409 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 409 [info]:  >> Connection 임대됨 [threaId=116]
23/04/18 00:41:38 410 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:41:38 410 [info]:  >> Connection 반납됨 [threaId=116]
23/04/18 00:41:38 411 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 00:41:38 412 [debug]: --------------------------------------------------
23/04/18 00:42:03 480 [debug]: --------------------------------------------------
23/04/18 00:42:03 482 [debug]: |              Start Express Server              |
23/04/18 00:42:03 482 [debug]: --------------------------------------------------
23/04/18 00:42:03 483 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:42:03 483 [debug]: --------------------------------------------------
23/04/18 00:42:14 092 [debug]: --------------------------------------------------
23/04/18 00:42:14 094 [debug]: |              Start Express Server              |
23/04/18 00:42:14 095 [debug]: --------------------------------------------------
23/04/18 00:42:14 095 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:42:14 095 [debug]: --------------------------------------------------
23/04/18 00:42:15 517 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:15 518 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:42:15 519 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:15 528 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:15 529 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:42:15 529 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:15 530 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:15 531 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:42:15 531 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:15 532 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:15 533 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:42:15 533 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:15 551 [info]:  >> DATABASE 접속됨 [threaId=119]
23/04/18 00:42:15 551 [info]:  >> Connection 임대됨 [threaId=119]
23/04/18 00:42:15 554 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:42:15 555 [info]:  >> DATABASE 접속됨 [threaId=120]
23/04/18 00:42:15 555 [info]:  >> Connection 임대됨 [threaId=120]
23/04/18 00:42:15 556 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:42:15 556 [info]:  >> DATABASE 접속됨 [threaId=121]
23/04/18 00:42:15 556 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 557 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:42:15 560 [info]:  >> Connection 반납됨 [threaId=120]
23/04/18 00:42:15 563 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 35ms
23/04/18 00:42:15 563 [debug]: --------------------------------------------------
23/04/18 00:42:15 564 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 565 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 565 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:42:15 566 [info]:  >> Connection 반납됨 [threaId=119]
23/04/18 00:42:15 566 [info]:  >> Connection 임대됨 [threaId=119]
23/04/18 00:42:15 567 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:42:15 567 [info]:  >> DATABASE 접속됨 [threaId=122]
23/04/18 00:42:15 567 [info]:  >> Connection 임대됨 [threaId=122]
23/04/18 00:42:15 568 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:42:15 569 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 569 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 569 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:42:15 570 [info]:  >> Connection 반납됨 [threaId=122]
23/04/18 00:42:15 571 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 00:42:15 571 [debug]: --------------------------------------------------
23/04/18 00:42:15 571 [info]:  >> Connection 반납됨 [threaId=119]
23/04/18 00:42:15 572 [info]:  >> Connection 임대됨 [threaId=119]
23/04/18 00:42:15 572 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:42:15 573 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 573 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 573 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:42:15 574 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 574 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 575 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:42:15 575 [info]:  >> Connection 반납됨 [threaId=119]
23/04/18 00:42:15 575 [info]:  >> Connection 임대됨 [threaId=119]
23/04/18 00:42:15 576 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:42:15 576 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 576 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 577 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:42:15 578 [info]:  >> Connection 반납됨 [threaId=119]
23/04/18 00:42:15 578 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 00:42:15 578 [debug]: --------------------------------------------------
23/04/18 00:42:15 579 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 579 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 580 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:42:15 581 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 582 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 51ms
23/04/18 00:42:15 582 [debug]: --------------------------------------------------
23/04/18 00:42:15 583 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:15 583 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:42:15 584 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:15 584 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 585 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:42:15 585 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 586 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 586 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:42:15 586 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 587 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 587 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:42:15 588 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 588 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 589 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:42:15 589 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 589 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 590 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:42:15 590 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 591 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 591 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:42:15 591 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 592 [info]:  >> Connection 임대됨 [threaId=121]
23/04/18 00:42:15 592 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:42:15 593 [info]:  >> Connection 반납됨 [threaId=121]
23/04/18 00:42:15 594 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 00:42:15 594 [debug]: --------------------------------------------------
23/04/18 00:42:46 121 [debug]: --------------------------------------------------
23/04/18 00:42:46 123 [debug]: |              Start Express Server              |
23/04/18 00:42:46 123 [debug]: --------------------------------------------------
23/04/18 00:42:46 124 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:42:46 124 [debug]: --------------------------------------------------
23/04/18 00:42:48 630 [debug]: --------------------------------------------------
23/04/18 00:42:48 632 [debug]: |              Start Express Server              |
23/04/18 00:42:48 632 [debug]: --------------------------------------------------
23/04/18 00:42:48 633 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:42:48 633 [debug]: --------------------------------------------------
23/04/18 00:42:49 294 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:49 296 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:42:49 296 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:49 305 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:49 305 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:42:49 306 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:49 307 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:49 308 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:42:49 308 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:49 309 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:49 309 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:42:49 309 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:49 328 [info]:  >> DATABASE 접속됨 [threaId=125]
23/04/18 00:42:49 328 [info]:  >> Connection 임대됨 [threaId=125]
23/04/18 00:42:49 330 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:42:49 331 [info]:  >> DATABASE 접속됨 [threaId=127]
23/04/18 00:42:49 331 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 332 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:42:49 333 [info]:  >> DATABASE 접속됨 [threaId=126]
23/04/18 00:42:49 333 [info]:  >> Connection 임대됨 [threaId=126]
23/04/18 00:42:49 333 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:42:49 336 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 336 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 337 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:42:49 338 [info]:  >> Connection 반납됨 [threaId=126]
23/04/18 00:42:49 342 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 37ms
23/04/18 00:42:49 342 [debug]: --------------------------------------------------
23/04/18 00:42:49 343 [info]:  >> Connection 반납됨 [threaId=125]
23/04/18 00:42:49 343 [info]:  >> Connection 임대됨 [threaId=125]
23/04/18 00:42:49 344 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:42:49 344 [info]:  >> DATABASE 접속됨 [threaId=128]
23/04/18 00:42:49 344 [info]:  >> Connection 임대됨 [threaId=128]
23/04/18 00:42:49 345 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:42:49 346 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 346 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 346 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:42:49 347 [info]:  >> Connection 반납됨 [threaId=125]
23/04/18 00:42:49 347 [info]:  >> Connection 임대됨 [threaId=125]
23/04/18 00:42:49 348 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:42:49 348 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 348 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 349 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:42:49 350 [info]:  >> Connection 반납됨 [threaId=128]
23/04/18 00:42:49 351 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 42ms
23/04/18 00:42:49 351 [debug]: --------------------------------------------------
23/04/18 00:42:49 351 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 352 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 352 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:42:49 353 [info]:  >> Connection 반납됨 [threaId=125]
23/04/18 00:42:49 353 [info]:  >> Connection 임대됨 [threaId=125]
23/04/18 00:42:49 353 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:42:49 354 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 354 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 354 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:42:49 356 [info]:  >> Connection 반납됨 [threaId=125]
23/04/18 00:42:49 356 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 00:42:49 357 [debug]: --------------------------------------------------
23/04/18 00:42:49 357 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 358 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 359 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:42:49 360 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 360 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 52ms
23/04/18 00:42:49 361 [debug]: --------------------------------------------------
23/04/18 00:42:49 361 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:42:49 362 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:42:49 362 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:42:49 363 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 364 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:42:49 364 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 364 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 365 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:42:49 365 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 365 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 366 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:42:49 366 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 366 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 367 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:42:49 367 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 368 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 368 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:42:49 368 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 369 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 369 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:42:49 370 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 370 [info]:  >> Connection 임대됨 [threaId=127]
23/04/18 00:42:49 370 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:42:49 371 [info]:  >> Connection 반납됨 [threaId=127]
23/04/18 00:42:49 372 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:42:49 372 [debug]: --------------------------------------------------
23/04/18 00:42:56 115 [debug]: --------------------------------------------------
23/04/18 00:42:56 117 [debug]: |              Start Express Server              |
23/04/18 00:42:56 117 [debug]: --------------------------------------------------
23/04/18 00:42:56 118 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:42:56 118 [debug]: --------------------------------------------------
23/04/18 00:43:02 189 [debug]: --------------------------------------------------
23/04/18 00:43:02 192 [debug]: |              Start Express Server              |
23/04/18 00:43:02 192 [debug]: --------------------------------------------------
23/04/18 00:43:02 193 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:43:02 193 [debug]: --------------------------------------------------
23/04/18 00:43:02 549 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:02 551 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:43:02 551 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:02 556 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:02 557 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:43:02 557 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:02 567 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:02 567 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:43:02 568 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:02 569 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:02 569 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:43:02 569 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:02 588 [info]:  >> DATABASE 접속됨 [threaId=131]
23/04/18 00:43:02 589 [info]:  >> Connection 임대됨 [threaId=131]
23/04/18 00:43:02 591 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:43:02 592 [info]:  >> DATABASE 접속됨 [threaId=132]
23/04/18 00:43:02 592 [info]:  >> Connection 임대됨 [threaId=132]
23/04/18 00:43:02 593 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:43:02 597 [info]:  >> Connection 반납됨 [threaId=132]
23/04/18 00:43:02 600 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 43ms
23/04/18 00:43:02 600 [debug]: --------------------------------------------------
23/04/18 00:43:02 601 [info]:  >> DATABASE 접속됨 [threaId=133]
23/04/18 00:43:02 602 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 603 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:43:02 604 [info]:  >> Connection 반납됨 [threaId=131]
23/04/18 00:43:02 604 [info]:  >> Connection 임대됨 [threaId=131]
23/04/18 00:43:02 605 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:43:02 606 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 606 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 607 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:43:02 607 [info]:  >> DATABASE 접속됨 [threaId=134]
23/04/18 00:43:02 608 [info]:  >> Connection 임대됨 [threaId=134]
23/04/18 00:43:02 608 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:43:02 609 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 609 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 610 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:43:02 610 [info]:  >> Connection 반납됨 [threaId=131]
23/04/18 00:43:02 610 [info]:  >> Connection 임대됨 [threaId=131]
23/04/18 00:43:02 611 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:43:02 611 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 612 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 612 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:43:02 613 [info]:  >> Connection 반납됨 [threaId=134]
23/04/18 00:43:02 614 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 45ms
23/04/18 00:43:02 614 [debug]: --------------------------------------------------
23/04/18 00:43:02 615 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 616 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 617 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:43:02 618 [info]:  >> Connection 반납됨 [threaId=131]
23/04/18 00:43:02 618 [info]:  >> Connection 임대됨 [threaId=131]
23/04/18 00:43:02 619 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:43:02 619 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 620 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 620 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:43:02 621 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 621 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 622 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:43:02 623 [info]:  >> Connection 반납됨 [threaId=131]
23/04/18 00:43:02 624 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 74ms
23/04/18 00:43:02 624 [debug]: --------------------------------------------------
23/04/18 00:43:02 625 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 626 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 59ms
23/04/18 00:43:02 626 [debug]: --------------------------------------------------
23/04/18 00:43:02 627 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:02 627 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:43:02 628 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:02 629 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 629 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:43:02 630 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 630 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 631 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:43:02 631 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 631 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 632 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:43:02 632 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 632 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 633 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:43:02 633 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 633 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 634 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:43:02 634 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 634 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 635 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:43:02 635 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 635 [info]:  >> Connection 임대됨 [threaId=133]
23/04/18 00:43:02 636 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:43:02 637 [info]:  >> Connection 반납됨 [threaId=133]
23/04/18 00:43:02 637 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:43:02 638 [debug]: --------------------------------------------------
23/04/18 00:43:40 946 [debug]: --------------------------------------------------
23/04/18 00:43:40 948 [debug]: |              Start Express Server              |
23/04/18 00:43:40 949 [debug]: --------------------------------------------------
23/04/18 00:43:40 949 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:43:40 949 [debug]: --------------------------------------------------
23/04/18 00:43:43 291 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:43 292 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 00:43:43 292 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:43 297 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:43 298 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 00:43:43 298 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:43 306 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:43 306 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:43:43 306 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:43 307 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:43 308 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 00:43:43 308 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:43 326 [info]:  >> DATABASE 접속됨 [threaId=136]
23/04/18 00:43:43 326 [info]:  >> Connection 임대됨 [threaId=136]
23/04/18 00:43:43 329 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:43:43 329 [info]:  >> DATABASE 접속됨 [threaId=137]
23/04/18 00:43:43 330 [info]:  >> Connection 임대됨 [threaId=137]
23/04/18 00:43:43 330 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 00:43:43 333 [info]:  >> Connection 반납됨 [threaId=137]
23/04/18 00:43:43 337 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 00:43:43 337 [debug]: --------------------------------------------------
23/04/18 00:43:43 338 [info]:  >> Connection 반납됨 [threaId=136]
23/04/18 00:43:43 339 [info]:  >> Connection 임대됨 [threaId=136]
23/04/18 00:43:43 339 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:43:43 340 [info]:  >> DATABASE 접속됨 [threaId=138]
23/04/18 00:43:43 340 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 341 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:43:43 341 [info]:  >> DATABASE 접속됨 [threaId=139]
23/04/18 00:43:43 341 [info]:  >> Connection 임대됨 [threaId=139]
23/04/18 00:43:43 341 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 00:43:43 342 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 342 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 343 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:43:43 344 [info]:  >> Connection 반납됨 [threaId=136]
23/04/18 00:43:43 344 [info]:  >> Connection 임대됨 [threaId=136]
23/04/18 00:43:43 345 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 00:43:43 346 [info]:  >> Connection 반납됨 [threaId=139]
23/04/18 00:43:43 346 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 00:43:43 346 [debug]: --------------------------------------------------
23/04/18 00:43:43 347 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 347 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 348 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:43:43 348 [info]:  >> Connection 반납됨 [threaId=136]
23/04/18 00:43:43 348 [info]:  >> Connection 임대됨 [threaId=136]
23/04/18 00:43:43 349 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 00:43:43 349 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 349 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 350 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:43:43 351 [info]:  >> Connection 반납됨 [threaId=136]
23/04/18 00:43:43 352 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 00:43:43 352 [debug]: --------------------------------------------------
23/04/18 00:43:43 353 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 353 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 353 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:43:43 354 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 354 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 354 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:43:43 355 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 355 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 356 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:43:43 357 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 357 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 51ms
23/04/18 00:43:43 358 [debug]: --------------------------------------------------
23/04/18 00:43:43 359 [debug]: 클라이언트가 접속했습니다.
23/04/18 00:43:43 359 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 00:43:43 359 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 00:43:43 360 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 361 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 00:43:43 361 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 362 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 362 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 00:43:43 363 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 363 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 363 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 00:43:43 364 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 364 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 365 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 00:43:43 365 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 365 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 366 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 00:43:43 366 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 367 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 367 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 00:43:43 367 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 368 [info]:  >> Connection 임대됨 [threaId=138]
23/04/18 00:43:43 368 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 00:43:43 369 [info]:  >> Connection 반납됨 [threaId=138]
23/04/18 00:43:43 369 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 00:43:43 369 [debug]: --------------------------------------------------
23/04/18 00:43:50 740 [debug]: --------------------------------------------------
23/04/18 00:43:50 742 [debug]: |              Start Express Server              |
23/04/18 00:43:50 743 [debug]: --------------------------------------------------
23/04/18 00:43:50 743 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:43:50 744 [debug]: --------------------------------------------------
23/04/18 00:50:28 670 [debug]: --------------------------------------------------
23/04/18 00:50:28 672 [debug]: |              Start Express Server              |
23/04/18 00:50:28 673 [debug]: --------------------------------------------------
23/04/18 00:50:28 673 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:50:28 673 [debug]: --------------------------------------------------
23/04/18 00:50:51 181 [debug]: --------------------------------------------------
23/04/18 00:50:51 184 [debug]: |              Start Express Server              |
23/04/18 00:50:51 184 [debug]: --------------------------------------------------
23/04/18 00:50:51 184 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:50:51 185 [debug]: --------------------------------------------------
23/04/18 00:50:59 870 [debug]: --------------------------------------------------
23/04/18 00:50:59 873 [debug]: |              Start Express Server              |
23/04/18 00:50:59 874 [debug]: --------------------------------------------------
23/04/18 00:50:59 874 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:50:59 874 [debug]: --------------------------------------------------
23/04/18 00:51:19 444 [debug]: --------------------------------------------------
23/04/18 00:51:19 446 [debug]: |              Start Express Server              |
23/04/18 00:51:19 446 [debug]: --------------------------------------------------
23/04/18 00:51:19 447 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:51:19 447 [debug]: --------------------------------------------------
23/04/18 00:51:40 400 [debug]: --------------------------------------------------
23/04/18 00:51:40 403 [debug]: |              Start Express Server              |
23/04/18 00:51:40 403 [debug]: --------------------------------------------------
23/04/18 00:51:40 403 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:51:40 404 [debug]: --------------------------------------------------
23/04/18 00:52:07 574 [debug]: --------------------------------------------------
23/04/18 00:52:07 577 [debug]: |              Start Express Server              |
23/04/18 00:52:07 577 [debug]: --------------------------------------------------
23/04/18 00:52:07 577 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:52:07 578 [debug]: --------------------------------------------------
23/04/18 00:52:12 207 [debug]: --------------------------------------------------
23/04/18 00:52:12 209 [debug]: |              Start Express Server              |
23/04/18 00:52:12 209 [debug]: --------------------------------------------------
23/04/18 00:52:12 209 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:52:12 210 [debug]: --------------------------------------------------
23/04/18 00:52:15 764 [debug]: --------------------------------------------------
23/04/18 00:52:15 766 [debug]: |              Start Express Server              |
23/04/18 00:52:15 766 [debug]: --------------------------------------------------
23/04/18 00:52:15 767 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:52:15 767 [debug]: --------------------------------------------------
23/04/18 00:52:40 909 [debug]: --------------------------------------------------
23/04/18 00:52:40 911 [debug]: |              Start Express Server              |
23/04/18 00:52:40 912 [debug]: --------------------------------------------------
23/04/18 00:52:40 912 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:52:40 913 [debug]: --------------------------------------------------
23/04/18 00:53:53 676 [debug]: --------------------------------------------------
23/04/18 00:53:53 679 [debug]: |              Start Express Server              |
23/04/18 00:53:53 679 [debug]: --------------------------------------------------
23/04/18 00:53:53 679 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:53:53 680 [debug]: --------------------------------------------------
23/04/18 00:55:09 929 [debug]: --------------------------------------------------
23/04/18 00:55:09 931 [debug]: |              Start Express Server              |
23/04/18 00:55:09 932 [debug]: --------------------------------------------------
23/04/18 00:55:09 932 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:55:09 932 [debug]: --------------------------------------------------
23/04/18 00:57:17 751 [debug]: --------------------------------------------------
23/04/18 00:57:17 753 [debug]: |              Start Express Server              |
23/04/18 00:57:17 753 [debug]: --------------------------------------------------
23/04/18 00:57:17 753 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:57:17 754 [debug]: --------------------------------------------------
23/04/18 00:58:21 780 [debug]: --------------------------------------------------
23/04/18 00:58:21 783 [debug]: |              Start Express Server              |
23/04/18 00:58:21 784 [debug]: --------------------------------------------------
23/04/18 00:58:21 785 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:58:21 786 [debug]: --------------------------------------------------
23/04/18 00:58:37 172 [debug]: --------------------------------------------------
23/04/18 00:58:37 174 [debug]: |              Start Express Server              |
23/04/18 00:58:37 175 [debug]: --------------------------------------------------
23/04/18 00:58:37 175 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:58:37 175 [debug]: --------------------------------------------------
23/04/18 00:59:04 557 [debug]: --------------------------------------------------
23/04/18 00:59:04 559 [debug]: |              Start Express Server              |
23/04/18 00:59:04 560 [debug]: --------------------------------------------------
23/04/18 00:59:04 561 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:59:04 561 [debug]: --------------------------------------------------
23/04/18 00:59:36 408 [debug]: --------------------------------------------------
23/04/18 00:59:36 410 [debug]: |              Start Express Server              |
23/04/18 00:59:36 411 [debug]: --------------------------------------------------
23/04/18 00:59:36 411 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:59:36 411 [debug]: --------------------------------------------------
23/04/18 00:59:48 310 [debug]: --------------------------------------------------
23/04/18 00:59:48 312 [debug]: |              Start Express Server              |
23/04/18 00:59:48 313 [debug]: --------------------------------------------------
23/04/18 00:59:48 313 [debug]: server address => http://211.222.164.95:3001
23/04/18 00:59:48 314 [debug]: --------------------------------------------------
23/04/18 01:00:03 313 [debug]: --------------------------------------------------
23/04/18 01:00:03 315 [debug]: |              Start Express Server              |
23/04/18 01:00:03 316 [debug]: --------------------------------------------------
23/04/18 01:00:03 316 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:00:03 316 [debug]: --------------------------------------------------
23/04/18 01:00:12 980 [debug]: --------------------------------------------------
23/04/18 01:00:12 982 [debug]: |              Start Express Server              |
23/04/18 01:00:12 983 [debug]: --------------------------------------------------
23/04/18 01:00:12 983 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:00:12 984 [debug]: --------------------------------------------------
23/04/18 01:02:18 654 [debug]: --------------------------------------------------
23/04/18 01:02:18 656 [debug]: |              Start Express Server              |
23/04/18 01:02:18 657 [debug]: --------------------------------------------------
23/04/18 01:02:18 657 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:02:18 658 [debug]: --------------------------------------------------
23/04/18 01:04:12 051 [debug]: --------------------------------------------------
23/04/18 01:04:12 053 [debug]: |              Start Express Server              |
23/04/18 01:04:12 053 [debug]: --------------------------------------------------
23/04/18 01:04:12 054 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:04:12 054 [debug]: --------------------------------------------------
23/04/18 01:04:23 315 [debug]: --------------------------------------------------
23/04/18 01:04:23 317 [debug]: |              Start Express Server              |
23/04/18 01:04:23 317 [debug]: --------------------------------------------------
23/04/18 01:04:23 318 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:04:23 318 [debug]: --------------------------------------------------
23/04/18 01:04:45 544 [debug]: --------------------------------------------------
23/04/18 01:04:45 546 [debug]: |              Start Express Server              |
23/04/18 01:04:45 547 [debug]: --------------------------------------------------
23/04/18 01:04:45 547 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:04:45 548 [debug]: --------------------------------------------------
23/04/18 01:04:52 725 [debug]: --------------------------------------------------
23/04/18 01:04:52 727 [debug]: |              Start Express Server              |
23/04/18 01:04:52 728 [debug]: --------------------------------------------------
23/04/18 01:04:52 728 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:04:52 729 [debug]: --------------------------------------------------
23/04/18 01:05:09 469 [debug]: --------------------------------------------------
23/04/18 01:05:09 472 [debug]: |              Start Express Server              |
23/04/18 01:05:09 472 [debug]: --------------------------------------------------
23/04/18 01:05:09 472 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:05:09 473 [debug]: --------------------------------------------------
23/04/18 01:05:14 703 [debug]: --------------------------------------------------
23/04/18 01:05:14 706 [debug]: |              Start Express Server              |
23/04/18 01:05:14 706 [debug]: --------------------------------------------------
23/04/18 01:05:14 706 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:05:14 707 [debug]: --------------------------------------------------
23/04/18 01:05:23 827 [debug]: --------------------------------------------------
23/04/18 01:05:23 829 [debug]: |              Start Express Server              |
23/04/18 01:05:23 829 [debug]: --------------------------------------------------
23/04/18 01:05:23 830 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:05:23 830 [debug]: --------------------------------------------------
23/04/18 01:05:24 980 [debug]: --------------------------------------------------
23/04/18 01:05:24 982 [debug]: |              Start Express Server              |
23/04/18 01:05:24 983 [debug]: --------------------------------------------------
23/04/18 01:05:24 983 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:05:24 983 [debug]: --------------------------------------------------
23/04/18 01:05:34 765 [debug]: --------------------------------------------------
23/04/18 01:05:34 767 [debug]: |              Start Express Server              |
23/04/18 01:05:34 767 [debug]: --------------------------------------------------
23/04/18 01:05:34 768 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:05:34 768 [debug]: --------------------------------------------------
23/04/18 01:05:41 120 [debug]: --------------------------------------------------
23/04/18 01:05:41 122 [debug]: |              Start Express Server              |
23/04/18 01:05:41 122 [debug]: --------------------------------------------------
23/04/18 01:05:41 123 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:05:41 123 [debug]: --------------------------------------------------
23/04/18 01:05:46 331 [debug]: --------------------------------------------------
23/04/18 01:05:46 333 [debug]: |              Start Express Server              |
23/04/18 01:05:46 333 [debug]: --------------------------------------------------
23/04/18 01:05:46 334 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:05:46 334 [debug]: --------------------------------------------------
23/04/18 01:05:51 595 [debug]: --------------------------------------------------
23/04/18 01:05:51 597 [debug]: |              Start Express Server              |
23/04/18 01:05:51 598 [debug]: --------------------------------------------------
23/04/18 01:05:51 598 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:05:51 598 [debug]: --------------------------------------------------
23/04/18 01:06:04 333 [debug]: --------------------------------------------------
23/04/18 01:06:04 336 [debug]: |              Start Express Server              |
23/04/18 01:06:04 336 [debug]: --------------------------------------------------
23/04/18 01:06:04 337 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:06:04 337 [debug]: --------------------------------------------------
23/04/18 01:06:06 073 [debug]: --------------------------------------------------
23/04/18 01:06:06 076 [debug]: |              Start Express Server              |
23/04/18 01:06:06 076 [debug]: --------------------------------------------------
23/04/18 01:06:06 076 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:06:06 077 [debug]: --------------------------------------------------
23/04/18 01:06:19 025 [debug]: --------------------------------------------------
23/04/18 01:06:19 028 [debug]: |              Start Express Server              |
23/04/18 01:06:19 028 [debug]: --------------------------------------------------
23/04/18 01:06:19 028 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:06:19 029 [debug]: --------------------------------------------------
23/04/18 01:06:20 507 [debug]: --------------------------------------------------
23/04/18 01:06:20 509 [debug]: |              Start Express Server              |
23/04/18 01:06:20 510 [debug]: --------------------------------------------------
23/04/18 01:06:20 510 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:06:20 510 [debug]: --------------------------------------------------
23/04/18 01:06:33 851 [debug]: --------------------------------------------------
23/04/18 01:06:33 854 [debug]: |              Start Express Server              |
23/04/18 01:06:33 854 [debug]: --------------------------------------------------
23/04/18 01:06:33 855 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:06:33 855 [debug]: --------------------------------------------------
23/04/18 01:06:36 031 [debug]: --------------------------------------------------
23/04/18 01:06:36 033 [debug]: |              Start Express Server              |
23/04/18 01:06:36 033 [debug]: --------------------------------------------------
23/04/18 01:06:36 034 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:06:36 034 [debug]: --------------------------------------------------
23/04/18 01:07:17 250 [debug]: --------------------------------------------------
23/04/18 01:07:17 252 [debug]: |              Start Express Server              |
23/04/18 01:07:17 253 [debug]: --------------------------------------------------
23/04/18 01:07:17 253 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:07:17 253 [debug]: --------------------------------------------------
23/04/18 01:07:21 748 [debug]: --------------------------------------------------
23/04/18 01:07:21 751 [debug]: |              Start Express Server              |
23/04/18 01:07:21 752 [debug]: --------------------------------------------------
23/04/18 01:07:21 752 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:07:21 753 [debug]: --------------------------------------------------
23/04/18 01:07:38 827 [debug]: --------------------------------------------------
23/04/18 01:07:38 829 [debug]: |              Start Express Server              |
23/04/18 01:07:38 830 [debug]: --------------------------------------------------
23/04/18 01:07:38 830 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:07:38 831 [debug]: --------------------------------------------------
23/04/18 01:07:43 126 [debug]: --------------------------------------------------
23/04/18 01:07:43 129 [debug]: |              Start Express Server              |
23/04/18 01:07:43 129 [debug]: --------------------------------------------------
23/04/18 01:07:43 130 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:07:43 130 [debug]: --------------------------------------------------
23/04/18 01:07:45 559 [debug]: --------------------------------------------------
23/04/18 01:07:45 561 [debug]: |              Start Express Server              |
23/04/18 01:07:45 562 [debug]: --------------------------------------------------
23/04/18 01:07:45 562 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:07:45 562 [debug]: --------------------------------------------------
23/04/18 01:08:54 606 [debug]: --------------------------------------------------
23/04/18 01:08:54 609 [debug]: |              Start Express Server              |
23/04/18 01:08:54 609 [debug]: --------------------------------------------------
23/04/18 01:08:54 609 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:08:54 610 [debug]: --------------------------------------------------
23/04/18 01:09:14 029 [debug]: --------------------------------------------------
23/04/18 01:09:14 031 [debug]: |              Start Express Server              |
23/04/18 01:09:14 032 [debug]: --------------------------------------------------
23/04/18 01:09:14 032 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:09:14 033 [debug]: --------------------------------------------------
23/04/18 01:09:38 581 [debug]: --------------------------------------------------
23/04/18 01:09:38 583 [debug]: |              Start Express Server              |
23/04/18 01:09:38 583 [debug]: --------------------------------------------------
23/04/18 01:09:38 584 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:09:38 584 [debug]: --------------------------------------------------
23/04/18 01:09:52 576 [debug]: --------------------------------------------------
23/04/18 01:09:52 578 [debug]: |              Start Express Server              |
23/04/18 01:09:52 579 [debug]: --------------------------------------------------
23/04/18 01:09:52 579 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:09:52 580 [debug]: --------------------------------------------------
23/04/18 01:10:13 585 [debug]: --------------------------------------------------
23/04/18 01:10:13 587 [debug]: |              Start Express Server              |
23/04/18 01:10:13 587 [debug]: --------------------------------------------------
23/04/18 01:10:13 587 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:10:13 588 [debug]: --------------------------------------------------
23/04/18 01:10:17 748 [debug]: --------------------------------------------------
23/04/18 01:10:17 750 [debug]: |              Start Express Server              |
23/04/18 01:10:17 751 [debug]: --------------------------------------------------
23/04/18 01:10:17 751 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:10:17 751 [debug]: --------------------------------------------------
23/04/18 01:10:21 521 [debug]: --------------------------------------------------
23/04/18 01:10:21 523 [debug]: |              Start Express Server              |
23/04/18 01:10:21 523 [debug]: --------------------------------------------------
23/04/18 01:10:21 524 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:10:21 524 [debug]: --------------------------------------------------
23/04/18 01:10:24 676 [debug]: --------------------------------------------------
23/04/18 01:10:24 679 [debug]: |              Start Express Server              |
23/04/18 01:10:24 679 [debug]: --------------------------------------------------
23/04/18 01:10:24 680 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:10:24 680 [debug]: --------------------------------------------------
23/04/18 01:10:28 599 [debug]: --------------------------------------------------
23/04/18 01:10:28 601 [debug]: |              Start Express Server              |
23/04/18 01:10:28 602 [debug]: --------------------------------------------------
23/04/18 01:10:28 602 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:10:28 603 [debug]: --------------------------------------------------
23/04/18 01:10:36 108 [debug]: --------------------------------------------------
23/04/18 01:10:36 110 [debug]: |              Start Express Server              |
23/04/18 01:10:36 110 [debug]: --------------------------------------------------
23/04/18 01:10:36 111 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:10:36 111 [debug]: --------------------------------------------------
23/04/18 01:10:54 209 [debug]: --------------------------------------------------
23/04/18 01:10:54 211 [debug]: |              Start Express Server              |
23/04/18 01:10:54 211 [debug]: --------------------------------------------------
23/04/18 01:10:54 212 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:10:54 212 [debug]: --------------------------------------------------
23/04/18 01:11:28 335 [debug]: --------------------------------------------------
23/04/18 01:11:28 337 [debug]: |              Start Express Server              |
23/04/18 01:11:28 337 [debug]: --------------------------------------------------
23/04/18 01:11:28 338 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:11:28 338 [debug]: --------------------------------------------------
23/04/18 01:11:40 181 [debug]: --------------------------------------------------
23/04/18 01:11:40 183 [debug]: |              Start Express Server              |
23/04/18 01:11:40 184 [debug]: --------------------------------------------------
23/04/18 01:11:40 184 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:11:40 185 [debug]: --------------------------------------------------
23/04/18 01:11:46 819 [debug]: --------------------------------------------------
23/04/18 01:11:46 821 [debug]: |              Start Express Server              |
23/04/18 01:11:46 821 [debug]: --------------------------------------------------
23/04/18 01:11:46 822 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:11:46 822 [debug]: --------------------------------------------------
23/04/18 01:12:10 637 [debug]: --------------------------------------------------
23/04/18 01:12:10 639 [debug]: |              Start Express Server              |
23/04/18 01:12:10 640 [debug]: --------------------------------------------------
23/04/18 01:12:10 640 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:12:10 641 [debug]: --------------------------------------------------
23/04/18 01:12:13 841 [debug]: --------------------------------------------------
23/04/18 01:12:13 843 [debug]: |              Start Express Server              |
23/04/18 01:12:13 843 [debug]: --------------------------------------------------
23/04/18 01:12:13 843 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:12:13 844 [debug]: --------------------------------------------------
23/04/18 01:12:38 421 [debug]: --------------------------------------------------
23/04/18 01:12:38 423 [debug]: |              Start Express Server              |
23/04/18 01:12:38 424 [debug]: --------------------------------------------------
23/04/18 01:12:38 424 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:12:38 424 [debug]: --------------------------------------------------
23/04/18 01:12:45 469 [debug]: --------------------------------------------------
23/04/18 01:12:45 471 [debug]: |              Start Express Server              |
23/04/18 01:12:45 472 [debug]: --------------------------------------------------
23/04/18 01:12:45 472 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:12:45 472 [debug]: --------------------------------------------------
23/04/18 01:13:29 225 [debug]: --------------------------------------------------
23/04/18 01:13:29 227 [debug]: |              Start Express Server              |
23/04/18 01:13:29 227 [debug]: --------------------------------------------------
23/04/18 01:13:29 228 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:13:29 228 [debug]: --------------------------------------------------
23/04/18 01:13:34 434 [debug]: --------------------------------------------------
23/04/18 01:13:34 436 [debug]: |              Start Express Server              |
23/04/18 01:13:34 437 [debug]: --------------------------------------------------
23/04/18 01:13:34 437 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:13:34 437 [debug]: --------------------------------------------------
23/04/18 01:13:36 579 [debug]: --------------------------------------------------
23/04/18 01:13:36 582 [debug]: |              Start Express Server              |
23/04/18 01:13:36 582 [debug]: --------------------------------------------------
23/04/18 01:13:36 583 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:13:36 583 [debug]: --------------------------------------------------
23/04/18 01:14:01 633 [debug]: --------------------------------------------------
23/04/18 01:14:01 636 [debug]: |              Start Express Server              |
23/04/18 01:14:01 636 [debug]: --------------------------------------------------
23/04/18 01:14:01 637 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:14:01 637 [debug]: --------------------------------------------------
23/04/18 01:14:49 563 [debug]: --------------------------------------------------
23/04/18 01:14:49 566 [debug]: |              Start Express Server              |
23/04/18 01:14:49 566 [debug]: --------------------------------------------------
23/04/18 01:14:49 566 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:14:49 567 [debug]: --------------------------------------------------
23/04/18 01:15:06 377 [debug]: --------------------------------------------------
23/04/18 01:15:06 379 [debug]: |              Start Express Server              |
23/04/18 01:15:06 380 [debug]: --------------------------------------------------
23/04/18 01:15:06 380 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:15:06 381 [debug]: --------------------------------------------------
23/04/18 01:15:08 016 [debug]: --------------------------------------------------
23/04/18 01:15:08 018 [debug]: |              Start Express Server              |
23/04/18 01:15:08 019 [debug]: --------------------------------------------------
23/04/18 01:15:08 019 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:15:08 020 [debug]: --------------------------------------------------
23/04/18 01:15:12 146 [debug]: --------------------------------------------------
23/04/18 01:15:12 148 [debug]: |              Start Express Server              |
23/04/18 01:15:12 148 [debug]: --------------------------------------------------
23/04/18 01:15:12 148 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:15:12 149 [debug]: --------------------------------------------------
23/04/18 01:15:27 989 [debug]: --------------------------------------------------
23/04/18 01:15:27 991 [debug]: |              Start Express Server              |
23/04/18 01:15:27 992 [debug]: --------------------------------------------------
23/04/18 01:15:27 992 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:15:27 993 [debug]: --------------------------------------------------
23/04/18 01:16:08 361 [debug]: --------------------------------------------------
23/04/18 01:16:08 363 [debug]: |              Start Express Server              |
23/04/18 01:16:08 364 [debug]: --------------------------------------------------
23/04/18 01:16:08 364 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:16:08 364 [debug]: --------------------------------------------------
23/04/18 01:16:10 312 [debug]: --------------------------------------------------
23/04/18 01:16:10 314 [debug]: |              Start Express Server              |
23/04/18 01:16:10 315 [debug]: --------------------------------------------------
23/04/18 01:16:10 315 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:16:10 315 [debug]: --------------------------------------------------
23/04/18 01:16:19 387 [debug]: --------------------------------------------------
23/04/18 01:16:19 389 [debug]: |              Start Express Server              |
23/04/18 01:16:19 390 [debug]: --------------------------------------------------
23/04/18 01:16:19 390 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:16:19 390 [debug]: --------------------------------------------------
23/04/18 01:16:28 983 [debug]: --------------------------------------------------
23/04/18 01:16:28 986 [debug]: |              Start Express Server              |
23/04/18 01:16:28 986 [debug]: --------------------------------------------------
23/04/18 01:16:28 987 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:16:28 987 [debug]: --------------------------------------------------
23/04/18 01:16:32 556 [debug]: --------------------------------------------------
23/04/18 01:16:32 558 [debug]: |              Start Express Server              |
23/04/18 01:16:32 558 [debug]: --------------------------------------------------
23/04/18 01:16:32 559 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:16:32 559 [debug]: --------------------------------------------------
23/04/18 01:16:54 221 [debug]: --------------------------------------------------
23/04/18 01:16:54 223 [debug]: |              Start Express Server              |
23/04/18 01:16:54 223 [debug]: --------------------------------------------------
23/04/18 01:16:54 224 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:16:54 224 [debug]: --------------------------------------------------
23/04/18 01:16:56 159 [debug]: --------------------------------------------------
23/04/18 01:16:56 161 [debug]: |              Start Express Server              |
23/04/18 01:16:56 161 [debug]: --------------------------------------------------
23/04/18 01:16:56 161 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:16:56 162 [debug]: --------------------------------------------------
23/04/18 01:17:00 173 [debug]: --------------------------------------------------
23/04/18 01:17:00 176 [debug]: |              Start Express Server              |
23/04/18 01:17:00 177 [debug]: --------------------------------------------------
23/04/18 01:17:00 178 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:17:00 178 [debug]: --------------------------------------------------
23/04/18 01:17:01 440 [debug]: --------------------------------------------------
23/04/18 01:17:01 442 [debug]: |              Start Express Server              |
23/04/18 01:17:01 442 [debug]: --------------------------------------------------
23/04/18 01:17:01 443 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:17:01 443 [debug]: --------------------------------------------------
23/04/18 01:17:18 639 [debug]: --------------------------------------------------
23/04/18 01:17:18 641 [debug]: |              Start Express Server              |
23/04/18 01:17:18 642 [debug]: --------------------------------------------------
23/04/18 01:17:18 642 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:17:18 642 [debug]: --------------------------------------------------
23/04/18 01:17:56 842 [debug]: --------------------------------------------------
23/04/18 01:17:56 844 [debug]: |              Start Express Server              |
23/04/18 01:17:56 845 [debug]: --------------------------------------------------
23/04/18 01:17:56 846 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:17:56 846 [debug]: --------------------------------------------------
23/04/18 01:18:24 330 [debug]: --------------------------------------------------
23/04/18 01:18:24 332 [debug]: |              Start Express Server              |
23/04/18 01:18:24 332 [debug]: --------------------------------------------------
23/04/18 01:18:24 333 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:18:24 333 [debug]: --------------------------------------------------
23/04/18 01:18:34 946 [debug]: --------------------------------------------------
23/04/18 01:18:34 948 [debug]: |              Start Express Server              |
23/04/18 01:18:34 949 [debug]: --------------------------------------------------
23/04/18 01:18:34 949 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:18:34 950 [debug]: --------------------------------------------------
23/04/18 01:18:41 676 [debug]: --------------------------------------------------
23/04/18 01:18:41 679 [debug]: |              Start Express Server              |
23/04/18 01:18:41 680 [debug]: --------------------------------------------------
23/04/18 01:18:41 680 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:18:41 680 [debug]: --------------------------------------------------
23/04/18 01:19:06 291 [debug]: --------------------------------------------------
23/04/18 01:19:06 293 [debug]: |              Start Express Server              |
23/04/18 01:19:06 294 [debug]: --------------------------------------------------
23/04/18 01:19:06 294 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:19:06 294 [debug]: --------------------------------------------------
23/04/18 01:19:20 953 [debug]: --------------------------------------------------
23/04/18 01:19:20 955 [debug]: |              Start Express Server              |
23/04/18 01:19:20 955 [debug]: --------------------------------------------------
23/04/18 01:19:20 956 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:19:20 956 [debug]: --------------------------------------------------
23/04/18 01:19:24 117 [debug]: --------------------------------------------------
23/04/18 01:19:24 119 [debug]: |              Start Express Server              |
23/04/18 01:19:24 120 [debug]: --------------------------------------------------
23/04/18 01:19:24 120 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:19:24 121 [debug]: --------------------------------------------------
23/04/18 01:19:25 684 [debug]: --------------------------------------------------
23/04/18 01:19:25 686 [debug]: |              Start Express Server              |
23/04/18 01:19:25 687 [debug]: --------------------------------------------------
23/04/18 01:19:25 687 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:19:25 688 [debug]: --------------------------------------------------
23/04/18 01:19:34 715 [debug]: 클라이언트가 접속했습니다.
23/04/18 01:19:34 717 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 01:19:34 717 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 01:19:34 737 [info]:  >> DATABASE 접속됨 [threaId=229]
23/04/18 01:19:34 738 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:34 741 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 01:19:34 744 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:34 744 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:34 745 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 01:19:34 746 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:34 746 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:34 747 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 01:19:34 748 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:34 748 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:34 749 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 01:19:34 749 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:34 749 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:34 750 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 01:19:34 750 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:34 750 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:34 751 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 01:19:34 751 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:34 752 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:34 753 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 01:19:34 754 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:34 756 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 01:19:34 757 [debug]: --------------------------------------------------
23/04/18 01:19:35 811 [debug]: 클라이언트가 접속했습니다.
23/04/18 01:19:35 812 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 01:19:35 812 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 01:19:35 813 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:35 814 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 01:19:35 814 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:35 815 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:35 815 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 01:19:35 816 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:35 816 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:35 817 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 01:19:35 817 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:35 817 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:35 818 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 01:19:35 818 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:35 819 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:35 819 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 01:19:35 819 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:35 820 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:35 820 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 01:19:35 820 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:35 820 [info]:  >> Connection 임대됨 [threaId=229]
23/04/18 01:19:35 821 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 01:19:35 822 [info]:  >> Connection 반납됨 [threaId=229]
23/04/18 01:19:35 823 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 01:19:35 823 [debug]: --------------------------------------------------
23/04/18 01:19:43 658 [debug]: --------------------------------------------------
23/04/18 01:19:43 660 [debug]: |              Start Express Server              |
23/04/18 01:19:43 661 [debug]: --------------------------------------------------
23/04/18 01:19:43 661 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:19:43 662 [debug]: --------------------------------------------------
23/04/18 01:19:50 107 [debug]: --------------------------------------------------
23/04/18 01:19:50 109 [debug]: |              Start Express Server              |
23/04/18 01:19:50 109 [debug]: --------------------------------------------------
23/04/18 01:19:50 110 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:19:50 110 [debug]: --------------------------------------------------
23/04/18 01:20:09 098 [debug]: --------------------------------------------------
23/04/18 01:20:09 101 [debug]: |              Start Express Server              |
23/04/18 01:20:09 101 [debug]: --------------------------------------------------
23/04/18 01:20:09 101 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:20:09 102 [debug]: --------------------------------------------------
23/04/18 01:20:12 132 [debug]: --------------------------------------------------
23/04/18 01:20:12 134 [debug]: |              Start Express Server              |
23/04/18 01:20:12 135 [debug]: --------------------------------------------------
23/04/18 01:20:12 135 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:20:12 135 [debug]: --------------------------------------------------
23/04/18 01:20:13 406 [debug]: --------------------------------------------------
23/04/18 01:20:13 408 [debug]: |              Start Express Server              |
23/04/18 01:20:13 409 [debug]: --------------------------------------------------
23/04/18 01:20:13 409 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:20:13 409 [debug]: --------------------------------------------------
23/04/18 01:20:17 529 [debug]: --------------------------------------------------
23/04/18 01:20:17 532 [debug]: |              Start Express Server              |
23/04/18 01:20:17 532 [debug]: --------------------------------------------------
23/04/18 01:20:17 533 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:20:17 533 [debug]: --------------------------------------------------
23/04/18 01:20:22 688 [debug]: --------------------------------------------------
23/04/18 01:20:22 691 [debug]: |              Start Express Server              |
23/04/18 01:20:22 692 [debug]: --------------------------------------------------
23/04/18 01:20:22 692 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:20:22 693 [debug]: --------------------------------------------------
23/04/18 01:20:24 636 [debug]: --------------------------------------------------
23/04/18 01:20:24 638 [debug]: |              Start Express Server              |
23/04/18 01:20:24 638 [debug]: --------------------------------------------------
23/04/18 01:20:24 639 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:20:24 639 [debug]: --------------------------------------------------
23/04/18 01:20:36 006 [debug]: --------------------------------------------------
23/04/18 01:20:36 008 [debug]: |              Start Express Server              |
23/04/18 01:20:36 009 [debug]: --------------------------------------------------
23/04/18 01:20:36 009 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:20:36 010 [debug]: --------------------------------------------------
23/04/18 01:20:52 187 [debug]: --------------------------------------------------
23/04/18 01:20:52 189 [debug]: |              Start Express Server              |
23/04/18 01:20:52 190 [debug]: --------------------------------------------------
23/04/18 01:20:52 190 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:20:52 190 [debug]: --------------------------------------------------
23/04/18 01:21:05 433 [debug]: --------------------------------------------------
23/04/18 01:21:05 438 [debug]: |              Start Express Server              |
23/04/18 01:21:05 439 [debug]: --------------------------------------------------
23/04/18 01:21:05 440 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:21:05 440 [debug]: --------------------------------------------------
23/04/18 01:21:15 706 [debug]: --------------------------------------------------
23/04/18 01:21:15 708 [debug]: |              Start Express Server              |
23/04/18 01:21:15 708 [debug]: --------------------------------------------------
23/04/18 01:21:15 709 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:21:15 709 [debug]: --------------------------------------------------
23/04/18 01:21:18 002 [debug]: --------------------------------------------------
23/04/18 01:21:18 004 [debug]: |              Start Express Server              |
23/04/18 01:21:18 005 [debug]: --------------------------------------------------
23/04/18 01:21:18 005 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:21:18 006 [debug]: --------------------------------------------------
23/04/18 01:21:31 448 [debug]: --------------------------------------------------
23/04/18 01:21:31 450 [debug]: |              Start Express Server              |
23/04/18 01:21:31 450 [debug]: --------------------------------------------------
23/04/18 01:21:31 451 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:21:31 451 [debug]: --------------------------------------------------
23/04/18 01:21:44 398 [debug]: --------------------------------------------------
23/04/18 01:21:44 400 [debug]: |              Start Express Server              |
23/04/18 01:21:44 400 [debug]: --------------------------------------------------
23/04/18 01:21:44 401 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:21:44 401 [debug]: --------------------------------------------------
23/04/18 01:22:02 744 [debug]: --------------------------------------------------
23/04/18 01:22:02 749 [debug]: |              Start Express Server              |
23/04/18 01:22:02 749 [debug]: --------------------------------------------------
23/04/18 01:22:02 750 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:22:02 750 [debug]: --------------------------------------------------
23/04/18 01:22:20 999 [debug]: --------------------------------------------------
23/04/18 01:22:21 001 [debug]: |              Start Express Server              |
23/04/18 01:22:21 002 [debug]: --------------------------------------------------
23/04/18 01:22:21 002 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:22:21 002 [debug]: --------------------------------------------------
23/04/18 01:22:34 681 [debug]: --------------------------------------------------
23/04/18 01:22:34 683 [debug]: |              Start Express Server              |
23/04/18 01:22:34 684 [debug]: --------------------------------------------------
23/04/18 01:22:34 684 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:22:34 684 [debug]: --------------------------------------------------
23/04/18 01:22:39 071 [debug]: --------------------------------------------------
23/04/18 01:22:39 073 [debug]: |              Start Express Server              |
23/04/18 01:22:39 074 [debug]: --------------------------------------------------
23/04/18 01:22:39 074 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:22:39 075 [debug]: --------------------------------------------------
23/04/18 01:22:44 795 [debug]: --------------------------------------------------
23/04/18 01:22:44 798 [debug]: |              Start Express Server              |
23/04/18 01:22:44 798 [debug]: --------------------------------------------------
23/04/18 01:22:44 799 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:22:44 799 [debug]: --------------------------------------------------
23/04/18 01:22:59 515 [debug]: --------------------------------------------------
23/04/18 01:22:59 517 [debug]: |              Start Express Server              |
23/04/18 01:22:59 518 [debug]: --------------------------------------------------
23/04/18 01:22:59 518 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:22:59 519 [debug]: --------------------------------------------------
23/04/18 01:23:11 829 [debug]: 클라이언트가 접속했습니다.
23/04/18 01:23:11 831 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 01:23:11 831 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 01:23:11 851 [info]:  >> DATABASE 접속됨 [threaId=251]
23/04/18 01:23:11 852 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:11 855 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 01:23:11 857 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:11 858 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:11 859 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 01:23:11 859 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:11 860 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:11 860 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 01:23:11 861 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:11 861 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:11 862 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 01:23:11 862 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:11 862 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:11 863 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 01:23:11 863 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:11 864 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:11 864 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 01:23:11 864 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:11 865 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:11 866 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 01:23:11 867 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:11 869 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 01:23:11 870 [debug]: --------------------------------------------------
23/04/18 01:23:13 105 [debug]: 클라이언트가 접속했습니다.
23/04/18 01:23:13 106 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 01:23:13 106 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 01:23:13 107 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:13 108 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 01:23:13 108 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:13 108 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:13 109 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 01:23:13 109 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:13 110 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:13 110 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 01:23:13 111 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:13 111 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:13 111 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 01:23:13 112 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:13 112 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:13 113 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 01:23:13 113 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:13 113 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:13 114 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 01:23:13 114 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:13 114 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:13 115 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 01:23:13 116 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:13 116 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 01:23:13 116 [debug]: --------------------------------------------------
23/04/18 01:23:14 147 [debug]: 클라이언트가 접속했습니다.
23/04/18 01:23:14 148 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 01:23:14 148 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 01:23:14 149 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:14 149 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 01:23:14 150 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:14 150 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:14 150 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 01:23:14 151 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:14 151 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:14 151 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 01:23:14 152 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:14 152 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:14 152 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 01:23:14 153 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:14 153 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:14 153 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 01:23:14 154 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:14 154 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:14 154 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 01:23:14 155 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:14 155 [info]:  >> Connection 임대됨 [threaId=251]
23/04/18 01:23:14 155 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 01:23:14 156 [info]:  >> Connection 반납됨 [threaId=251]
23/04/18 01:23:14 156 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 01:23:14 157 [debug]: --------------------------------------------------
23/04/18 01:23:35 740 [debug]: --------------------------------------------------
23/04/18 01:23:35 742 [debug]: |              Start Express Server              |
23/04/18 01:23:35 743 [debug]: --------------------------------------------------
23/04/18 01:23:35 743 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:23:35 744 [debug]: --------------------------------------------------
23/04/18 01:23:42 224 [debug]: --------------------------------------------------
23/04/18 01:23:42 226 [debug]: |              Start Express Server              |
23/04/18 01:23:42 226 [debug]: --------------------------------------------------
23/04/18 01:23:42 227 [debug]: server address => http://211.222.164.95:3001
23/04/18 01:23:42 227 [debug]: --------------------------------------------------
23/04/18 15:42:55 161 [debug]: --------------------------------------------------
23/04/18 15:42:55 163 [debug]: |              Start Express Server              |
23/04/18 15:42:55 163 [debug]: --------------------------------------------------
23/04/18 15:42:55 164 [debug]: server address => http://211.222.164.95:3001
23/04/18 15:42:55 164 [debug]: --------------------------------------------------
23/04/18 15:43:12 072 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:12 073 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 15:43:12 074 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:12 078 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:12 079 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 15:43:12 079 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:12 086 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:12 086 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 15:43:12 087 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:12 088 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:12 088 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 15:43:12 088 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:12 650 [info]:  >> DATABASE 접속됨 [threaId=256]
23/04/18 15:43:12 651 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 654 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 15:43:12 655 [info]:  >> DATABASE 접속됨 [threaId=257]
23/04/18 15:43:12 655 [info]:  >> Connection 임대됨 [threaId=257]
23/04/18 15:43:12 656 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 15:43:12 657 [info]:  >> DATABASE 접속됨 [threaId=259]
23/04/18 15:43:12 658 [info]:  >> Connection 임대됨 [threaId=259]
23/04/18 15:43:12 658 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 15:43:12 659 [info]:  >> DATABASE 접속됨 [threaId=258]
23/04/18 15:43:12 660 [info]:  >> Connection 임대됨 [threaId=258]
23/04/18 15:43:12 661 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 15:43:12 666 [info]:  >> Connection 반납됨 [threaId=257]
23/04/18 15:43:12 667 [info]:  >> Connection 임대됨 [threaId=257]
23/04/18 15:43:12 668 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 15:43:12 670 [info]:  >> Connection 반납됨 [threaId=259]
23/04/18 15:43:12 675 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 587ms
23/04/18 15:43:12 676 [debug]: --------------------------------------------------
23/04/18 15:43:12 679 [info]:  >> Connection 반납됨 [threaId=257]
23/04/18 15:43:12 680 [info]:  >> Connection 임대됨 [threaId=257]
23/04/18 15:43:12 680 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 15:43:12 684 [info]:  >> Connection 반납됨 [threaId=258]
23/04/18 15:43:12 686 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 600ms
23/04/18 15:43:12 687 [debug]: --------------------------------------------------
23/04/18 15:43:12 687 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 690 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 692 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 15:43:12 693 [info]:  >> Connection 반납됨 [threaId=257]
23/04/18 15:43:12 694 [info]:  >> Connection 임대됨 [threaId=257]
23/04/18 15:43:12 694 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 15:43:12 695 [info]:  >> Connection 반납됨 [threaId=257]
23/04/18 15:43:12 695 [info]:  >> Connection 임대됨 [threaId=257]
23/04/18 15:43:12 697 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 15:43:12 697 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 698 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 698 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 15:43:12 699 [info]:  >> Connection 반납됨 [threaId=257]
23/04/18 15:43:12 699 [info]:  >> Connection 임대됨 [threaId=257]
23/04/18 15:43:12 700 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 15:43:12 700 [info]:  >> Connection 반납됨 [threaId=257]
23/04/18 15:43:12 701 [info]:  >> Connection 임대됨 [threaId=257]
23/04/18 15:43:12 702 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 15:43:12 702 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 703 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 704 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 15:43:12 705 [info]:  >> Connection 반납됨 [threaId=257]
23/04/18 15:43:12 706 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 628ms
23/04/18 15:43:12 706 [debug]: --------------------------------------------------
23/04/18 15:43:12 707 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 708 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 635ms
23/04/18 15:43:12 709 [debug]: --------------------------------------------------
23/04/18 15:43:12 710 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:12 711 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 15:43:12 711 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:12 712 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 713 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 15:43:12 713 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 714 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 714 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 15:43:12 715 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 715 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 716 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 15:43:12 716 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 717 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 718 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 15:43:12 718 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 718 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 719 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 15:43:12 719 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 720 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 720 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 15:43:12 721 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 721 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:12 722 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 15:43:12 723 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:12 724 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 14ms
23/04/18 15:43:12 724 [debug]: --------------------------------------------------
23/04/18 15:43:19 702 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:19 703 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 15:43:19 703 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:19 704 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:19 705 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 15:43:19 705 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:19 705 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:19 706 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 15:43:19 706 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:19 707 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:19 707 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 15:43:19 707 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:19 708 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:19 708 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 15:43:19 708 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:19 709 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:19 710 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 15:43:19 710 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:19 710 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:19 711 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 15:43:19 711 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:19 712 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:19 712 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 15:43:19 713 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:19 714 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 15:43:19 714 [debug]: --------------------------------------------------
23/04/18 15:43:20 792 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:20 793 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 15:43:20 793 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:20 794 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:20 794 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 15:43:20 795 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:20 795 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:20 795 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 15:43:20 796 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:20 796 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:20 796 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 15:43:20 797 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:20 797 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:20 797 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 15:43:20 798 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:20 798 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:20 798 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 15:43:20 799 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:20 799 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:20 799 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 15:43:20 800 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:20 800 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:20 801 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 15:43:20 801 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:20 802 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 15:43:20 802 [debug]: --------------------------------------------------
23/04/18 15:43:22 166 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:22 167 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 15:43:22 167 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:22 168 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:22 168 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 15:43:22 169 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:22 169 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:22 169 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 15:43:22 170 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:22 170 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:22 170 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 15:43:22 171 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:22 171 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:22 171 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 15:43:22 172 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:22 172 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:22 172 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 15:43:22 172 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:22 173 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:22 173 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 15:43:22 174 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:22 174 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:22 174 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 15:43:22 175 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:22 175 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 15:43:22 176 [debug]: --------------------------------------------------
23/04/18 15:43:24 763 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:24 764 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 15:43:24 764 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:24 765 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:24 766 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 15:43:24 766 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:24 766 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:24 767 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 15:43:24 767 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:24 767 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:24 767 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 15:43:24 768 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:24 768 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:24 768 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 15:43:24 769 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:24 769 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:24 770 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 15:43:24 770 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:24 770 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:24 771 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 15:43:24 771 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:24 771 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:24 772 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 15:43:24 772 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:24 773 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 15:43:24 773 [debug]: --------------------------------------------------
23/04/18 15:43:25 715 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:25 715 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 15:43:25 716 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:25 716 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:25 717 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 15:43:25 717 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:25 718 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:25 718 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 15:43:25 718 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:25 718 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:25 719 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 15:43:25 719 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:25 719 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:25 720 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 15:43:25 720 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:25 720 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:25 720 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 15:43:25 721 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:25 721 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:25 721 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 15:43:25 722 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:25 722 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:25 723 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 15:43:25 723 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:25 724 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 15:43:25 725 [debug]: --------------------------------------------------
23/04/18 15:43:26 749 [debug]: 클라이언트가 접속했습니다.
23/04/18 15:43:26 750 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 15:43:26 750 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 15:43:26 751 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:26 752 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 15:43:26 752 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:26 752 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:26 753 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 15:43:26 753 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:26 753 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:26 753 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 15:43:26 754 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:26 754 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:26 754 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 15:43:26 755 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:26 755 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:26 755 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 15:43:26 756 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:26 756 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:26 756 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 15:43:26 757 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:26 757 [info]:  >> Connection 임대됨 [threaId=256]
23/04/18 15:43:26 757 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 15:43:26 758 [info]:  >> Connection 반납됨 [threaId=256]
23/04/18 15:43:26 759 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 15:43:26 759 [debug]: --------------------------------------------------
23/04/18 16:02:31 623 [debug]: --------------------------------------------------
23/04/18 16:02:31 626 [debug]: |              Start Express Server              |
23/04/18 16:02:31 626 [debug]: --------------------------------------------------
23/04/18 16:02:31 627 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:02:31 627 [debug]: --------------------------------------------------
23/04/18 16:03:15 200 [debug]: --------------------------------------------------
23/04/18 16:03:15 202 [debug]: |              Start Express Server              |
23/04/18 16:03:15 203 [debug]: --------------------------------------------------
23/04/18 16:03:15 203 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:03:15 203 [debug]: --------------------------------------------------
23/04/18 16:03:30 218 [debug]: --------------------------------------------------
23/04/18 16:03:30 220 [debug]: |              Start Express Server              |
23/04/18 16:03:30 220 [debug]: --------------------------------------------------
23/04/18 16:03:30 221 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:03:30 221 [debug]: --------------------------------------------------
23/04/18 16:03:30 550 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:03:30 552 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 16:03:30 552 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:03:30 557 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:03:30 558 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 16:03:30 558 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:03:30 560 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:03:30 560 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:03:30 561 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:03:30 561 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:03:30 562 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 16:03:30 562 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:03:30 585 [info]:  >> DATABASE 접속됨 [threaId=263]
23/04/18 16:03:30 585 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 589 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:03:30 589 [info]:  >> DATABASE 접속됨 [threaId=265]
23/04/18 16:03:30 589 [info]:  >> Connection 임대됨 [threaId=265]
23/04/18 16:03:30 591 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:03:30 591 [info]:  >> DATABASE 접속됨 [threaId=266]
23/04/18 16:03:30 592 [info]:  >> Connection 임대됨 [threaId=266]
23/04/18 16:03:30 592 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 16:03:30 593 [info]:  >> DATABASE 접속됨 [threaId=264]
23/04/18 16:03:30 593 [info]:  >> Connection 임대됨 [threaId=264]
23/04/18 16:03:30 593 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 16:03:30 597 [info]:  >> Connection 반납됨 [threaId=265]
23/04/18 16:03:30 597 [info]:  >> Connection 임대됨 [threaId=265]
23/04/18 16:03:30 598 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:03:30 599 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 599 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 600 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:03:30 601 [info]:  >> Connection 반납됨 [threaId=265]
23/04/18 16:03:30 601 [info]:  >> Connection 임대됨 [threaId=265]
23/04/18 16:03:30 601 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:03:30 602 [info]:  >> Connection 반납됨 [threaId=266]
23/04/18 16:03:30 607 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 45ms
23/04/18 16:03:30 607 [debug]: --------------------------------------------------
23/04/18 16:03:30 609 [info]:  >> Connection 반납됨 [threaId=264]
23/04/18 16:03:30 610 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 52ms
23/04/18 16:03:30 610 [debug]: --------------------------------------------------
23/04/18 16:03:30 610 [info]:  >> Connection 반납됨 [threaId=265]
23/04/18 16:03:30 611 [info]:  >> Connection 임대됨 [threaId=265]
23/04/18 16:03:30 612 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:03:30 612 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 612 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 613 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:03:30 613 [info]:  >> Connection 반납됨 [threaId=265]
23/04/18 16:03:30 614 [info]:  >> Connection 임대됨 [threaId=265]
23/04/18 16:03:30 614 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:03:30 614 [info]:  >> Connection 반납됨 [threaId=265]
23/04/18 16:03:30 615 [info]:  >> Connection 임대됨 [threaId=265]
23/04/18 16:03:30 615 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:03:30 615 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 616 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 616 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 16:03:30 617 [info]:  >> Connection 반납됨 [threaId=265]
23/04/18 16:03:30 617 [info]:  >> Connection 임대됨 [threaId=265]
23/04/18 16:03:30 618 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:03:30 619 [info]:  >> Connection 반납됨 [threaId=265]
23/04/18 16:03:30 619 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 59ms
23/04/18 16:03:30 619 [debug]: --------------------------------------------------
23/04/18 16:03:30 620 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 621 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 70ms
23/04/18 16:03:30 621 [debug]: --------------------------------------------------
23/04/18 16:03:30 622 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:03:30 622 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:03:30 623 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:03:30 624 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 624 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:03:30 624 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 625 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 625 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:03:30 626 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 626 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 626 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:03:30 627 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 627 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 627 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:03:30 627 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 628 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 628 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:03:30 628 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 629 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 629 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:03:30 629 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 630 [info]:  >> Connection 임대됨 [threaId=263]
23/04/18 16:03:30 630 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:03:30 631 [info]:  >> Connection 반납됨 [threaId=263]
23/04/18 16:03:30 632 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 16:03:30 632 [debug]: --------------------------------------------------
23/04/18 16:05:23 490 [debug]: --------------------------------------------------
23/04/18 16:05:23 493 [debug]: |              Start Express Server              |
23/04/18 16:05:23 494 [debug]: --------------------------------------------------
23/04/18 16:05:23 494 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:05:23 494 [debug]: --------------------------------------------------
23/04/18 16:08:18 044 [debug]: --------------------------------------------------
23/04/18 16:08:18 046 [debug]: |              Start Express Server              |
23/04/18 16:08:18 047 [debug]: --------------------------------------------------
23/04/18 16:08:18 047 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:08:18 048 [debug]: --------------------------------------------------
23/04/18 16:08:29 504 [debug]: --------------------------------------------------
23/04/18 16:08:29 507 [debug]: |              Start Express Server              |
23/04/18 16:08:29 507 [debug]: --------------------------------------------------
23/04/18 16:08:29 507 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:08:29 508 [debug]: --------------------------------------------------
23/04/18 16:09:19 197 [debug]: --------------------------------------------------
23/04/18 16:09:19 199 [debug]: |              Start Express Server              |
23/04/18 16:09:19 200 [debug]: --------------------------------------------------
23/04/18 16:09:19 200 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:09:19 201 [debug]: --------------------------------------------------
23/04/18 16:09:38 064 [debug]: --------------------------------------------------
23/04/18 16:09:38 066 [debug]: |              Start Express Server              |
23/04/18 16:09:38 066 [debug]: --------------------------------------------------
23/04/18 16:09:38 067 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:09:38 067 [debug]: --------------------------------------------------
23/04/18 16:10:14 175 [debug]: --------------------------------------------------
23/04/18 16:10:14 177 [debug]: |              Start Express Server              |
23/04/18 16:10:14 178 [debug]: --------------------------------------------------
23/04/18 16:10:14 178 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:10:14 178 [debug]: --------------------------------------------------
23/04/18 16:10:21 331 [debug]: --------------------------------------------------
23/04/18 16:10:21 334 [debug]: |              Start Express Server              |
23/04/18 16:10:21 334 [debug]: --------------------------------------------------
23/04/18 16:10:21 335 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:10:21 335 [debug]: --------------------------------------------------
23/04/18 16:10:35 290 [debug]: --------------------------------------------------
23/04/18 16:10:35 292 [debug]: |              Start Express Server              |
23/04/18 16:10:35 292 [debug]: --------------------------------------------------
23/04/18 16:10:35 293 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:10:35 293 [debug]: --------------------------------------------------
23/04/18 16:12:39 908 [debug]: --------------------------------------------------
23/04/18 16:12:39 910 [debug]: |              Start Express Server              |
23/04/18 16:12:39 910 [debug]: --------------------------------------------------
23/04/18 16:12:39 911 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:12:39 911 [debug]: --------------------------------------------------
23/04/18 16:14:14 808 [debug]: --------------------------------------------------
23/04/18 16:14:14 810 [debug]: |              Start Express Server              |
23/04/18 16:14:14 811 [debug]: --------------------------------------------------
23/04/18 16:14:14 811 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:14:14 812 [debug]: --------------------------------------------------
23/04/18 16:14:19 633 [debug]: --------------------------------------------------
23/04/18 16:14:19 635 [debug]: |              Start Express Server              |
23/04/18 16:14:19 635 [debug]: --------------------------------------------------
23/04/18 16:14:19 636 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:14:19 636 [debug]: --------------------------------------------------
23/04/18 16:14:46 432 [debug]: --------------------------------------------------
23/04/18 16:14:46 434 [debug]: |              Start Express Server              |
23/04/18 16:14:46 434 [debug]: --------------------------------------------------
23/04/18 16:14:46 435 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:14:46 435 [debug]: --------------------------------------------------
23/04/18 16:15:06 183 [debug]: --------------------------------------------------
23/04/18 16:15:06 185 [debug]: |              Start Express Server              |
23/04/18 16:15:06 186 [debug]: --------------------------------------------------
23/04/18 16:15:06 186 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:15:06 186 [debug]: --------------------------------------------------
23/04/18 16:15:08 683 [debug]: --------------------------------------------------
23/04/18 16:15:08 685 [debug]: |              Start Express Server              |
23/04/18 16:15:08 685 [debug]: --------------------------------------------------
23/04/18 16:15:08 685 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:15:08 686 [debug]: --------------------------------------------------
23/04/18 16:15:52 007 [debug]: --------------------------------------------------
23/04/18 16:15:52 010 [debug]: |              Start Express Server              |
23/04/18 16:15:52 010 [debug]: --------------------------------------------------
23/04/18 16:15:52 010 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:15:52 011 [debug]: --------------------------------------------------
23/04/18 16:15:54 256 [debug]: --------------------------------------------------
23/04/18 16:15:54 258 [debug]: |              Start Express Server              |
23/04/18 16:15:54 259 [debug]: --------------------------------------------------
23/04/18 16:15:54 259 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:15:54 259 [debug]: --------------------------------------------------
23/04/18 16:16:06 808 [debug]: --------------------------------------------------
23/04/18 16:16:06 810 [debug]: |              Start Express Server              |
23/04/18 16:16:06 810 [debug]: --------------------------------------------------
23/04/18 16:16:06 811 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:16:06 811 [debug]: --------------------------------------------------
23/04/18 16:16:09 108 [debug]: --------------------------------------------------
23/04/18 16:16:09 110 [debug]: |              Start Express Server              |
23/04/18 16:16:09 110 [debug]: --------------------------------------------------
23/04/18 16:16:09 111 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:16:09 111 [debug]: --------------------------------------------------
23/04/18 16:16:11 633 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:11 634 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 16:16:11 634 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:11 638 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:11 639 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 16:16:11 639 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:11 641 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:11 642 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:16:11 642 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:11 651 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:11 651 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 16:16:11 651 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:11 668 [info]:  >> DATABASE 접속됨 [threaId=285]
23/04/18 16:16:11 668 [info]:  >> Connection 임대됨 [threaId=285]
23/04/18 16:16:11 670 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:16:11 671 [info]:  >> DATABASE 접속됨 [threaId=286]
23/04/18 16:16:11 671 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 672 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:16:11 672 [info]:  >> DATABASE 접속됨 [threaId=287]
23/04/18 16:16:11 672 [info]:  >> Connection 임대됨 [threaId=287]
23/04/18 16:16:11 673 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 16:16:11 673 [info]:  >> DATABASE 접속됨 [threaId=288]
23/04/18 16:16:11 673 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:11 674 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 16:16:11 676 [info]:  >> Connection 반납됨 [threaId=285]
23/04/18 16:16:11 677 [info]:  >> Connection 임대됨 [threaId=285]
23/04/18 16:16:11 677 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:16:11 678 [info]:  >> Connection 반납됨 [threaId=285]
23/04/18 16:16:11 678 [info]:  >> Connection 임대됨 [threaId=285]
23/04/18 16:16:11 679 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:16:11 680 [info]:  >> Connection 반납됨 [threaId=287]
23/04/18 16:16:11 683 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 44ms
23/04/18 16:16:11 683 [debug]: --------------------------------------------------
23/04/18 16:16:11 683 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 684 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 684 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:16:11 685 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:11 686 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 35ms
23/04/18 16:16:11 686 [debug]: --------------------------------------------------
23/04/18 16:16:11 687 [info]:  >> Connection 반납됨 [threaId=285]
23/04/18 16:16:11 687 [info]:  >> Connection 임대됨 [threaId=285]
23/04/18 16:16:11 687 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:16:11 688 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 688 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 689 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:16:11 689 [info]:  >> Connection 반납됨 [threaId=285]
23/04/18 16:16:11 689 [info]:  >> Connection 임대됨 [threaId=285]
23/04/18 16:16:11 690 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:16:11 690 [info]:  >> Connection 반납됨 [threaId=285]
23/04/18 16:16:11 690 [info]:  >> Connection 임대됨 [threaId=285]
23/04/18 16:16:11 691 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:16:11 691 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 692 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 692 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 16:16:11 693 [info]:  >> Connection 반납됨 [threaId=285]
23/04/18 16:16:11 693 [info]:  >> Connection 임대됨 [threaId=285]
23/04/18 16:16:11 694 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:16:11 695 [info]:  >> Connection 반납됨 [threaId=285]
23/04/18 16:16:11 696 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 55ms
23/04/18 16:16:11 696 [debug]: --------------------------------------------------
23/04/18 16:16:11 697 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 698 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 65ms
23/04/18 16:16:11 698 [debug]: --------------------------------------------------
23/04/18 16:16:11 699 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:11 699 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:16:11 699 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:11 700 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 701 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:16:11 701 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 701 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 702 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:16:11 702 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 702 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 703 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:16:11 703 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 703 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 703 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:16:11 704 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 704 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 704 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:16:11 705 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 705 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 705 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:16:11 706 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 706 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:11 706 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:16:11 707 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:11 707 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 16:16:11 708 [debug]: --------------------------------------------------
23/04/18 16:16:24 522 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:24 522 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 16:16:24 523 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:24 524 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:24 525 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:16:24 527 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:24 527 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 16:16:24 528 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:24 529 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:24 529 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:16:24 529 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:24 530 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:24 530 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 16:16:24 530 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:24 532 [info]:  >> Connection 임대됨 [threaId=285]
23/04/18 16:16:24 532 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 16:16:24 533 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 533 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:16:24 534 [info]:  >> Connection 임대됨 [threaId=287]
23/04/18 16:16:24 534 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 16:16:24 535 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:24 535 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:24 535 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:16:24 536 [info]:  >> Connection 반납됨 [threaId=285]
23/04/18 16:16:24 537 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 16:16:24 537 [debug]: --------------------------------------------------
23/04/18 16:16:24 537 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 538 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 538 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:16:24 539 [info]:  >> Connection 반납됨 [threaId=287]
23/04/18 16:16:24 539 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 16:16:24 539 [debug]: --------------------------------------------------
23/04/18 16:16:24 540 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 540 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 541 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:16:24 542 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:24 542 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:24 542 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:16:24 543 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 543 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 543 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:16:24 544 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 544 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 544 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:16:24 545 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:24 545 [info]:  >> Connection 임대됨 [threaId=286]
23/04/18 16:16:24 545 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 16:16:24 546 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 546 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 546 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:16:24 547 [info]:  >> Connection 반납됨 [threaId=286]
23/04/18 16:16:24 547 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 25ms
23/04/18 16:16:24 548 [debug]: --------------------------------------------------
23/04/18 16:16:24 548 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 548 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 549 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:16:24 550 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 550 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 16:16:24 551 [debug]: --------------------------------------------------
23/04/18 16:16:24 552 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:16:24 552 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:16:24 552 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:16:24 553 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 554 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:16:24 554 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 554 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 555 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:16:24 555 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 556 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 556 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:16:24 556 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 556 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 557 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:16:24 557 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 557 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 558 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:16:24 558 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 558 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 559 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:16:24 559 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 559 [info]:  >> Connection 임대됨 [threaId=288]
23/04/18 16:16:24 560 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:16:24 560 [info]:  >> Connection 반납됨 [threaId=288]
23/04/18 16:16:24 561 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 16:16:24 561 [debug]: --------------------------------------------------
23/04/18 16:16:36 149 [debug]: --------------------------------------------------
23/04/18 16:16:36 151 [debug]: |              Start Express Server              |
23/04/18 16:16:36 152 [debug]: --------------------------------------------------
23/04/18 16:16:36 152 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:16:36 153 [debug]: --------------------------------------------------
23/04/18 16:16:42 706 [debug]: --------------------------------------------------
23/04/18 16:16:42 708 [debug]: |              Start Express Server              |
23/04/18 16:16:42 708 [debug]: --------------------------------------------------
23/04/18 16:16:42 709 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:16:42 709 [debug]: --------------------------------------------------
23/04/18 16:17:39 221 [debug]: --------------------------------------------------
23/04/18 16:17:39 226 [debug]: |              Start Express Server              |
23/04/18 16:17:39 227 [debug]: --------------------------------------------------
23/04/18 16:17:39 227 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:17:39 228 [debug]: --------------------------------------------------
23/04/18 16:17:45 416 [debug]: --------------------------------------------------
23/04/18 16:17:45 418 [debug]: |              Start Express Server              |
23/04/18 16:17:45 418 [debug]: --------------------------------------------------
23/04/18 16:17:45 419 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:17:45 419 [debug]: --------------------------------------------------
23/04/18 16:17:49 147 [debug]: --------------------------------------------------
23/04/18 16:17:49 149 [debug]: |              Start Express Server              |
23/04/18 16:17:49 150 [debug]: --------------------------------------------------
23/04/18 16:17:49 150 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:17:49 150 [debug]: --------------------------------------------------
23/04/18 16:17:50 990 [debug]: --------------------------------------------------
23/04/18 16:17:50 992 [debug]: |              Start Express Server              |
23/04/18 16:17:50 992 [debug]: --------------------------------------------------
23/04/18 16:17:50 993 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:17:50 993 [debug]: --------------------------------------------------
23/04/18 16:17:53 533 [debug]: --------------------------------------------------
23/04/18 16:17:53 535 [debug]: |              Start Express Server              |
23/04/18 16:17:53 535 [debug]: --------------------------------------------------
23/04/18 16:17:53 536 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:17:53 536 [debug]: --------------------------------------------------
23/04/18 16:17:57 734 [debug]: --------------------------------------------------
23/04/18 16:17:57 736 [debug]: |              Start Express Server              |
23/04/18 16:17:57 737 [debug]: --------------------------------------------------
23/04/18 16:17:57 737 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:17:57 737 [debug]: --------------------------------------------------
23/04/18 16:18:00 482 [debug]: --------------------------------------------------
23/04/18 16:18:00 484 [debug]: |              Start Express Server              |
23/04/18 16:18:00 485 [debug]: --------------------------------------------------
23/04/18 16:18:00 485 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:18:00 485 [debug]: --------------------------------------------------
23/04/18 16:18:02 964 [debug]: --------------------------------------------------
23/04/18 16:18:02 966 [debug]: |              Start Express Server              |
23/04/18 16:18:02 966 [debug]: --------------------------------------------------
23/04/18 16:18:02 967 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:18:02 967 [debug]: --------------------------------------------------
23/04/18 16:22:26 025 [debug]: --------------------------------------------------
23/04/18 16:22:26 027 [debug]: |              Start Express Server              |
23/04/18 16:22:26 028 [debug]: --------------------------------------------------
23/04/18 16:22:26 028 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:22:26 028 [debug]: --------------------------------------------------
23/04/18 16:22:35 187 [debug]: --------------------------------------------------
23/04/18 16:22:35 189 [debug]: |              Start Express Server              |
23/04/18 16:22:35 189 [debug]: --------------------------------------------------
23/04/18 16:22:35 190 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:22:35 190 [debug]: --------------------------------------------------
23/04/18 16:22:48 671 [debug]: --------------------------------------------------
23/04/18 16:22:48 673 [debug]: |              Start Express Server              |
23/04/18 16:22:48 674 [debug]: --------------------------------------------------
23/04/18 16:22:48 674 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:22:48 674 [debug]: --------------------------------------------------
23/04/18 16:23:02 480 [debug]: --------------------------------------------------
23/04/18 16:23:02 482 [debug]: |              Start Express Server              |
23/04/18 16:23:02 482 [debug]: --------------------------------------------------
23/04/18 16:23:02 483 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:23:02 483 [debug]: --------------------------------------------------
23/04/18 16:23:17 218 [debug]: --------------------------------------------------
23/04/18 16:23:17 221 [debug]: |              Start Express Server              |
23/04/18 16:23:17 221 [debug]: --------------------------------------------------
23/04/18 16:23:17 221 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:23:17 222 [debug]: --------------------------------------------------
23/04/18 16:23:47 996 [debug]: --------------------------------------------------
23/04/18 16:23:47 998 [debug]: |              Start Express Server              |
23/04/18 16:23:47 999 [debug]: --------------------------------------------------
23/04/18 16:23:47 999 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:23:47 999 [debug]: --------------------------------------------------
23/04/18 16:23:53 321 [debug]: --------------------------------------------------
23/04/18 16:23:53 323 [debug]: |              Start Express Server              |
23/04/18 16:23:53 324 [debug]: --------------------------------------------------
23/04/18 16:23:53 324 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:23:53 324 [debug]: --------------------------------------------------
23/04/18 16:24:39 482 [debug]: --------------------------------------------------
23/04/18 16:24:39 484 [debug]: |              Start Express Server              |
23/04/18 16:24:39 485 [debug]: --------------------------------------------------
23/04/18 16:24:39 485 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:24:39 485 [debug]: --------------------------------------------------
23/04/18 16:24:42 627 [debug]: --------------------------------------------------
23/04/18 16:24:42 629 [debug]: |              Start Express Server              |
23/04/18 16:24:42 629 [debug]: --------------------------------------------------
23/04/18 16:24:42 630 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:24:42 630 [debug]: --------------------------------------------------
23/04/18 16:24:51 220 [debug]: --------------------------------------------------
23/04/18 16:24:51 222 [debug]: |              Start Express Server              |
23/04/18 16:24:51 223 [debug]: --------------------------------------------------
23/04/18 16:24:51 223 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:24:51 223 [debug]: --------------------------------------------------
23/04/18 16:25:01 272 [debug]: --------------------------------------------------
23/04/18 16:25:01 274 [debug]: |              Start Express Server              |
23/04/18 16:25:01 274 [debug]: --------------------------------------------------
23/04/18 16:25:01 275 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:25:01 275 [debug]: --------------------------------------------------
23/04/18 16:25:02 079 [debug]: --------------------------------------------------
23/04/18 16:25:02 081 [debug]: |              Start Express Server              |
23/04/18 16:25:02 081 [debug]: --------------------------------------------------
23/04/18 16:25:02 081 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:25:02 082 [debug]: --------------------------------------------------
23/04/18 16:25:14 186 [debug]: --------------------------------------------------
23/04/18 16:25:14 189 [debug]: |              Start Express Server              |
23/04/18 16:25:14 189 [debug]: --------------------------------------------------
23/04/18 16:25:14 189 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:25:14 190 [debug]: --------------------------------------------------
23/04/18 16:26:28 978 [debug]: --------------------------------------------------
23/04/18 16:26:28 980 [debug]: |              Start Express Server              |
23/04/18 16:26:28 981 [debug]: --------------------------------------------------
23/04/18 16:26:28 981 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:26:28 981 [debug]: --------------------------------------------------
23/04/18 16:26:38 741 [debug]: --------------------------------------------------
23/04/18 16:26:38 743 [debug]: |              Start Express Server              |
23/04/18 16:26:38 743 [debug]: --------------------------------------------------
23/04/18 16:26:38 743 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:26:38 744 [debug]: --------------------------------------------------
23/04/18 16:26:54 986 [debug]: --------------------------------------------------
23/04/18 16:26:54 988 [debug]: |              Start Express Server              |
23/04/18 16:26:54 989 [debug]: --------------------------------------------------
23/04/18 16:26:54 989 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:26:54 989 [debug]: --------------------------------------------------
23/04/18 16:27:07 168 [debug]: --------------------------------------------------
23/04/18 16:27:07 170 [debug]: |              Start Express Server              |
23/04/18 16:27:07 170 [debug]: --------------------------------------------------
23/04/18 16:27:07 171 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:27:07 171 [debug]: --------------------------------------------------
23/04/18 16:27:09 912 [debug]: --------------------------------------------------
23/04/18 16:27:09 914 [debug]: |              Start Express Server              |
23/04/18 16:27:09 915 [debug]: --------------------------------------------------
23/04/18 16:27:09 915 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:27:09 915 [debug]: --------------------------------------------------
23/04/18 16:27:25 844 [debug]: --------------------------------------------------
23/04/18 16:27:25 846 [debug]: |              Start Express Server              |
23/04/18 16:27:25 847 [debug]: --------------------------------------------------
23/04/18 16:27:25 847 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:27:25 847 [debug]: --------------------------------------------------
23/04/18 16:27:28 492 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:28 493 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 16:27:28 493 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:28 497 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:28 498 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 16:27:28 498 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:28 506 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:28 506 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:27:28 507 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:28 508 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:28 508 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 16:27:28 508 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:28 525 [info]:  >> DATABASE 접속됨 [threaId=319]
23/04/18 16:27:28 526 [info]:  >> Connection 임대됨 [threaId=319]
23/04/18 16:27:28 528 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:27:28 528 [info]:  >> DATABASE 접속됨 [threaId=320]
23/04/18 16:27:28 529 [info]:  >> Connection 임대됨 [threaId=320]
23/04/18 16:27:28 529 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 16:27:28 532 [info]:  >> Connection 반납됨 [threaId=319]
23/04/18 16:27:28 532 [info]:  >> Connection 임대됨 [threaId=319]
23/04/18 16:27:28 533 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:27:28 533 [info]:  >> DATABASE 접속됨 [threaId=322]
23/04/18 16:27:28 533 [info]:  >> Connection 임대됨 [threaId=322]
23/04/18 16:27:28 534 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 16:27:28 534 [info]:  >> DATABASE 접속됨 [threaId=321]
23/04/18 16:27:28 534 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 535 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:27:28 536 [info]:  >> Connection 반납됨 [threaId=320]
23/04/18 16:27:28 539 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 42ms
23/04/18 16:27:28 539 [debug]: --------------------------------------------------
23/04/18 16:27:28 540 [info]:  >> Connection 반납됨 [threaId=319]
23/04/18 16:27:28 540 [info]:  >> Connection 임대됨 [threaId=319]
23/04/18 16:27:28 541 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:27:28 542 [info]:  >> Connection 반납됨 [threaId=322]
23/04/18 16:27:28 542 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 16:27:28 543 [debug]: --------------------------------------------------
23/04/18 16:27:28 543 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 544 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 545 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:27:28 546 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 546 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 547 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:27:28 547 [info]:  >> Connection 반납됨 [threaId=319]
23/04/18 16:27:28 548 [info]:  >> Connection 임대됨 [threaId=319]
23/04/18 16:27:28 548 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 16:27:28 549 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 549 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 549 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:27:28 550 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 550 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 551 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:27:28 552 [info]:  >> Connection 반납됨 [threaId=319]
23/04/18 16:27:28 553 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 16:27:28 553 [debug]: --------------------------------------------------
23/04/18 16:27:28 553 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 554 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 554 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:27:28 555 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 555 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 556 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:27:28 557 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 557 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 51ms
23/04/18 16:27:28 557 [debug]: --------------------------------------------------
23/04/18 16:27:28 558 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:28 559 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:27:28 559 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:28 560 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 560 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:27:28 561 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 561 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 561 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:27:28 562 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 562 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 562 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:27:28 563 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 563 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 563 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:27:28 564 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 564 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 564 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:27:28 564 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 565 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 565 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:27:28 565 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 566 [info]:  >> Connection 임대됨 [threaId=321]
23/04/18 16:27:28 566 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:27:28 567 [info]:  >> Connection 반납됨 [threaId=321]
23/04/18 16:27:28 567 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 16:27:28 568 [debug]: --------------------------------------------------
23/04/18 16:27:50 837 [debug]: --------------------------------------------------
23/04/18 16:27:50 839 [debug]: |              Start Express Server              |
23/04/18 16:27:50 840 [debug]: --------------------------------------------------
23/04/18 16:27:50 840 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:27:50 840 [debug]: --------------------------------------------------
23/04/18 16:27:54 261 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:54 262 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 16:27:54 262 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:54 266 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:54 266 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 16:27:54 267 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:54 275 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:54 275 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:27:54 275 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:54 276 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:54 277 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 16:27:54 277 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:54 293 [info]:  >> DATABASE 접속됨 [threaId=324]
23/04/18 16:27:54 293 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 296 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:27:54 296 [info]:  >> DATABASE 접속됨 [threaId=325]
23/04/18 16:27:54 297 [info]:  >> Connection 임대됨 [threaId=325]
23/04/18 16:27:54 297 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 16:27:54 298 [info]:  >> DATABASE 접속됨 [threaId=326]
23/04/18 16:27:54 298 [info]:  >> Connection 임대됨 [threaId=326]
23/04/18 16:27:54 299 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:27:54 299 [info]:  >> DATABASE 접속됨 [threaId=327]
23/04/18 16:27:54 299 [info]:  >> Connection 임대됨 [threaId=327]
23/04/18 16:27:54 300 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 16:27:54 302 [info]:  >> Connection 반납됨 [threaId=326]
23/04/18 16:27:54 303 [info]:  >> Connection 임대됨 [threaId=326]
23/04/18 16:27:54 303 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:27:54 304 [info]:  >> Connection 반납됨 [threaId=326]
23/04/18 16:27:54 304 [info]:  >> Connection 임대됨 [threaId=326]
23/04/18 16:27:54 305 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:27:54 306 [info]:  >> Connection 반납됨 [threaId=327]
23/04/18 16:27:54 309 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 32ms
23/04/18 16:27:54 309 [debug]: --------------------------------------------------
23/04/18 16:27:54 310 [info]:  >> Connection 반납됨 [threaId=325]
23/04/18 16:27:54 311 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 45ms
23/04/18 16:27:54 311 [debug]: --------------------------------------------------
23/04/18 16:27:54 312 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 312 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 312 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:27:54 313 [info]:  >> Connection 반납됨 [threaId=326]
23/04/18 16:27:54 313 [info]:  >> Connection 임대됨 [threaId=326]
23/04/18 16:27:54 314 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:27:54 314 [info]:  >> Connection 반납됨 [threaId=326]
23/04/18 16:27:54 314 [info]:  >> Connection 임대됨 [threaId=326]
23/04/18 16:27:54 315 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:27:54 315 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 315 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 316 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:27:54 316 [info]:  >> Connection 반납됨 [threaId=326]
23/04/18 16:27:54 316 [info]:  >> Connection 임대됨 [threaId=326]
23/04/18 16:27:54 317 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:27:54 317 [info]:  >> Connection 반납됨 [threaId=326]
23/04/18 16:27:54 318 [info]:  >> Connection 임대됨 [threaId=326]
23/04/18 16:27:54 318 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:27:54 319 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 319 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 319 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 16:27:54 320 [info]:  >> Connection 반납됨 [threaId=326]
23/04/18 16:27:54 321 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 46ms
23/04/18 16:27:54 321 [debug]: --------------------------------------------------
23/04/18 16:27:54 322 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 323 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 16:27:54 323 [debug]: --------------------------------------------------
23/04/18 16:27:54 324 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:27:54 324 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:27:54 324 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:27:54 325 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 326 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:27:54 326 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 326 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 327 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:27:54 327 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 327 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 328 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:27:54 328 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 328 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 329 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:27:54 329 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 329 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 330 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:27:54 330 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 330 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 330 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:27:54 331 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 331 [info]:  >> Connection 임대됨 [threaId=324]
23/04/18 16:27:54 331 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:27:54 332 [info]:  >> Connection 반납됨 [threaId=324]
23/04/18 16:27:54 333 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 16:27:54 333 [debug]: --------------------------------------------------
23/04/18 16:28:01 000 [debug]: --------------------------------------------------
23/04/18 16:28:01 003 [debug]: |              Start Express Server              |
23/04/18 16:28:01 003 [debug]: --------------------------------------------------
23/04/18 16:28:01 004 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:28:01 004 [debug]: --------------------------------------------------
23/04/18 16:28:33 602 [debug]: --------------------------------------------------
23/04/18 16:28:33 604 [debug]: |              Start Express Server              |
23/04/18 16:28:33 604 [debug]: --------------------------------------------------
23/04/18 16:28:33 604 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:28:33 605 [debug]: --------------------------------------------------
23/04/18 16:28:54 952 [debug]: --------------------------------------------------
23/04/18 16:28:54 954 [debug]: |              Start Express Server              |
23/04/18 16:28:54 955 [debug]: --------------------------------------------------
23/04/18 16:28:54 955 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:28:54 955 [debug]: --------------------------------------------------
23/04/18 16:29:16 180 [debug]: --------------------------------------------------
23/04/18 16:29:16 182 [debug]: |              Start Express Server              |
23/04/18 16:29:16 182 [debug]: --------------------------------------------------
23/04/18 16:29:16 183 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:29:16 183 [debug]: --------------------------------------------------
23/04/18 16:29:20 981 [debug]: --------------------------------------------------
23/04/18 16:29:20 983 [debug]: |              Start Express Server              |
23/04/18 16:29:20 983 [debug]: --------------------------------------------------
23/04/18 16:29:20 984 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:29:20 984 [debug]: --------------------------------------------------
23/04/18 16:29:23 975 [debug]: --------------------------------------------------
23/04/18 16:29:23 977 [debug]: |              Start Express Server              |
23/04/18 16:29:23 977 [debug]: --------------------------------------------------
23/04/18 16:29:23 978 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:29:23 978 [debug]: --------------------------------------------------
23/04/18 16:29:46 295 [debug]: --------------------------------------------------
23/04/18 16:29:46 297 [debug]: |              Start Express Server              |
23/04/18 16:29:46 298 [debug]: --------------------------------------------------
23/04/18 16:29:46 298 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:29:46 298 [debug]: --------------------------------------------------
23/04/18 16:29:55 411 [debug]: --------------------------------------------------
23/04/18 16:29:55 413 [debug]: |              Start Express Server              |
23/04/18 16:29:55 413 [debug]: --------------------------------------------------
23/04/18 16:29:55 414 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:29:55 414 [debug]: --------------------------------------------------
23/04/18 16:30:01 329 [debug]: --------------------------------------------------
23/04/18 16:30:01 331 [debug]: |              Start Express Server              |
23/04/18 16:30:01 332 [debug]: --------------------------------------------------
23/04/18 16:30:01 332 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:30:01 333 [debug]: --------------------------------------------------
23/04/18 16:30:11 755 [debug]: --------------------------------------------------
23/04/18 16:30:11 757 [debug]: |              Start Express Server              |
23/04/18 16:30:11 758 [debug]: --------------------------------------------------
23/04/18 16:30:11 758 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:30:11 759 [debug]: --------------------------------------------------
23/04/18 16:30:35 625 [debug]: --------------------------------------------------
23/04/18 16:30:35 627 [debug]: |              Start Express Server              |
23/04/18 16:30:35 628 [debug]: --------------------------------------------------
23/04/18 16:30:35 628 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:30:35 629 [debug]: --------------------------------------------------
23/04/18 16:31:15 661 [debug]: --------------------------------------------------
23/04/18 16:31:15 663 [debug]: |              Start Express Server              |
23/04/18 16:31:15 664 [debug]: --------------------------------------------------
23/04/18 16:31:15 664 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:31:15 665 [debug]: --------------------------------------------------
23/04/18 16:31:23 539 [debug]: --------------------------------------------------
23/04/18 16:31:23 542 [debug]: |              Start Express Server              |
23/04/18 16:31:23 542 [debug]: --------------------------------------------------
23/04/18 16:31:23 542 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:31:23 543 [debug]: --------------------------------------------------
23/04/18 16:31:37 337 [debug]: --------------------------------------------------
23/04/18 16:31:37 339 [debug]: |              Start Express Server              |
23/04/18 16:31:37 339 [debug]: --------------------------------------------------
23/04/18 16:31:37 340 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:31:37 340 [debug]: --------------------------------------------------
23/04/18 16:32:24 127 [debug]: --------------------------------------------------
23/04/18 16:32:24 129 [debug]: |              Start Express Server              |
23/04/18 16:32:24 129 [debug]: --------------------------------------------------
23/04/18 16:32:24 129 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:32:24 130 [debug]: --------------------------------------------------
23/04/18 16:32:43 041 [debug]: --------------------------------------------------
23/04/18 16:32:43 043 [debug]: |              Start Express Server              |
23/04/18 16:32:43 043 [debug]: --------------------------------------------------
23/04/18 16:32:43 043 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:32:43 044 [debug]: --------------------------------------------------
23/04/18 16:32:47 593 [debug]: --------------------------------------------------
23/04/18 16:32:47 595 [debug]: |              Start Express Server              |
23/04/18 16:32:47 596 [debug]: --------------------------------------------------
23/04/18 16:32:47 596 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:32:47 596 [debug]: --------------------------------------------------
23/04/18 16:32:51 542 [debug]: --------------------------------------------------
23/04/18 16:32:51 544 [debug]: |              Start Express Server              |
23/04/18 16:32:51 545 [debug]: --------------------------------------------------
23/04/18 16:32:51 545 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:32:51 545 [debug]: --------------------------------------------------
23/04/18 16:34:10 600 [debug]: --------------------------------------------------
23/04/18 16:34:10 602 [debug]: |              Start Express Server              |
23/04/18 16:34:10 602 [debug]: --------------------------------------------------
23/04/18 16:34:10 602 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:34:10 603 [debug]: --------------------------------------------------
23/04/18 16:34:14 211 [debug]: --------------------------------------------------
23/04/18 16:34:14 213 [debug]: |              Start Express Server              |
23/04/18 16:34:14 214 [debug]: --------------------------------------------------
23/04/18 16:34:14 214 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:34:14 214 [debug]: --------------------------------------------------
23/04/18 16:34:55 399 [debug]: --------------------------------------------------
23/04/18 16:34:55 401 [debug]: |              Start Express Server              |
23/04/18 16:34:55 402 [debug]: --------------------------------------------------
23/04/18 16:34:55 402 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:34:55 403 [debug]: --------------------------------------------------
23/04/18 16:36:23 649 [debug]: --------------------------------------------------
23/04/18 16:36:23 651 [debug]: |              Start Express Server              |
23/04/18 16:36:23 651 [debug]: --------------------------------------------------
23/04/18 16:36:23 652 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:36:23 652 [debug]: --------------------------------------------------
23/04/18 16:36:38 442 [debug]: --------------------------------------------------
23/04/18 16:36:38 444 [debug]: |              Start Express Server              |
23/04/18 16:36:38 445 [debug]: --------------------------------------------------
23/04/18 16:36:38 445 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:36:38 446 [debug]: --------------------------------------------------
23/04/18 16:37:05 283 [debug]: --------------------------------------------------
23/04/18 16:37:05 285 [debug]: |              Start Express Server              |
23/04/18 16:37:05 285 [debug]: --------------------------------------------------
23/04/18 16:37:05 286 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:37:05 286 [debug]: --------------------------------------------------
23/04/18 16:37:17 751 [debug]: --------------------------------------------------
23/04/18 16:37:17 754 [debug]: |              Start Express Server              |
23/04/18 16:37:17 754 [debug]: --------------------------------------------------
23/04/18 16:37:17 755 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:37:17 755 [debug]: --------------------------------------------------
23/04/18 16:37:24 260 [debug]: --------------------------------------------------
23/04/18 16:37:24 263 [debug]: |              Start Express Server              |
23/04/18 16:37:24 263 [debug]: --------------------------------------------------
23/04/18 16:37:24 263 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:37:24 264 [debug]: --------------------------------------------------
23/04/18 16:37:30 261 [debug]: --------------------------------------------------
23/04/18 16:37:30 262 [debug]: |              Start Express Server              |
23/04/18 16:37:30 263 [debug]: --------------------------------------------------
23/04/18 16:37:30 263 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:37:30 263 [debug]: --------------------------------------------------
23/04/18 16:37:34 169 [debug]: --------------------------------------------------
23/04/18 16:37:34 172 [debug]: |              Start Express Server              |
23/04/18 16:37:34 172 [debug]: --------------------------------------------------
23/04/18 16:37:34 172 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:37:34 173 [debug]: --------------------------------------------------
23/04/18 16:37:39 452 [debug]: --------------------------------------------------
23/04/18 16:37:39 455 [debug]: |              Start Express Server              |
23/04/18 16:37:39 455 [debug]: --------------------------------------------------
23/04/18 16:37:39 456 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:37:39 456 [debug]: --------------------------------------------------
23/04/18 16:37:44 621 [debug]: --------------------------------------------------
23/04/18 16:37:44 623 [debug]: |              Start Express Server              |
23/04/18 16:37:44 623 [debug]: --------------------------------------------------
23/04/18 16:37:44 624 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:37:44 624 [debug]: --------------------------------------------------
23/04/18 16:37:59 582 [debug]: --------------------------------------------------
23/04/18 16:37:59 584 [debug]: |              Start Express Server              |
23/04/18 16:37:59 585 [debug]: --------------------------------------------------
23/04/18 16:37:59 585 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:37:59 585 [debug]: --------------------------------------------------
23/04/18 16:39:01 119 [debug]: --------------------------------------------------
23/04/18 16:39:01 121 [debug]: |              Start Express Server              |
23/04/18 16:39:01 122 [debug]: --------------------------------------------------
23/04/18 16:39:01 122 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:39:01 122 [debug]: --------------------------------------------------
23/04/18 16:39:03 510 [debug]: --------------------------------------------------
23/04/18 16:39:03 512 [debug]: |              Start Express Server              |
23/04/18 16:39:03 512 [debug]: --------------------------------------------------
23/04/18 16:39:03 513 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:39:03 513 [debug]: --------------------------------------------------
23/04/18 16:39:13 123 [debug]: --------------------------------------------------
23/04/18 16:39:13 125 [debug]: |              Start Express Server              |
23/04/18 16:39:13 125 [debug]: --------------------------------------------------
23/04/18 16:39:13 126 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:39:13 126 [debug]: --------------------------------------------------
23/04/18 16:40:24 708 [debug]: --------------------------------------------------
23/04/18 16:40:24 710 [debug]: |              Start Express Server              |
23/04/18 16:40:24 711 [debug]: --------------------------------------------------
23/04/18 16:40:24 711 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:40:24 711 [debug]: --------------------------------------------------
23/04/18 16:40:30 644 [debug]: --------------------------------------------------
23/04/18 16:40:30 646 [debug]: |              Start Express Server              |
23/04/18 16:40:30 647 [debug]: --------------------------------------------------
23/04/18 16:40:30 647 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:40:30 647 [debug]: --------------------------------------------------
23/04/18 16:41:26 847 [debug]: --------------------------------------------------
23/04/18 16:41:26 849 [debug]: |              Start Express Server              |
23/04/18 16:41:26 849 [debug]: --------------------------------------------------
23/04/18 16:41:26 849 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:41:26 850 [debug]: --------------------------------------------------
23/04/18 16:41:39 634 [debug]: --------------------------------------------------
23/04/18 16:41:39 636 [debug]: |              Start Express Server              |
23/04/18 16:41:39 637 [debug]: --------------------------------------------------
23/04/18 16:41:39 637 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:41:39 638 [debug]: --------------------------------------------------
23/04/18 16:42:06 721 [debug]: --------------------------------------------------
23/04/18 16:42:06 723 [debug]: |              Start Express Server              |
23/04/18 16:42:06 724 [debug]: --------------------------------------------------
23/04/18 16:42:06 724 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:42:06 724 [debug]: --------------------------------------------------
23/04/18 16:42:19 672 [debug]: --------------------------------------------------
23/04/18 16:42:19 674 [debug]: |              Start Express Server              |
23/04/18 16:42:19 675 [debug]: --------------------------------------------------
23/04/18 16:42:19 675 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:42:19 675 [debug]: --------------------------------------------------
23/04/18 16:43:14 582 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:43:14 584 [debug]: [GET] http://localhost:3001/book_authName/18
23/04/18 16:43:14 584 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:43:14 590 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:43:14 590 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=18&odby=&point=
23/04/18 16:43:14 591 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:43:14 592 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:43:14 592 [debug]: [GET] http://localhost:3001/book_Top5/18
23/04/18 16:43:14 592 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:43:14 602 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:43:14 602 [debug]: [GET] http://localhost:3001/book_new5/18
23/04/18 16:43:14 603 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:43:14 620 [info]:  >> DATABASE 접속됨 [threaId=368]
23/04/18 16:43:14 620 [info]:  >> Connection 임대됨 [threaId=368]
23/04/18 16:43:14 624 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 16:43:14 624 [info]:  >> DATABASE 접속됨 [threaId=370]
23/04/18 16:43:14 625 [info]:  >> Connection 임대됨 [threaId=370]
23/04/18 16:43:14 625 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '18')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 16:43:14 626 [info]:  >> DATABASE 접속됨 [threaId=369]
23/04/18 16:43:14 627 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:14 627 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')
23/04/18 16:43:14 630 [info]:  >> Connection 반납됨 [threaId=368]
23/04/18 16:43:14 630 [info]:  >> Connection 임대됨 [threaId=368]
23/04/18 16:43:14 631 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '18') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 16:43:14 632 [info]:  >> DATABASE 접속됨 [threaId=371]
23/04/18 16:43:14 632 [info]:  >> Connection 임대됨 [threaId=371]
23/04/18 16:43:14 633 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '18') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 16:43:14 634 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:14 634 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:14 635 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:43:14 636 [info]:  >> Connection 반납됨 [threaId=370]
23/04/18 16:43:14 640 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 48ms
23/04/18 16:43:14 640 [debug]: --------------------------------------------------
23/04/18 16:43:14 641 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:14 641 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:14 642 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:43:14 642 [info]:  >> Connection 반납됨 [threaId=368]
23/04/18 16:43:14 642 [info]:  >> Connection 임대됨 [threaId=368]
23/04/18 16:43:14 643 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '18')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 16:43:14 644 [info]:  >> Connection 반납됨 [threaId=371]
23/04/18 16:43:14 645 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 43ms
23/04/18 16:43:14 645 [debug]: --------------------------------------------------
23/04/18 16:43:14 646 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:14 646 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:14 647 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:43:14 647 [info]:  >> Connection 반납됨 [threaId=368]
23/04/18 16:43:14 648 [info]:  >> Connection 임대됨 [threaId=368]
23/04/18 16:43:14 648 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '18'
23/04/18 16:43:14 648 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:14 649 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:14 649 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:43:14 650 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:14 650 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:14 650 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:43:14 652 [info]:  >> Connection 반납됨 [threaId=368]
23/04/18 16:43:14 652 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 69ms
23/04/18 16:43:14 653 [debug]: --------------------------------------------------
23/04/18 16:43:14 653 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:14 653 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:14 654 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '18', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:43:14 655 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:14 656 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 66ms
23/04/18 16:43:14 656 [debug]: --------------------------------------------------
23/04/18 16:43:20 499 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:43:20 499 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 16:43:20 500 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:43:20 500 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:43:20 501 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 16:43:20 501 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:43:20 502 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:20 502 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:43:20 503 [info]:  >> Connection 임대됨 [threaId=368]
23/04/18 16:43:20 503 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 16:43:20 504 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:43:20 505 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:43:20 505 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:43:20 506 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:43:20 506 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 16:43:20 507 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:43:20 507 [info]:  >> Connection 임대됨 [threaId=371]
23/04/18 16:43:20 508 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:43:20 508 [info]:  >> Connection 반납됨 [threaId=368]
23/04/18 16:43:20 509 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 16:43:20 509 [debug]: --------------------------------------------------
23/04/18 16:43:20 509 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:20 509 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:20 510 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:43:20 511 [info]:  >> Connection 임대됨 [threaId=368]
23/04/18 16:43:20 511 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 16:43:20 511 [info]:  >> Connection 반납됨 [threaId=371]
23/04/18 16:43:20 512 [info]:  >> Connection 임대됨 [threaId=371]
23/04/18 16:43:20 512 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:43:20 512 [info]:  >> Connection 반납됨 [threaId=371]
23/04/18 16:43:20 513 [info]:  >> Connection 임대됨 [threaId=371]
23/04/18 16:43:20 513 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:43:20 513 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:20 514 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:20 514 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:43:20 514 [info]:  >> Connection 반납됨 [threaId=368]
23/04/18 16:43:20 515 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 16:43:20 515 [debug]: --------------------------------------------------
23/04/18 16:43:20 515 [info]:  >> Connection 반납됨 [threaId=371]
23/04/18 16:43:20 516 [info]:  >> Connection 임대됨 [threaId=371]
23/04/18 16:43:20 516 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:43:20 516 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:20 516 [info]:  >> Connection 임대됨 [threaId=369]
23/04/18 16:43:20 517 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 16:43:20 517 [info]:  >> Connection 반납됨 [threaId=371]
23/04/18 16:43:20 517 [info]:  >> Connection 임대됨 [threaId=371]
23/04/18 16:43:20 518 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:43:20 518 [info]:  >> Connection 반납됨 [threaId=371]
23/04/18 16:43:20 519 [info]:  >> Connection 임대됨 [threaId=371]
23/04/18 16:43:20 519 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:43:20 520 [info]:  >> Connection 반납됨 [threaId=369]
23/04/18 16:43:20 520 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 16:43:20 520 [debug]: --------------------------------------------------
23/04/18 16:43:20 521 [info]:  >> Connection 반납됨 [threaId=371]
23/04/18 16:43:20 521 [info]:  >> Connection 임대됨 [threaId=371]
23/04/18 16:43:20 522 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:43:20 522 [info]:  >> Connection 반납됨 [threaId=371]
23/04/18 16:43:20 523 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 16:43:20 523 [debug]: --------------------------------------------------
23/04/18 16:47:06 236 [debug]: --------------------------------------------------
23/04/18 16:47:06 238 [debug]: |              Start Express Server              |
23/04/18 16:47:06 238 [debug]: --------------------------------------------------
23/04/18 16:47:06 239 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:47:06 239 [debug]: --------------------------------------------------
23/04/18 16:47:08 021 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:47:08 022 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 16:47:08 022 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:47:08 032 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:47:08 032 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 16:47:08 033 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:47:08 035 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:47:08 036 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:47:08 036 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:47:08 037 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:47:08 037 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 16:47:08 038 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:47:08 058 [info]:  >> DATABASE 접속됨 [threaId=373]
23/04/18 16:47:08 058 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 060 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:47:08 061 [info]:  >> DATABASE 접속됨 [threaId=375]
23/04/18 16:47:08 062 [info]:  >> Connection 임대됨 [threaId=375]
23/04/18 16:47:08 062 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:47:08 063 [info]:  >> DATABASE 접속됨 [threaId=376]
23/04/18 16:47:08 063 [info]:  >> Connection 임대됨 [threaId=376]
23/04/18 16:47:08 063 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 16:47:08 066 [info]:  >> Connection 반납됨 [threaId=375]
23/04/18 16:47:08 066 [info]:  >> Connection 임대됨 [threaId=375]
23/04/18 16:47:08 067 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:47:08 068 [info]:  >> Connection 반납됨 [threaId=376]
23/04/18 16:47:08 071 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 16:47:08 072 [debug]: --------------------------------------------------
23/04/18 16:47:08 072 [info]:  >> DATABASE 접속됨 [threaId=374]
23/04/18 16:47:08 072 [info]:  >> Connection 임대됨 [threaId=374]
23/04/18 16:47:08 073 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 16:47:08 074 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 074 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 074 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:47:08 075 [info]:  >> Connection 반납됨 [threaId=375]
23/04/18 16:47:08 075 [info]:  >> Connection 임대됨 [threaId=375]
23/04/18 16:47:08 076 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:47:08 076 [info]:  >> Connection 반납됨 [threaId=374]
23/04/18 16:47:08 077 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 45ms
23/04/18 16:47:08 077 [debug]: --------------------------------------------------
23/04/18 16:47:08 078 [info]:  >> Connection 반납됨 [threaId=375]
23/04/18 16:47:08 078 [info]:  >> Connection 임대됨 [threaId=375]
23/04/18 16:47:08 079 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:47:08 079 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 079 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 080 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 16:47:08 080 [info]:  >> Connection 반납됨 [threaId=375]
23/04/18 16:47:08 081 [info]:  >> Connection 임대됨 [threaId=375]
23/04/18 16:47:08 081 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:47:08 081 [info]:  >> Connection 반납됨 [threaId=375]
23/04/18 16:47:08 081 [info]:  >> Connection 임대됨 [threaId=375]
23/04/18 16:47:08 082 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:47:08 082 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 083 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 083 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 16:47:08 083 [info]:  >> Connection 반납됨 [threaId=375]
23/04/18 16:47:08 084 [info]:  >> Connection 임대됨 [threaId=375]
23/04/18 16:47:08 085 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:47:08 086 [info]:  >> Connection 반납됨 [threaId=375]
23/04/18 16:47:08 086 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 51ms
23/04/18 16:47:08 087 [debug]: --------------------------------------------------
23/04/18 16:47:08 088 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 088 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 66ms
23/04/18 16:47:08 089 [debug]: --------------------------------------------------
23/04/18 16:47:08 089 [debug]: 클라이언트가 접속했습니다.
23/04/18 16:47:08 090 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 16:47:08 090 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 16:47:08 091 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 092 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 16:47:08 093 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 093 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 094 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 16:47:08 094 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 094 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 094 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 16:47:08 095 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 095 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 095 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 16:47:08 097 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 097 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 098 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 16:47:08 098 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 098 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 099 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 16:47:08 099 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 099 [info]:  >> Connection 임대됨 [threaId=373]
23/04/18 16:47:08 100 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 16:47:08 101 [info]:  >> Connection 반납됨 [threaId=373]
23/04/18 16:47:08 102 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 16:47:08 102 [debug]: --------------------------------------------------
23/04/18 16:48:29 657 [debug]: --------------------------------------------------
23/04/18 16:48:29 660 [debug]: |              Start Express Server              |
23/04/18 16:48:29 660 [debug]: --------------------------------------------------
23/04/18 16:48:29 661 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:48:29 661 [debug]: --------------------------------------------------
23/04/18 16:49:36 268 [debug]: --------------------------------------------------
23/04/18 16:49:36 271 [debug]: |              Start Express Server              |
23/04/18 16:49:36 271 [debug]: --------------------------------------------------
23/04/18 16:49:36 272 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:49:36 272 [debug]: --------------------------------------------------
23/04/18 16:49:48 021 [debug]: --------------------------------------------------
23/04/18 16:49:48 023 [debug]: |              Start Express Server              |
23/04/18 16:49:48 024 [debug]: --------------------------------------------------
23/04/18 16:49:48 024 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:49:48 024 [debug]: --------------------------------------------------
23/04/18 16:49:51 188 [debug]: --------------------------------------------------
23/04/18 16:49:51 190 [debug]: |              Start Express Server              |
23/04/18 16:49:51 190 [debug]: --------------------------------------------------
23/04/18 16:49:51 191 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:49:51 191 [debug]: --------------------------------------------------
23/04/18 16:49:58 839 [debug]: --------------------------------------------------
23/04/18 16:49:58 841 [debug]: |              Start Express Server              |
23/04/18 16:49:58 842 [debug]: --------------------------------------------------
23/04/18 16:49:58 842 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:49:58 842 [debug]: --------------------------------------------------
23/04/18 16:51:33 574 [debug]: --------------------------------------------------
23/04/18 16:51:33 577 [debug]: |              Start Express Server              |
23/04/18 16:51:33 577 [debug]: --------------------------------------------------
23/04/18 16:51:33 578 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:51:33 578 [debug]: --------------------------------------------------
23/04/18 16:52:00 205 [debug]: --------------------------------------------------
23/04/18 16:52:00 207 [debug]: |              Start Express Server              |
23/04/18 16:52:00 208 [debug]: --------------------------------------------------
23/04/18 16:52:00 208 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:52:00 208 [debug]: --------------------------------------------------
23/04/18 16:52:19 370 [debug]: --------------------------------------------------
23/04/18 16:52:19 372 [debug]: |              Start Express Server              |
23/04/18 16:52:19 372 [debug]: --------------------------------------------------
23/04/18 16:52:19 373 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:52:19 373 [debug]: --------------------------------------------------
23/04/18 16:52:43 884 [debug]: --------------------------------------------------
23/04/18 16:52:43 886 [debug]: |              Start Express Server              |
23/04/18 16:52:43 887 [debug]: --------------------------------------------------
23/04/18 16:52:43 887 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:52:43 888 [debug]: --------------------------------------------------
23/04/18 16:53:08 112 [debug]: --------------------------------------------------
23/04/18 16:53:08 114 [debug]: |              Start Express Server              |
23/04/18 16:53:08 115 [debug]: --------------------------------------------------
23/04/18 16:53:08 115 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:53:08 116 [debug]: --------------------------------------------------
23/04/18 16:53:18 835 [debug]: --------------------------------------------------
23/04/18 16:53:18 837 [debug]: |              Start Express Server              |
23/04/18 16:53:18 838 [debug]: --------------------------------------------------
23/04/18 16:53:18 838 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:53:18 838 [debug]: --------------------------------------------------
23/04/18 16:53:30 556 [debug]: --------------------------------------------------
23/04/18 16:53:30 558 [debug]: |              Start Express Server              |
23/04/18 16:53:30 559 [debug]: --------------------------------------------------
23/04/18 16:53:30 559 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:53:30 559 [debug]: --------------------------------------------------
23/04/18 16:53:43 458 [debug]: --------------------------------------------------
23/04/18 16:53:43 460 [debug]: |              Start Express Server              |
23/04/18 16:53:43 461 [debug]: --------------------------------------------------
23/04/18 16:53:43 462 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:53:43 462 [debug]: --------------------------------------------------
23/04/18 16:53:54 029 [debug]: --------------------------------------------------
23/04/18 16:53:54 031 [debug]: |              Start Express Server              |
23/04/18 16:53:54 032 [debug]: --------------------------------------------------
23/04/18 16:53:54 032 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:53:54 032 [debug]: --------------------------------------------------
23/04/18 16:57:37 616 [debug]: --------------------------------------------------
23/04/18 16:57:37 618 [debug]: |              Start Express Server              |
23/04/18 16:57:37 619 [debug]: --------------------------------------------------
23/04/18 16:57:37 619 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:57:37 619 [debug]: --------------------------------------------------
23/04/18 16:57:48 384 [debug]: --------------------------------------------------
23/04/18 16:57:48 386 [debug]: |              Start Express Server              |
23/04/18 16:57:48 386 [debug]: --------------------------------------------------
23/04/18 16:57:48 387 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:57:48 387 [debug]: --------------------------------------------------
23/04/18 16:58:00 124 [debug]: --------------------------------------------------
23/04/18 16:58:00 126 [debug]: |              Start Express Server              |
23/04/18 16:58:00 127 [debug]: --------------------------------------------------
23/04/18 16:58:00 127 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:58:00 128 [debug]: --------------------------------------------------
23/04/18 16:58:04 479 [debug]: --------------------------------------------------
23/04/18 16:58:04 481 [debug]: |              Start Express Server              |
23/04/18 16:58:04 482 [debug]: --------------------------------------------------
23/04/18 16:58:04 482 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:58:04 483 [debug]: --------------------------------------------------
23/04/18 16:58:43 879 [debug]: --------------------------------------------------
23/04/18 16:58:43 882 [debug]: |              Start Express Server              |
23/04/18 16:58:43 882 [debug]: --------------------------------------------------
23/04/18 16:58:43 882 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:58:43 883 [debug]: --------------------------------------------------
23/04/18 16:59:03 548 [debug]: --------------------------------------------------
23/04/18 16:59:03 550 [debug]: |              Start Express Server              |
23/04/18 16:59:03 550 [debug]: --------------------------------------------------
23/04/18 16:59:03 551 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:59:03 551 [debug]: --------------------------------------------------
23/04/18 16:59:15 913 [debug]: --------------------------------------------------
23/04/18 16:59:15 915 [debug]: |              Start Express Server              |
23/04/18 16:59:15 916 [debug]: --------------------------------------------------
23/04/18 16:59:15 916 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:59:15 917 [debug]: --------------------------------------------------
23/04/18 16:59:22 003 [debug]: --------------------------------------------------
23/04/18 16:59:22 006 [debug]: |              Start Express Server              |
23/04/18 16:59:22 006 [debug]: --------------------------------------------------
23/04/18 16:59:22 007 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:59:22 007 [debug]: --------------------------------------------------
23/04/18 16:59:31 295 [debug]: --------------------------------------------------
23/04/18 16:59:31 297 [debug]: |              Start Express Server              |
23/04/18 16:59:31 297 [debug]: --------------------------------------------------
23/04/18 16:59:31 298 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:59:31 298 [debug]: --------------------------------------------------
23/04/18 16:59:45 245 [debug]: --------------------------------------------------
23/04/18 16:59:45 247 [debug]: |              Start Express Server              |
23/04/18 16:59:45 248 [debug]: --------------------------------------------------
23/04/18 16:59:45 248 [debug]: server address => http://211.222.164.95:3001
23/04/18 16:59:45 248 [debug]: --------------------------------------------------
23/04/18 17:00:00 414 [debug]: --------------------------------------------------
23/04/18 17:00:00 416 [debug]: |              Start Express Server              |
23/04/18 17:00:00 417 [debug]: --------------------------------------------------
23/04/18 17:00:00 417 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:00:00 417 [debug]: --------------------------------------------------
23/04/18 17:01:50 232 [debug]: --------------------------------------------------
23/04/18 17:01:50 234 [debug]: |              Start Express Server              |
23/04/18 17:01:50 235 [debug]: --------------------------------------------------
23/04/18 17:01:50 235 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:01:50 235 [debug]: --------------------------------------------------
23/04/18 17:02:10 147 [debug]: --------------------------------------------------
23/04/18 17:02:10 149 [debug]: |              Start Express Server              |
23/04/18 17:02:10 150 [debug]: --------------------------------------------------
23/04/18 17:02:10 150 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:02:10 151 [debug]: --------------------------------------------------
23/04/18 17:02:10 216 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:02:10 217 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 17:02:10 217 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:02:10 236 [info]:  >> DATABASE 접속됨 [threaId=404]
23/04/18 17:02:10 236 [info]:  >> Connection 임대됨 [threaId=404]
23/04/18 17:02:10 239 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:02:10 242 [info]:  >> Connection 반납됨 [threaId=404]
23/04/18 17:02:10 243 [info]:  >> Connection 임대됨 [threaId=404]
23/04/18 17:02:10 243 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:02:10 244 [info]:  >> Connection 반납됨 [threaId=404]
23/04/18 17:02:10 245 [info]:  >> Connection 임대됨 [threaId=404]
23/04/18 17:02:10 245 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:02:10 246 [info]:  >> Connection 반납됨 [threaId=404]
23/04/18 17:02:10 246 [info]:  >> Connection 임대됨 [threaId=404]
23/04/18 17:02:10 247 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 17:02:10 248 [info]:  >> Connection 반납됨 [threaId=404]
23/04/18 17:02:10 251 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 17:02:10 251 [debug]: --------------------------------------------------
23/04/18 17:02:10 254 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:02:10 255 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 17:02:10 255 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:02:10 256 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:02:10 256 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 17:02:10 256 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:02:10 257 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:02:10 258 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 17:02:10 258 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:02:10 259 [info]:  >> Connection 임대됨 [threaId=404]
23/04/18 17:02:10 260 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 17:02:10 264 [info]:  >> Connection 반납됨 [threaId=404]
23/04/18 17:02:10 265 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 17:02:10 265 [debug]: --------------------------------------------------
23/04/18 17:02:10 266 [info]:  >> DATABASE 접속됨 [threaId=405]
23/04/18 17:02:10 267 [info]:  >> Connection 임대됨 [threaId=405]
23/04/18 17:02:10 267 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 17:02:10 268 [info]:  >> DATABASE 접속됨 [threaId=406]
23/04/18 17:02:10 268 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 269 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 17:02:10 269 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 270 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 270 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 17:02:10 271 [info]:  >> Connection 반납됨 [threaId=405]
23/04/18 17:02:10 271 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 15ms
23/04/18 17:02:10 271 [debug]: --------------------------------------------------
23/04/18 17:02:10 272 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 272 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 273 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 17:02:10 273 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 273 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 274 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 17:02:10 274 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 274 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 275 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 17:02:10 275 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 275 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 276 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 17:02:10 276 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 277 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 277 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 17:02:10 278 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 279 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 17:02:10 279 [debug]: --------------------------------------------------
23/04/18 17:02:10 280 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:02:10 280 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 17:02:10 281 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:02:10 282 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 283 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 17:02:10 283 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 283 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 284 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 17:02:10 284 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 284 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 285 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 17:02:10 285 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 285 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 286 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 17:02:10 286 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 286 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 287 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 17:02:10 287 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 287 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 288 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 17:02:10 288 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 288 [info]:  >> Connection 임대됨 [threaId=406]
23/04/18 17:02:10 289 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 17:02:10 289 [info]:  >> Connection 반납됨 [threaId=406]
23/04/18 17:02:10 290 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 17:02:10 290 [debug]: --------------------------------------------------
23/04/18 17:02:47 946 [debug]: --------------------------------------------------
23/04/18 17:02:47 948 [debug]: |              Start Express Server              |
23/04/18 17:02:47 948 [debug]: --------------------------------------------------
23/04/18 17:02:47 948 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:02:47 949 [debug]: --------------------------------------------------
23/04/18 17:03:53 274 [debug]: --------------------------------------------------
23/04/18 17:03:53 276 [debug]: |              Start Express Server              |
23/04/18 17:03:53 276 [debug]: --------------------------------------------------
23/04/18 17:03:53 277 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:03:53 277 [debug]: --------------------------------------------------
23/04/18 17:04:17 838 [debug]: --------------------------------------------------
23/04/18 17:04:17 840 [debug]: |              Start Express Server              |
23/04/18 17:04:17 841 [debug]: --------------------------------------------------
23/04/18 17:04:17 841 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:04:17 842 [debug]: --------------------------------------------------
23/04/18 17:04:42 779 [debug]: --------------------------------------------------
23/04/18 17:04:42 781 [debug]: |              Start Express Server              |
23/04/18 17:04:42 781 [debug]: --------------------------------------------------
23/04/18 17:04:42 781 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:04:42 782 [debug]: --------------------------------------------------
23/04/18 17:05:00 136 [debug]: --------------------------------------------------
23/04/18 17:05:00 138 [debug]: |              Start Express Server              |
23/04/18 17:05:00 139 [debug]: --------------------------------------------------
23/04/18 17:05:00 139 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:05:00 139 [debug]: --------------------------------------------------
23/04/18 17:05:06 731 [debug]: --------------------------------------------------
23/04/18 17:05:06 733 [debug]: |              Start Express Server              |
23/04/18 17:05:06 733 [debug]: --------------------------------------------------
23/04/18 17:05:06 733 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:05:06 734 [debug]: --------------------------------------------------
23/04/18 17:05:24 419 [debug]: --------------------------------------------------
23/04/18 17:05:24 422 [debug]: |              Start Express Server              |
23/04/18 17:05:24 422 [debug]: --------------------------------------------------
23/04/18 17:05:24 423 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:05:24 423 [debug]: --------------------------------------------------
23/04/18 17:05:33 584 [debug]: --------------------------------------------------
23/04/18 17:05:33 586 [debug]: |              Start Express Server              |
23/04/18 17:05:33 587 [debug]: --------------------------------------------------
23/04/18 17:05:33 587 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:05:33 587 [debug]: --------------------------------------------------
23/04/18 17:05:52 352 [debug]: --------------------------------------------------
23/04/18 17:05:52 354 [debug]: |              Start Express Server              |
23/04/18 17:05:52 354 [debug]: --------------------------------------------------
23/04/18 17:05:52 355 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:05:52 355 [debug]: --------------------------------------------------
23/04/18 17:05:57 604 [debug]: --------------------------------------------------
23/04/18 17:05:57 606 [debug]: |              Start Express Server              |
23/04/18 17:05:57 607 [debug]: --------------------------------------------------
23/04/18 17:05:57 607 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:05:57 607 [debug]: --------------------------------------------------
23/04/18 17:06:00 062 [debug]: --------------------------------------------------
23/04/18 17:06:00 064 [debug]: |              Start Express Server              |
23/04/18 17:06:00 065 [debug]: --------------------------------------------------
23/04/18 17:06:00 065 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:06:00 065 [debug]: --------------------------------------------------
23/04/18 17:06:12 523 [debug]: --------------------------------------------------
23/04/18 17:06:12 525 [debug]: |              Start Express Server              |
23/04/18 17:06:12 525 [debug]: --------------------------------------------------
23/04/18 17:06:12 526 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:06:12 526 [debug]: --------------------------------------------------
23/04/18 17:06:32 693 [debug]: --------------------------------------------------
23/04/18 17:06:32 695 [debug]: |              Start Express Server              |
23/04/18 17:06:32 696 [debug]: --------------------------------------------------
23/04/18 17:06:32 696 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:06:32 696 [debug]: --------------------------------------------------
23/04/18 17:09:07 675 [debug]: --------------------------------------------------
23/04/18 17:09:07 677 [debug]: |              Start Express Server              |
23/04/18 17:09:07 677 [debug]: --------------------------------------------------
23/04/18 17:09:07 678 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:09:07 678 [debug]: --------------------------------------------------
23/04/18 17:33:24 418 [debug]: --------------------------------------------------
23/04/18 17:33:24 421 [debug]: |              Start Express Server              |
23/04/18 17:33:24 421 [debug]: --------------------------------------------------
23/04/18 17:33:24 421 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:33:24 422 [debug]: --------------------------------------------------
23/04/18 17:34:00 523 [debug]: --------------------------------------------------
23/04/18 17:34:00 525 [debug]: |              Start Express Server              |
23/04/18 17:34:00 525 [debug]: --------------------------------------------------
23/04/18 17:34:00 526 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:34:00 526 [debug]: --------------------------------------------------
23/04/18 17:34:02 131 [debug]: --------------------------------------------------
23/04/18 17:34:02 133 [debug]: |              Start Express Server              |
23/04/18 17:34:02 133 [debug]: --------------------------------------------------
23/04/18 17:34:02 134 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:34:02 134 [debug]: --------------------------------------------------
23/04/18 17:34:34 921 [debug]: --------------------------------------------------
23/04/18 17:34:34 923 [debug]: |              Start Express Server              |
23/04/18 17:34:34 924 [debug]: --------------------------------------------------
23/04/18 17:34:34 924 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:34:34 925 [debug]: --------------------------------------------------
23/04/18 17:34:36 759 [debug]: --------------------------------------------------
23/04/18 17:34:36 761 [debug]: |              Start Express Server              |
23/04/18 17:34:36 761 [debug]: --------------------------------------------------
23/04/18 17:34:36 762 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:34:36 762 [debug]: --------------------------------------------------
23/04/18 17:35:32 941 [debug]: --------------------------------------------------
23/04/18 17:35:32 943 [debug]: |              Start Express Server              |
23/04/18 17:35:32 944 [debug]: --------------------------------------------------
23/04/18 17:35:32 944 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:35:32 945 [debug]: --------------------------------------------------
23/04/18 17:35:37 026 [debug]: --------------------------------------------------
23/04/18 17:35:37 028 [debug]: |              Start Express Server              |
23/04/18 17:35:37 028 [debug]: --------------------------------------------------
23/04/18 17:35:37 029 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:35:37 029 [debug]: --------------------------------------------------
23/04/18 17:36:12 157 [debug]: --------------------------------------------------
23/04/18 17:36:12 159 [debug]: |              Start Express Server              |
23/04/18 17:36:12 160 [debug]: --------------------------------------------------
23/04/18 17:36:12 160 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:36:12 160 [debug]: --------------------------------------------------
23/04/18 17:36:24 673 [debug]: --------------------------------------------------
23/04/18 17:36:24 675 [debug]: |              Start Express Server              |
23/04/18 17:36:24 676 [debug]: --------------------------------------------------
23/04/18 17:36:24 676 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:36:24 677 [debug]: --------------------------------------------------
23/04/18 17:36:55 454 [debug]: --------------------------------------------------
23/04/18 17:36:55 456 [debug]: |              Start Express Server              |
23/04/18 17:36:55 456 [debug]: --------------------------------------------------
23/04/18 17:36:55 456 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:36:55 457 [debug]: --------------------------------------------------
23/04/18 17:38:02 621 [debug]: --------------------------------------------------
23/04/18 17:38:02 623 [debug]: |              Start Express Server              |
23/04/18 17:38:02 623 [debug]: --------------------------------------------------
23/04/18 17:38:02 624 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:38:02 624 [debug]: --------------------------------------------------
23/04/18 17:38:23 255 [debug]: --------------------------------------------------
23/04/18 17:38:23 257 [debug]: |              Start Express Server              |
23/04/18 17:38:23 258 [debug]: --------------------------------------------------
23/04/18 17:38:23 258 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:38:23 259 [debug]: --------------------------------------------------
23/04/18 17:38:32 143 [debug]: --------------------------------------------------
23/04/18 17:38:32 146 [debug]: |              Start Express Server              |
23/04/18 17:38:32 146 [debug]: --------------------------------------------------
23/04/18 17:38:32 147 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:38:32 147 [debug]: --------------------------------------------------
23/04/18 17:38:34 543 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:34 544 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 17:38:34 545 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:34 548 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:34 548 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 17:38:34 549 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:34 558 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:34 558 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 17:38:34 558 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:34 560 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:34 560 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 17:38:34 560 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:34 577 [info]:  >> DATABASE 접속됨 [threaId=435]
23/04/18 17:38:34 578 [info]:  >> Connection 임대됨 [threaId=435]
23/04/18 17:38:34 580 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:38:34 581 [info]:  >> DATABASE 접속됨 [threaId=436]
23/04/18 17:38:34 581 [info]:  >> Connection 임대됨 [threaId=436]
23/04/18 17:38:34 581 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 17:38:34 582 [info]:  >> DATABASE 접속됨 [threaId=437]
23/04/18 17:38:34 582 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 583 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 17:38:34 585 [info]:  >> Connection 반납됨 [threaId=436]
23/04/18 17:38:34 589 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 41ms
23/04/18 17:38:34 589 [debug]: --------------------------------------------------
23/04/18 17:38:34 590 [info]:  >> Connection 반납됨 [threaId=435]
23/04/18 17:38:34 590 [info]:  >> Connection 임대됨 [threaId=435]
23/04/18 17:38:34 591 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:38:34 591 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 592 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 592 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 17:38:34 593 [info]:  >> DATABASE 접속됨 [threaId=438]
23/04/18 17:38:34 593 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:34 593 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 17:38:34 594 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 594 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 594 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 17:38:34 595 [info]:  >> Connection 반납됨 [threaId=435]
23/04/18 17:38:34 595 [info]:  >> Connection 임대됨 [threaId=435]
23/04/18 17:38:34 596 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:38:34 596 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 596 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 597 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 17:38:34 597 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:34 598 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 17:38:34 598 [debug]: --------------------------------------------------
23/04/18 17:38:34 599 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 599 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 599 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 17:38:34 600 [info]:  >> Connection 반납됨 [threaId=435]
23/04/18 17:38:34 600 [info]:  >> Connection 임대됨 [threaId=435]
23/04/18 17:38:34 600 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 17:38:34 601 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 601 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 602 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 17:38:34 602 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 602 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 603 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 17:38:34 604 [info]:  >> Connection 반납됨 [threaId=435]
23/04/18 17:38:34 605 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 17:38:34 605 [debug]: --------------------------------------------------
23/04/18 17:38:34 606 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 606 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 48ms
23/04/18 17:38:34 607 [debug]: --------------------------------------------------
23/04/18 17:38:34 607 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:34 608 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 17:38:34 608 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:34 609 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 610 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 17:38:34 610 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 610 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 611 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 17:38:34 611 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 611 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 611 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 17:38:34 612 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 612 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 612 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 17:38:34 613 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 613 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 613 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 17:38:34 614 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 614 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 614 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 17:38:34 614 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 615 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:34 615 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 17:38:34 616 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:34 617 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 17:38:34 617 [debug]: --------------------------------------------------
23/04/18 17:38:41 464 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:41 464 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 17:38:41 465 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:41 466 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:41 467 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:38:41 469 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:41 470 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 17:38:41 470 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:41 471 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:41 471 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 17:38:41 472 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:41 472 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:41 473 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 17:38:41 473 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:41 474 [info]:  >> Connection 임대됨 [threaId=435]
23/04/18 17:38:41 475 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 17:38:41 475 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 476 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 17:38:41 476 [info]:  >> Connection 임대됨 [threaId=436]
23/04/18 17:38:41 477 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 17:38:41 477 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:41 477 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:41 478 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:38:41 479 [info]:  >> Connection 반납됨 [threaId=435]
23/04/18 17:38:41 480 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 17:38:41 480 [debug]: --------------------------------------------------
23/04/18 17:38:41 480 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 481 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 481 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 17:38:41 482 [info]:  >> Connection 반납됨 [threaId=436]
23/04/18 17:38:41 483 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 17:38:41 483 [debug]: --------------------------------------------------
23/04/18 17:38:41 483 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 484 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 485 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 17:38:41 485 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:41 485 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:41 486 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:38:41 487 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 487 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 487 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 17:38:41 488 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 488 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 489 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 17:38:41 489 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:41 489 [info]:  >> Connection 임대됨 [threaId=437]
23/04/18 17:38:41 490 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 17:38:41 490 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 490 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 491 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 17:38:41 491 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 491 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 492 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 17:38:41 493 [info]:  >> Connection 반납됨 [threaId=437]
23/04/18 17:38:41 493 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 29ms
23/04/18 17:38:41 493 [debug]: --------------------------------------------------
23/04/18 17:38:41 494 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 495 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 24ms
23/04/18 17:38:41 495 [debug]: --------------------------------------------------
23/04/18 17:38:41 497 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:38:41 497 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 17:38:41 498 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:38:41 499 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 500 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 17:38:41 500 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 500 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 501 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 17:38:41 504 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 504 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 505 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 17:38:41 505 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 505 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 506 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 17:38:41 506 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 506 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 507 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 17:38:41 507 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 507 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 508 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 17:38:41 508 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 509 [info]:  >> Connection 임대됨 [threaId=438]
23/04/18 17:38:41 510 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 17:38:41 510 [info]:  >> Connection 반납됨 [threaId=438]
23/04/18 17:38:41 511 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 14ms
23/04/18 17:38:41 512 [debug]: --------------------------------------------------
23/04/18 17:41:35 450 [debug]: --------------------------------------------------
23/04/18 17:41:35 452 [debug]: |              Start Express Server              |
23/04/18 17:41:35 453 [debug]: --------------------------------------------------
23/04/18 17:41:35 453 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:41:35 453 [debug]: --------------------------------------------------
23/04/18 17:41:35 542 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:41:35 543 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 17:41:35 543 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:41:35 561 [info]:  >> DATABASE 접속됨 [threaId=440]
23/04/18 17:41:35 561 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 564 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:41:35 567 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 568 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 569 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:41:35 570 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 570 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 571 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 17:41:35 571 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 572 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 572 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 17:41:35 574 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 576 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 17:41:35 577 [debug]: --------------------------------------------------
23/04/18 17:41:35 579 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:41:35 579 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 17:41:35 579 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:41:35 581 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 581 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 17:41:35 582 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 583 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 4ms
23/04/18 17:41:35 583 [debug]: --------------------------------------------------
23/04/18 17:41:35 585 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:41:35 585 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 17:41:35 586 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:41:35 587 [debug]: 클라이언트가 접속했습니다.
23/04/18 17:41:35 587 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 17:41:35 587 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 17:41:35 590 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 591 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 17:41:35 592 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 593 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 593 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 17:41:35 594 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 594 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 595 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 17:41:35 596 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 596 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 596 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 17:41:35 597 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 597 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 598 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 17:41:35 598 [info]:  >> DATABASE 접속됨 [threaId=441]
23/04/18 17:41:35 598 [info]:  >> Connection 임대됨 [threaId=441]
23/04/18 17:41:35 599 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 17:41:35 599 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 600 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 600 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 17:41:35 600 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 601 [info]:  >> Connection 임대됨 [threaId=440]
23/04/18 17:41:35 602 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 17:41:35 602 [info]:  >> Connection 반납됨 [threaId=441]
23/04/18 17:41:35 603 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 16ms
23/04/18 17:41:35 603 [debug]: --------------------------------------------------
23/04/18 17:41:35 604 [info]:  >> Connection 반납됨 [threaId=440]
23/04/18 17:41:35 605 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 17:41:35 605 [debug]: --------------------------------------------------
23/04/18 17:42:11 072 [debug]: --------------------------------------------------
23/04/18 17:42:11 074 [debug]: |              Start Express Server              |
23/04/18 17:42:11 075 [debug]: --------------------------------------------------
23/04/18 17:42:11 075 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:42:11 075 [debug]: --------------------------------------------------
23/04/18 17:42:13 002 [debug]: --------------------------------------------------
23/04/18 17:42:13 004 [debug]: |              Start Express Server              |
23/04/18 17:42:13 004 [debug]: --------------------------------------------------
23/04/18 17:42:13 005 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:42:13 005 [debug]: --------------------------------------------------
23/04/18 17:42:20 467 [debug]: --------------------------------------------------
23/04/18 17:42:20 470 [debug]: |              Start Express Server              |
23/04/18 17:42:20 470 [debug]: --------------------------------------------------
23/04/18 17:42:20 470 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:42:20 471 [debug]: --------------------------------------------------
23/04/18 17:42:24 085 [debug]: --------------------------------------------------
23/04/18 17:42:24 087 [debug]: |              Start Express Server              |
23/04/18 17:42:24 087 [debug]: --------------------------------------------------
23/04/18 17:42:24 088 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:42:24 088 [debug]: --------------------------------------------------
23/04/18 17:42:36 540 [debug]: --------------------------------------------------
23/04/18 17:42:36 542 [debug]: |              Start Express Server              |
23/04/18 17:42:36 543 [debug]: --------------------------------------------------
23/04/18 17:42:36 543 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:42:36 543 [debug]: --------------------------------------------------
23/04/18 17:43:59 275 [debug]: --------------------------------------------------
23/04/18 17:43:59 277 [debug]: |              Start Express Server              |
23/04/18 17:43:59 278 [debug]: --------------------------------------------------
23/04/18 17:43:59 278 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:43:59 279 [debug]: --------------------------------------------------
23/04/18 17:44:04 771 [debug]: --------------------------------------------------
23/04/18 17:44:04 773 [debug]: |              Start Express Server              |
23/04/18 17:44:04 774 [debug]: --------------------------------------------------
23/04/18 17:44:04 774 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:44:04 774 [debug]: --------------------------------------------------
23/04/18 17:44:06 074 [debug]: --------------------------------------------------
23/04/18 17:44:06 076 [debug]: |              Start Express Server              |
23/04/18 17:44:06 077 [debug]: --------------------------------------------------
23/04/18 17:44:06 077 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:44:06 078 [debug]: --------------------------------------------------
23/04/18 17:44:58 695 [debug]: --------------------------------------------------
23/04/18 17:44:58 698 [debug]: |              Start Express Server              |
23/04/18 17:44:58 698 [debug]: --------------------------------------------------
23/04/18 17:44:58 698 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:44:58 699 [debug]: --------------------------------------------------
23/04/18 17:45:18 065 [debug]: --------------------------------------------------
23/04/18 17:45:18 067 [debug]: |              Start Express Server              |
23/04/18 17:45:18 067 [debug]: --------------------------------------------------
23/04/18 17:45:18 068 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:45:18 068 [debug]: --------------------------------------------------
23/04/18 17:46:15 439 [debug]: --------------------------------------------------
23/04/18 17:46:15 442 [debug]: |              Start Express Server              |
23/04/18 17:46:15 442 [debug]: --------------------------------------------------
23/04/18 17:46:15 443 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:46:15 443 [debug]: --------------------------------------------------
23/04/18 17:46:26 917 [debug]: --------------------------------------------------
23/04/18 17:46:26 919 [debug]: |              Start Express Server              |
23/04/18 17:46:26 920 [debug]: --------------------------------------------------
23/04/18 17:46:26 920 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:46:26 920 [debug]: --------------------------------------------------
23/04/18 17:47:02 021 [debug]: --------------------------------------------------
23/04/18 17:47:02 023 [debug]: |              Start Express Server              |
23/04/18 17:47:02 024 [debug]: --------------------------------------------------
23/04/18 17:47:02 024 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:47:02 024 [debug]: --------------------------------------------------
23/04/18 17:47:06 150 [debug]: --------------------------------------------------
23/04/18 17:47:06 152 [debug]: |              Start Express Server              |
23/04/18 17:47:06 152 [debug]: --------------------------------------------------
23/04/18 17:47:06 153 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:47:06 153 [debug]: --------------------------------------------------
23/04/18 17:47:27 756 [debug]: --------------------------------------------------
23/04/18 17:47:27 758 [debug]: |              Start Express Server              |
23/04/18 17:47:27 758 [debug]: --------------------------------------------------
23/04/18 17:47:27 759 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:47:27 759 [debug]: --------------------------------------------------
23/04/18 17:48:25 773 [debug]: --------------------------------------------------
23/04/18 17:48:25 776 [debug]: |              Start Express Server              |
23/04/18 17:48:25 776 [debug]: --------------------------------------------------
23/04/18 17:48:25 776 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:48:25 777 [debug]: --------------------------------------------------
23/04/18 17:48:40 665 [debug]: --------------------------------------------------
23/04/18 17:48:40 667 [debug]: |              Start Express Server              |
23/04/18 17:48:40 667 [debug]: --------------------------------------------------
23/04/18 17:48:40 668 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:48:40 668 [debug]: --------------------------------------------------
23/04/18 17:48:51 257 [debug]: --------------------------------------------------
23/04/18 17:48:51 259 [debug]: |              Start Express Server              |
23/04/18 17:48:51 259 [debug]: --------------------------------------------------
23/04/18 17:48:51 260 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:48:51 260 [debug]: --------------------------------------------------
23/04/18 17:48:56 506 [debug]: --------------------------------------------------
23/04/18 17:48:56 508 [debug]: |              Start Express Server              |
23/04/18 17:48:56 508 [debug]: --------------------------------------------------
23/04/18 17:48:56 509 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:48:56 509 [debug]: --------------------------------------------------
23/04/18 17:49:06 735 [debug]: --------------------------------------------------
23/04/18 17:49:06 737 [debug]: |              Start Express Server              |
23/04/18 17:49:06 737 [debug]: --------------------------------------------------
23/04/18 17:49:06 738 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:49:06 738 [debug]: --------------------------------------------------
23/04/18 17:49:09 642 [debug]: --------------------------------------------------
23/04/18 17:49:09 644 [debug]: |              Start Express Server              |
23/04/18 17:49:09 644 [debug]: --------------------------------------------------
23/04/18 17:49:09 645 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:49:09 645 [debug]: --------------------------------------------------
23/04/18 17:49:21 744 [debug]: --------------------------------------------------
23/04/18 17:49:21 746 [debug]: |              Start Express Server              |
23/04/18 17:49:21 746 [debug]: --------------------------------------------------
23/04/18 17:49:21 747 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:49:21 747 [debug]: --------------------------------------------------
23/04/18 17:49:58 171 [debug]: --------------------------------------------------
23/04/18 17:49:58 173 [debug]: |              Start Express Server              |
23/04/18 17:49:58 174 [debug]: --------------------------------------------------
23/04/18 17:49:58 174 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:49:58 174 [debug]: --------------------------------------------------
23/04/18 17:57:44 748 [debug]: --------------------------------------------------
23/04/18 17:57:44 751 [debug]: |              Start Express Server              |
23/04/18 17:57:44 751 [debug]: --------------------------------------------------
23/04/18 17:57:44 751 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:57:44 752 [debug]: --------------------------------------------------
23/04/18 17:57:52 081 [debug]: --------------------------------------------------
23/04/18 17:57:52 083 [debug]: |              Start Express Server              |
23/04/18 17:57:52 083 [debug]: --------------------------------------------------
23/04/18 17:57:52 084 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:57:52 084 [debug]: --------------------------------------------------
23/04/18 17:58:06 390 [debug]: --------------------------------------------------
23/04/18 17:58:06 392 [debug]: |              Start Express Server              |
23/04/18 17:58:06 393 [debug]: --------------------------------------------------
23/04/18 17:58:06 393 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:58:06 394 [debug]: --------------------------------------------------
23/04/18 17:59:17 260 [debug]: --------------------------------------------------
23/04/18 17:59:17 263 [debug]: |              Start Express Server              |
23/04/18 17:59:17 263 [debug]: --------------------------------------------------
23/04/18 17:59:17 263 [debug]: server address => http://211.222.164.95:3001
23/04/18 17:59:17 264 [debug]: --------------------------------------------------
23/04/18 18:00:22 795 [debug]: --------------------------------------------------
23/04/18 18:00:22 797 [debug]: |              Start Express Server              |
23/04/18 18:00:22 797 [debug]: --------------------------------------------------
23/04/18 18:00:22 798 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:00:22 798 [debug]: --------------------------------------------------
23/04/18 18:01:05 839 [debug]: --------------------------------------------------
23/04/18 18:01:05 842 [debug]: |              Start Express Server              |
23/04/18 18:01:05 842 [debug]: --------------------------------------------------
23/04/18 18:01:05 843 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:01:05 843 [debug]: --------------------------------------------------
23/04/18 18:01:44 684 [debug]: --------------------------------------------------
23/04/18 18:01:44 686 [debug]: |              Start Express Server              |
23/04/18 18:01:44 686 [debug]: --------------------------------------------------
23/04/18 18:01:44 686 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:01:44 687 [debug]: --------------------------------------------------
23/04/18 18:02:03 327 [debug]: --------------------------------------------------
23/04/18 18:02:03 330 [debug]: |              Start Express Server              |
23/04/18 18:02:03 330 [debug]: --------------------------------------------------
23/04/18 18:02:03 330 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:03 331 [debug]: --------------------------------------------------
23/04/18 18:02:06 420 [debug]: --------------------------------------------------
23/04/18 18:02:06 422 [debug]: |              Start Express Server              |
23/04/18 18:02:06 422 [debug]: --------------------------------------------------
23/04/18 18:02:06 423 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:06 423 [debug]: --------------------------------------------------
23/04/18 18:02:11 914 [debug]: --------------------------------------------------
23/04/18 18:02:11 917 [debug]: |              Start Express Server              |
23/04/18 18:02:11 917 [debug]: --------------------------------------------------
23/04/18 18:02:11 918 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:11 918 [debug]: --------------------------------------------------
23/04/18 18:02:23 730 [debug]: --------------------------------------------------
23/04/18 18:02:23 732 [debug]: |              Start Express Server              |
23/04/18 18:02:23 733 [debug]: --------------------------------------------------
23/04/18 18:02:23 733 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:23 733 [debug]: --------------------------------------------------
23/04/18 18:02:26 423 [debug]: --------------------------------------------------
23/04/18 18:02:26 425 [debug]: |              Start Express Server              |
23/04/18 18:02:26 426 [debug]: --------------------------------------------------
23/04/18 18:02:26 426 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:26 427 [debug]: --------------------------------------------------
23/04/18 18:02:31 858 [debug]: --------------------------------------------------
23/04/18 18:02:31 860 [debug]: |              Start Express Server              |
23/04/18 18:02:31 861 [debug]: --------------------------------------------------
23/04/18 18:02:31 861 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:31 862 [debug]: --------------------------------------------------
23/04/18 18:02:33 907 [debug]: --------------------------------------------------
23/04/18 18:02:33 909 [debug]: |              Start Express Server              |
23/04/18 18:02:33 909 [debug]: --------------------------------------------------
23/04/18 18:02:33 910 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:33 910 [debug]: --------------------------------------------------
23/04/18 18:02:40 288 [debug]: --------------------------------------------------
23/04/18 18:02:40 290 [debug]: |              Start Express Server              |
23/04/18 18:02:40 291 [debug]: --------------------------------------------------
23/04/18 18:02:40 291 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:40 291 [debug]: --------------------------------------------------
23/04/18 18:02:42 094 [debug]: --------------------------------------------------
23/04/18 18:02:42 096 [debug]: |              Start Express Server              |
23/04/18 18:02:42 096 [debug]: --------------------------------------------------
23/04/18 18:02:42 097 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:42 097 [debug]: --------------------------------------------------
23/04/18 18:02:43 960 [debug]: --------------------------------------------------
23/04/18 18:02:43 962 [debug]: |              Start Express Server              |
23/04/18 18:02:43 963 [debug]: --------------------------------------------------
23/04/18 18:02:43 963 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:02:43 963 [debug]: --------------------------------------------------
23/04/18 18:03:02 261 [debug]: --------------------------------------------------
23/04/18 18:03:02 263 [debug]: |              Start Express Server              |
23/04/18 18:03:02 263 [debug]: --------------------------------------------------
23/04/18 18:03:02 264 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:03:02 264 [debug]: --------------------------------------------------
23/04/18 18:03:08 127 [debug]: --------------------------------------------------
23/04/18 18:03:08 129 [debug]: |              Start Express Server              |
23/04/18 18:03:08 130 [debug]: --------------------------------------------------
23/04/18 18:03:08 130 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:03:08 130 [debug]: --------------------------------------------------
23/04/18 18:03:22 162 [debug]: --------------------------------------------------
23/04/18 18:03:22 164 [debug]: |              Start Express Server              |
23/04/18 18:03:22 164 [debug]: --------------------------------------------------
23/04/18 18:03:22 165 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:03:22 165 [debug]: --------------------------------------------------
23/04/18 18:03:26 291 [debug]: --------------------------------------------------
23/04/18 18:03:26 293 [debug]: |              Start Express Server              |
23/04/18 18:03:26 294 [debug]: --------------------------------------------------
23/04/18 18:03:26 294 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:03:26 294 [debug]: --------------------------------------------------
23/04/18 18:05:36 880 [debug]: --------------------------------------------------
23/04/18 18:05:36 882 [debug]: |              Start Express Server              |
23/04/18 18:05:36 883 [debug]: --------------------------------------------------
23/04/18 18:05:36 883 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:05:36 883 [debug]: --------------------------------------------------
23/04/18 18:09:59 018 [debug]: --------------------------------------------------
23/04/18 18:09:59 020 [debug]: |              Start Express Server              |
23/04/18 18:09:59 021 [debug]: --------------------------------------------------
23/04/18 18:09:59 021 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:09:59 021 [debug]: --------------------------------------------------
23/04/18 18:10:03 983 [debug]: --------------------------------------------------
23/04/18 18:10:03 985 [debug]: |              Start Express Server              |
23/04/18 18:10:03 985 [debug]: --------------------------------------------------
23/04/18 18:10:03 986 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:10:03 986 [debug]: --------------------------------------------------
23/04/18 18:10:12 397 [debug]: --------------------------------------------------
23/04/18 18:10:12 399 [debug]: |              Start Express Server              |
23/04/18 18:10:12 400 [debug]: --------------------------------------------------
23/04/18 18:10:12 400 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:10:12 400 [debug]: --------------------------------------------------
23/04/18 18:10:16 203 [debug]: --------------------------------------------------
23/04/18 18:10:16 205 [debug]: |              Start Express Server              |
23/04/18 18:10:16 206 [debug]: --------------------------------------------------
23/04/18 18:10:16 206 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:10:16 206 [debug]: --------------------------------------------------
23/04/18 18:11:21 119 [debug]: --------------------------------------------------
23/04/18 18:11:21 121 [debug]: |              Start Express Server              |
23/04/18 18:11:21 122 [debug]: --------------------------------------------------
23/04/18 18:11:21 122 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:11:21 122 [debug]: --------------------------------------------------
23/04/18 18:14:29 342 [debug]: --------------------------------------------------
23/04/18 18:14:29 344 [debug]: |              Start Express Server              |
23/04/18 18:14:29 344 [debug]: --------------------------------------------------
23/04/18 18:14:29 344 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:14:29 345 [debug]: --------------------------------------------------
23/04/18 18:14:30 878 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:30 879 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:14:30 880 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:30 883 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:30 883 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:14:30 884 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:30 891 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:30 892 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:14:30 892 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:30 893 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:30 894 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:14:30 894 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:30 977 [info]:  >> DATABASE 접속됨 [threaId=494]
23/04/18 18:14:30 977 [info]:  >> Connection 임대됨 [threaId=494]
23/04/18 18:14:30 979 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:14:30 979 [info]:  >> DATABASE 접속됨 [threaId=493]
23/04/18 18:14:30 980 [info]:  >> Connection 임대됨 [threaId=493]
23/04/18 18:14:30 981 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:14:30 981 [info]:  >> DATABASE 접속됨 [threaId=495]
23/04/18 18:14:30 982 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:30 982 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:14:30 985 [info]:  >> Connection 반납됨 [threaId=494]
23/04/18 18:14:30 989 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 106ms
23/04/18 18:14:30 989 [debug]: --------------------------------------------------
23/04/18 18:14:30 990 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:30 991 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:30 991 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:14:30 992 [info]:  >> DATABASE 접속됨 [threaId=496]
23/04/18 18:14:30 992 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:30 992 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:14:30 993 [info]:  >> Connection 반납됨 [threaId=493]
23/04/18 18:14:30 993 [info]:  >> Connection 임대됨 [threaId=493]
23/04/18 18:14:30 994 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:14:30 994 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:30 995 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:30 995 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:14:30 996 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:30 996 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:14:30 996 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:30 997 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:30 998 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 104ms
23/04/18 18:14:30 998 [debug]: --------------------------------------------------
23/04/18 18:14:30 999 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:30 999 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:14:31 000 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 000 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 001 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:14:31 001 [info]:  >> Connection 반납됨 [threaId=493]
23/04/18 18:14:31 001 [info]:  >> Connection 임대됨 [threaId=493]
23/04/18 18:14:31 002 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:14:31 002 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:31 002 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:14:31 003 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:31 003 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 003 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 004 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:14:31 004 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 005 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 18:14:31 005 [debug]: --------------------------------------------------
23/04/18 18:14:31 006 [info]:  >> Connection 반납됨 [threaId=493]
23/04/18 18:14:31 006 [info]:  >> Connection 임대됨 [threaId=493]
23/04/18 18:14:31 006 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:14:31 007 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 007 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 008 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:14:31 008 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 008 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:14:31 009 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 009 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 010 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:14:31 011 [info]:  >> Connection 반납됨 [threaId=493]
23/04/18 18:14:31 012 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 133ms
23/04/18 18:14:31 012 [debug]: --------------------------------------------------
23/04/18 18:14:31 013 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 013 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 121ms
23/04/18 18:14:31 013 [debug]: --------------------------------------------------
23/04/18 18:14:31 014 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 014 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 18:14:31 015 [debug]: --------------------------------------------------
23/04/18 18:14:31 015 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:31 016 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:14:31 016 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:31 016 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:31 017 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:14:31 017 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:31 018 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 018 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:14:31 019 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 020 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:14:31 020 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 020 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 021 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:14:31 021 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 021 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 022 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:14:31 022 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 022 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 022 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:14:31 023 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 023 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 023 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:14:31 024 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 024 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 024 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:14:31 025 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 025 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 026 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:14:31 026 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 026 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 027 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:14:31 027 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 027 [info]:  >> Connection 임대됨 [threaId=495]
23/04/18 18:14:31 028 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:14:31 028 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 029 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 029 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:14:31 030 [info]:  >> Connection 반납됨 [threaId=495]
23/04/18 18:14:31 030 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 14ms
23/04/18 18:14:31 030 [debug]: --------------------------------------------------
23/04/18 18:14:31 031 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 032 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 17ms
23/04/18 18:14:31 032 [debug]: --------------------------------------------------
23/04/18 18:14:31 033 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:31 033 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:14:31 034 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:31 034 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 035 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:14:31 035 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 035 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 036 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:14:31 036 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 036 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 037 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:14:31 037 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 037 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 037 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:14:31 038 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 038 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 038 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:14:31 039 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 039 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 039 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:14:31 040 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 040 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 040 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:14:31 041 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 042 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 18:14:31 042 [debug]: --------------------------------------------------
23/04/18 18:14:31 043 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:14:31 043 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:14:31 043 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:14:31 044 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 044 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:14:31 045 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 045 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 045 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:14:31 046 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 046 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 047 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:14:31 047 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 047 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 047 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:14:31 048 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 048 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 048 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:14:31 048 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 049 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 049 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:14:31 049 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 050 [info]:  >> Connection 임대됨 [threaId=496]
23/04/18 18:14:31 050 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:14:31 051 [info]:  >> Connection 반납됨 [threaId=496]
23/04/18 18:14:31 051 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 18:14:31 052 [debug]: --------------------------------------------------
23/04/18 18:15:16 108 [debug]: --------------------------------------------------
23/04/18 18:15:16 111 [debug]: |              Start Express Server              |
23/04/18 18:15:16 111 [debug]: --------------------------------------------------
23/04/18 18:15:16 111 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:15:16 112 [debug]: --------------------------------------------------
23/04/18 18:15:16 266 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:16 267 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:15:16 267 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:16 271 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:16 272 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:15:16 272 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:16 274 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:16 274 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:15:16 274 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:16 275 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:16 275 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:15:16 276 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:16 298 [info]:  >> DATABASE 접속됨 [threaId=500]
23/04/18 18:15:16 299 [info]:  >> Connection 임대됨 [threaId=500]
23/04/18 18:15:16 301 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:15:16 301 [info]:  >> DATABASE 접속됨 [threaId=501]
23/04/18 18:15:16 302 [info]:  >> Connection 임대됨 [threaId=501]
23/04/18 18:15:16 303 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:15:16 303 [info]:  >> DATABASE 접속됨 [threaId=498]
23/04/18 18:15:16 303 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 304 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:16 304 [info]:  >> DATABASE 접속됨 [threaId=499]
23/04/18 18:15:16 305 [info]:  >> Connection 임대됨 [threaId=499]
23/04/18 18:15:16 305 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:15:16 307 [info]:  >> Connection 반납됨 [threaId=500]
23/04/18 18:15:16 308 [info]:  >> Connection 임대됨 [threaId=500]
23/04/18 18:15:16 309 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:15:16 310 [info]:  >> Connection 반납됨 [threaId=501]
23/04/18 18:15:16 314 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 18:15:16 314 [debug]: --------------------------------------------------
23/04/18 18:15:16 315 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 316 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 316 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:16 317 [info]:  >> Connection 반납됨 [threaId=500]
23/04/18 18:15:16 317 [info]:  >> Connection 임대됨 [threaId=500]
23/04/18 18:15:16 318 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:15:16 319 [info]:  >> Connection 반납됨 [threaId=499]
23/04/18 18:15:16 320 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 48ms
23/04/18 18:15:16 320 [debug]: --------------------------------------------------
23/04/18 18:15:16 321 [info]:  >> Connection 반납됨 [threaId=500]
23/04/18 18:15:16 322 [info]:  >> Connection 임대됨 [threaId=500]
23/04/18 18:15:16 323 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:15:16 323 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 323 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 324 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:16 325 [info]:  >> Connection 반납됨 [threaId=500]
23/04/18 18:15:16 325 [info]:  >> Connection 임대됨 [threaId=500]
23/04/18 18:15:16 325 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:15:16 326 [info]:  >> Connection 반납됨 [threaId=500]
23/04/18 18:15:16 326 [info]:  >> Connection 임대됨 [threaId=500]
23/04/18 18:15:16 326 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:15:16 327 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 327 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 328 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:15:16 329 [info]:  >> Connection 반납됨 [threaId=500]
23/04/18 18:15:16 329 [info]:  >> Connection 임대됨 [threaId=500]
23/04/18 18:15:16 330 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:15:16 331 [info]:  >> Connection 반납됨 [threaId=500]
23/04/18 18:15:16 331 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 57ms
23/04/18 18:15:16 332 [debug]: --------------------------------------------------
23/04/18 18:15:16 333 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 334 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 67ms
23/04/18 18:15:16 334 [debug]: --------------------------------------------------
23/04/18 18:15:16 335 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:16 335 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:15:16 335 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:16 337 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 337 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:15:16 338 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 338 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 338 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:15:16 339 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 339 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 339 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:15:16 340 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 340 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 340 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:15:16 341 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 341 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 341 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:15:16 342 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 342 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 343 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:15:16 343 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 343 [info]:  >> Connection 임대됨 [threaId=498]
23/04/18 18:15:16 344 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:15:16 345 [info]:  >> Connection 반납됨 [threaId=498]
23/04/18 18:15:16 345 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 18:15:16 346 [debug]: --------------------------------------------------
23/04/18 18:15:25 486 [debug]: --------------------------------------------------
23/04/18 18:15:25 488 [debug]: |              Start Express Server              |
23/04/18 18:15:25 488 [debug]: --------------------------------------------------
23/04/18 18:15:25 489 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:15:25 489 [debug]: --------------------------------------------------
23/04/18 18:15:25 638 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:25 639 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:15:25 639 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:25 656 [info]:  >> DATABASE 접속됨 [threaId=503]
23/04/18 18:15:25 657 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 659 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:25 663 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 663 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 664 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:25 665 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 665 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 666 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:25 667 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 667 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 667 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:15:25 669 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 672 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 18:15:25 672 [debug]: --------------------------------------------------
23/04/18 18:15:25 675 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:25 675 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:15:25 675 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:25 677 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 677 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:15:25 678 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 679 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 4ms
23/04/18 18:15:25 679 [debug]: --------------------------------------------------
23/04/18 18:15:25 681 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:25 681 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:15:25 682 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:25 684 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 684 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:15:25 685 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:25 685 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:15:25 686 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:25 686 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 686 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 687 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:15:25 688 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 688 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 688 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:15:25 690 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 690 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 691 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:15:25 691 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 691 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 691 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:15:25 692 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 692 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 692 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:15:25 693 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 694 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:25 694 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:15:25 695 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:25 696 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 15ms
23/04/18 18:15:25 696 [debug]: --------------------------------------------------
23/04/18 18:15:25 696 [info]:  >> DATABASE 접속됨 [threaId=504]
23/04/18 18:15:25 696 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:25 697 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:15:25 698 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:25 699 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 14ms
23/04/18 18:15:25 699 [debug]: --------------------------------------------------
23/04/18 18:15:27 171 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:27 171 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:15:27 172 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:27 173 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:27 173 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:15:27 173 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:27 174 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:27 174 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:15:27 174 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:27 175 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:27 175 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:15:27 175 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:27 176 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:27 176 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:27 177 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:27 178 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:15:27 180 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:27 180 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:27 180 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:27 181 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:27 182 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 18:15:27 182 [debug]: --------------------------------------------------
23/04/18 18:15:27 183 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:27 183 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:27 184 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:27 185 [info]:  >> DATABASE 접속됨 [threaId=505]
23/04/18 18:15:27 185 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:27 185 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:15:27 186 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:27 186 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:27 186 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:15:27 186 [info]:  >> DATABASE 접속됨 [threaId=506]
23/04/18 18:15:27 187 [info]:  >> Connection 임대됨 [threaId=506]
23/04/18 18:15:27 187 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:15:27 188 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:27 188 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:27 188 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:15:27 189 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:27 190 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 18:15:27 190 [debug]: --------------------------------------------------
23/04/18 18:15:27 190 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:27 191 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:27 191 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:15:27 192 [info]:  >> Connection 반납됨 [threaId=506]
23/04/18 18:15:27 192 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 17ms
23/04/18 18:15:27 193 [debug]: --------------------------------------------------
23/04/18 18:15:27 193 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:27 193 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:27 194 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:15:27 194 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:27 195 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:27 195 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:15:27 196 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:27 196 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:27 197 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:15:27 197 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:27 198 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:27 198 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:15:27 199 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:27 200 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 26ms
23/04/18 18:15:27 200 [debug]: --------------------------------------------------
23/04/18 18:15:33 688 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:33 688 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:15:33 689 [debug]: [client] ::ffff:127.0.0.1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:33 690 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:33 691 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:33 693 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:33 693 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:15:33 693 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:33 694 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:33 694 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:15:33 695 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:33 695 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:15:33 695 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:15:33 696 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:15:33 697 [info]:  >> Connection 임대됨 [threaId=506]
23/04/18 18:15:33 697 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:15:33 698 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:33 698 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:15:33 699 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:33 699 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:33 700 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:33 700 [info]:  >> Connection 임대됨 [threaId=503]
23/04/18 18:15:33 701 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:15:33 701 [info]:  >> Connection 반납됨 [threaId=506]
23/04/18 18:15:33 702 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 18:15:33 702 [debug]: --------------------------------------------------
23/04/18 18:15:33 703 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:33 703 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:33 703 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:15:33 704 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:33 704 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:33 704 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:15:33 705 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:33 705 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:33 705 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:15:33 707 [info]:  >> Connection 반납됨 [threaId=503]
23/04/18 18:15:33 707 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 18:15:33 708 [debug]: --------------------------------------------------
23/04/18 18:15:33 708 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:33 708 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:33 709 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:15:33 709 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:33 709 [info]:  >> Connection 임대됨 [threaId=505]
23/04/18 18:15:33 710 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:15:33 710 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:33 710 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:33 711 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:15:33 711 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:33 711 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:33 712 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:15:33 712 [info]:  >> Connection 반납됨 [threaId=505]
23/04/18 18:15:33 713 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 25ms
23/04/18 18:15:33 713 [debug]: --------------------------------------------------
23/04/18 18:15:33 714 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:33 714 [info]:  >> Connection 임대됨 [threaId=504]
23/04/18 18:15:33 714 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:15:33 715 [info]:  >> Connection 반납됨 [threaId=504]
23/04/18 18:15:33 715 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 18:15:33 716 [debug]: --------------------------------------------------
23/04/18 18:16:41 439 [debug]: --------------------------------------------------
23/04/18 18:16:41 441 [debug]: |              Start Express Server              |
23/04/18 18:16:41 442 [debug]: --------------------------------------------------
23/04/18 18:16:41 442 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:16:41 443 [debug]: --------------------------------------------------
23/04/18 18:16:41 602 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 603 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:16:41 604 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 607 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 608 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:16:41 608 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 615 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 616 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:16:41 616 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 617 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 617 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:16:41 618 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 636 [info]:  >> DATABASE 접속됨 [threaId=509]
23/04/18 18:16:41 636 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:16:41 638 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:16:41 640 [info]:  >> DATABASE 접속됨 [threaId=508]
23/04/18 18:16:41 641 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 644 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:16:41 648 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:16:41 653 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 45ms
23/04/18 18:16:41 653 [debug]: --------------------------------------------------
23/04/18 18:16:41 654 [info]:  >> DATABASE 접속됨 [threaId=510]
23/04/18 18:16:41 654 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 655 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:16:41 656 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 656 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 657 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:16:41 658 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 658 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:16:41 658 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 659 [info]:  >> DATABASE 접속됨 [threaId=511]
23/04/18 18:16:41 659 [info]:  >> Connection 임대됨 [threaId=511]
23/04/18 18:16:41 659 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:16:41 660 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 661 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 661 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:16:41 662 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:16:41 662 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:16:41 663 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 663 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 664 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:16:41 664 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 664 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 665 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:16:41 666 [info]:  >> Connection 반납됨 [threaId=511]
23/04/18 18:16:41 666 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 49ms
23/04/18 18:16:41 666 [debug]: --------------------------------------------------
23/04/18 18:16:41 667 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 667 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 667 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:16:41 668 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:16:41 668 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 18:16:41 668 [debug]: --------------------------------------------------
23/04/18 18:16:41 669 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 669 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 670 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:16:41 670 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 671 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:16:41 671 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 672 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 672 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 672 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:16:41 674 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 674 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 71ms
23/04/18 18:16:41 675 [debug]: --------------------------------------------------
23/04/18 18:16:41 675 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 676 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:16:41 676 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 677 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 677 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:16:41 678 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 678 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:16:41 678 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 678 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 679 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 679 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:16:41 680 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 681 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 18:16:41 681 [debug]: --------------------------------------------------
23/04/18 18:16:41 682 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 682 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:16:41 683 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 683 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 68ms
23/04/18 18:16:41 684 [debug]: --------------------------------------------------
23/04/18 18:16:41 684 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 684 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 685 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:16:41 685 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 686 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:16:41 686 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 686 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 686 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 687 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:16:41 688 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 688 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:16:41 688 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 688 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:16:41 689 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:16:41 689 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:16:41 690 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 18:16:41 690 [debug]: --------------------------------------------------
23/04/18 18:16:41 691 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 691 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 691 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:16:41 692 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 692 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 692 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:16:41 693 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 693 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 693 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:16:41 693 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 694 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 694 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:16:41 694 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 694 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 695 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:16:41 695 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 695 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 696 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:16:41 696 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 697 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 18:16:41 697 [debug]: --------------------------------------------------
23/04/18 18:16:41 698 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 698 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:16:41 698 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 699 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 700 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:16:41 700 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 700 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 701 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:16:41 701 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 701 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 702 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:16:41 702 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 702 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 703 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:16:41 703 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 703 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 703 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:16:41 704 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 704 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 704 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:16:41 705 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 705 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 705 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:16:41 706 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 706 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 18:16:41 707 [debug]: --------------------------------------------------
23/04/18 18:16:41 708 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:41 708 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:16:41 708 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:16:41 709 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 709 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:16:41 710 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 710 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 710 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:16:41 711 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 711 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 711 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:16:41 711 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 712 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 712 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:16:41 712 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 712 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 713 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:16:41 713 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 713 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 714 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:16:41 714 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 714 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:16:41 715 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:16:41 715 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:16:41 716 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 18:16:41 716 [debug]: --------------------------------------------------
23/04/18 18:16:47 313 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:16:47 319 [debug]: [GET] http://211.222.164.95:3001/
23/04/18 18:16:47 319 [debug]: [client] ::ffff:107.170.254.14 / unknown / unknown (unknown) / unknown
23/04/18 18:16:47 327 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 14ms
23/04/18 18:16:47 327 [debug]: --------------------------------------------------
23/04/18 18:19:10 232 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:10 233 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:19:10 233 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:10 234 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:10 235 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:19:10 235 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:10 237 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 237 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:10 238 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:10 239 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:19:10 239 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:10 239 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:19:10 240 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:10 240 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:10 240 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:19:10 241 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:10 242 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 242 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:19:10 243 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:10 244 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 18:19:10 244 [debug]: --------------------------------------------------
23/04/18 18:19:10 244 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 245 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 245 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:10 246 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:10 246 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:19:10 247 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 247 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 248 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:19:10 248 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 249 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 249 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:19:10 250 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:10 250 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:19:10 251 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:10 252 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 252 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 252 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:10 253 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:10 254 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 14ms
23/04/18 18:19:10 254 [debug]: --------------------------------------------------
23/04/18 18:19:10 254 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 255 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 255 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:19:10 256 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 256 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 256 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:19:10 257 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:10 257 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:19:10 257 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:10 258 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:10 258 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:19:10 259 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 259 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 260 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:19:10 261 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 261 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 28ms
23/04/18 18:19:10 261 [debug]: --------------------------------------------------
23/04/18 18:19:10 262 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 262 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:19:10 263 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 263 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 263 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:19:10 264 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:10 265 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 15ms
23/04/18 18:19:10 265 [debug]: --------------------------------------------------
23/04/18 18:19:10 266 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:10 266 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:19:10 267 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:10 267 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 268 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 268 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:19:10 269 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 270 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 13ms
23/04/18 18:19:10 270 [debug]: --------------------------------------------------
23/04/18 18:19:10 271 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 271 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:10 272 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 273 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 34ms
23/04/18 18:19:10 273 [debug]: --------------------------------------------------
23/04/18 18:19:10 274 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:10 274 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:19:10 275 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:10 275 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 275 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 276 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:10 276 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 277 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:19:10 277 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 277 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 278 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:19:10 278 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 278 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 279 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:19:10 279 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 279 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 280 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:10 280 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 280 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 281 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:19:10 281 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 282 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 282 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:19:10 283 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 283 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:10 283 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:19:10 284 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 284 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 284 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:19:10 285 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:10 286 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 18:19:10 286 [debug]: --------------------------------------------------
23/04/18 18:19:10 287 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 287 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:10 288 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:19:10 288 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:10 289 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 15ms
23/04/18 18:19:10 289 [debug]: --------------------------------------------------
23/04/18 18:19:33 687 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 687 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:19:33 688 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 689 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:33 689 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:33 690 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 690 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:19:33 690 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 691 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 691 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:19:33 691 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 692 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 692 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:19:33 692 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 693 [info]:  >> Connection 임대됨 [threaId=510]
23/04/18 18:19:33 693 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:19:33 694 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 694 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:19:33 695 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:33 695 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:33 695 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:33 696 [info]:  >> Connection 임대됨 [threaId=511]
23/04/18 18:19:33 696 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:19:33 697 [info]:  >> Connection 반납됨 [threaId=510]
23/04/18 18:19:33 697 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 18:19:33 698 [debug]: --------------------------------------------------
23/04/18 18:19:33 698 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 698 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 699 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:19:33 699 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 699 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 699 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:19:33 700 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:33 700 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:33 700 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:33 701 [info]:  >> Connection 반납됨 [threaId=511]
23/04/18 18:19:33 701 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 18:19:33 701 [debug]: --------------------------------------------------
23/04/18 18:19:33 702 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 702 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 703 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:19:33 703 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 704 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:19:33 704 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 704 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:33 704 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:33 705 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:19:33 705 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 705 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:19:33 706 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 706 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 706 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 707 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:19:33 708 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:33 709 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 22ms
23/04/18 18:19:33 709 [debug]: --------------------------------------------------
23/04/18 18:19:33 710 [info]:  >> Connection 임대됨 [threaId=509]
23/04/18 18:19:33 710 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:19:33 710 [info]:  >> Connection 임대됨 [threaId=511]
23/04/18 18:19:33 711 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:19:33 711 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 711 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 712 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:19:33 712 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 712 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:19:33 713 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 713 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 713 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 714 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:19:33 714 [info]:  >> Connection 반납됨 [threaId=509]
23/04/18 18:19:33 714 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 18:19:33 715 [debug]: --------------------------------------------------
23/04/18 18:19:33 715 [info]:  >> Connection 반납됨 [threaId=511]
23/04/18 18:19:33 716 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 18:19:33 716 [debug]: --------------------------------------------------
23/04/18 18:19:33 716 [info]:  >> Connection 임대됨 [threaId=511]
23/04/18 18:19:33 717 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:33 717 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 718 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 27ms
23/04/18 18:19:33 718 [debug]: --------------------------------------------------
23/04/18 18:19:33 718 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 719 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:19:33 719 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 719 [info]:  >> Connection 반납됨 [threaId=511]
23/04/18 18:19:33 719 [info]:  >> Connection 임대됨 [threaId=511]
23/04/18 18:19:33 720 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:33 721 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 721 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:19:33 721 [info]:  >> Connection 반납됨 [threaId=511]
23/04/18 18:19:33 722 [info]:  >> Connection 임대됨 [threaId=511]
23/04/18 18:19:33 722 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:19:33 723 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 723 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 723 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:19:33 724 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 724 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 724 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:19:33 724 [info]:  >> Connection 반납됨 [threaId=511]
23/04/18 18:19:33 725 [info]:  >> Connection 임대됨 [threaId=511]
23/04/18 18:19:33 725 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:19:33 725 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 725 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 726 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:19:33 726 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 726 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 727 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:19:33 727 [info]:  >> Connection 반납됨 [threaId=511]
23/04/18 18:19:33 728 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 16ms
23/04/18 18:19:33 728 [debug]: --------------------------------------------------
23/04/18 18:19:33 728 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 728 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 729 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:19:33 729 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 729 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 730 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:19:33 730 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 731 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 18:19:33 731 [debug]: --------------------------------------------------
23/04/18 18:19:33 731 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 732 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:19:33 732 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 733 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 733 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:19:33 733 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 733 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 734 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:19:33 734 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 734 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 735 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:19:33 735 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 736 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 736 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:19:33 736 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 737 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 737 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:19:33 737 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 737 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 738 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:19:33 738 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 738 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 739 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:19:33 739 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 740 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 18:19:33 740 [debug]: --------------------------------------------------
23/04/18 18:19:33 741 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:19:33 741 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:19:33 741 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:19:33 742 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 742 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:19:33 742 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 743 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 743 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:19:33 743 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 744 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 744 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:19:33 744 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 744 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 745 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:19:33 745 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 745 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 745 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:19:33 746 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 746 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 746 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:19:33 746 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 747 [info]:  >> Connection 임대됨 [threaId=508]
23/04/18 18:19:33 747 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:19:33 747 [info]:  >> Connection 반납됨 [threaId=508]
23/04/18 18:19:33 748 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 18:19:33 748 [debug]: --------------------------------------------------
23/04/18 18:20:10 875 [debug]: --------------------------------------------------
23/04/18 18:20:10 877 [debug]: |              Start Express Server              |
23/04/18 18:20:10 878 [debug]: --------------------------------------------------
23/04/18 18:20:10 878 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:20:10 879 [debug]: --------------------------------------------------
23/04/18 18:20:11 304 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 306 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:20:11 306 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 311 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 312 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:20:11 313 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 322 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 322 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:20:11 323 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 324 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 324 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:20:11 324 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 346 [info]:  >> DATABASE 접속됨 [threaId=513]
23/04/18 18:20:11 347 [info]:  >> Connection 임대됨 [threaId=513]
23/04/18 18:20:11 349 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:20:11 349 [info]:  >> DATABASE 접속됨 [threaId=514]
23/04/18 18:20:11 350 [info]:  >> Connection 임대됨 [threaId=514]
23/04/18 18:20:11 350 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:20:11 353 [info]:  >> Connection 반납됨 [threaId=514]
23/04/18 18:20:11 356 [info]:  >> DATABASE 접속됨 [threaId=515]
23/04/18 18:20:11 356 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 357 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:20:11 358 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 358 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 359 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:20:11 359 [info]:  >> Connection 반납됨 [threaId=513]
23/04/18 18:20:11 360 [info]:  >> Connection 임대됨 [threaId=513]
23/04/18 18:20:11 360 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:20:11 361 [info]:  >> DATABASE 접속됨 [threaId=516]
23/04/18 18:20:11 361 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 361 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:20:11 362 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 362 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 362 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:20:11 363 [info]:  >> Connection 반납됨 [threaId=513]
23/04/18 18:20:11 363 [info]:  >> Connection 임대됨 [threaId=513]
23/04/18 18:20:11 364 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:20:11 364 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 364 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 365 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:20:11 366 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 366 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 366 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 367 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:20:11 367 [info]:  >> Connection 반납됨 [threaId=513]
23/04/18 18:20:11 368 [info]:  >> Connection 임대됨 [threaId=513]
23/04/18 18:20:11 368 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:20:11 369 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 369 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 369 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:20:11 370 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 370 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 371 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:20:11 372 [info]:  >> Connection 반납됨 [threaId=513]
23/04/18 18:20:11 373 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 432 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 433 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:20:11 433 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 434 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 434 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:20:11 434 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 435 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 436 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:20:11 436 [info]:  >> Connection 임대됨 [threaId=513]
23/04/18 18:20:11 437 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:20:11 438 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 438 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:20:11 439 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 440 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 440 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:20:11 440 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 441 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 442 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:20:11 442 [info]:  >> Connection 임대됨 [threaId=514]
23/04/18 18:20:11 442 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:20:11 443 [info]:  >> Connection 반납됨 [threaId=513]
23/04/18 18:20:11 445 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 18:20:11 445 [debug]: --------------------------------------------------
23/04/18 18:20:11 445 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 446 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 446 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:20:11 447 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 447 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 447 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:20:11 448 [info]:  >> Connection 반납됨 [threaId=514]
23/04/18 18:20:11 448 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 18:20:11 448 [debug]: --------------------------------------------------
23/04/18 18:20:11 449 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 449 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 450 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:20:11 450 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 450 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 451 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:20:11 451 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 451 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 452 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:20:11 452 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 453 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 453 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:20:11 453 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 454 [info]:  >> Connection 임대됨 [threaId=515]
23/04/18 18:20:11 454 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:20:11 454 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 455 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 455 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:20:11 456 [info]:  >> Connection 반납됨 [threaId=515]
23/04/18 18:20:11 456 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 24ms
23/04/18 18:20:11 456 [debug]: --------------------------------------------------
23/04/18 18:20:11 457 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 457 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 458 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:20:11 458 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 459 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 18:20:11 459 [debug]: --------------------------------------------------
23/04/18 18:20:11 460 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:20:11 460 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:20:11 461 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:20:11 461 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 462 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:20:11 462 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 462 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 463 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:20:11 463 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 463 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 464 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:20:11 464 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 464 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 465 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:20:11 465 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 465 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 466 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:20:11 466 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 466 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 467 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:20:11 467 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 468 [info]:  >> Connection 임대됨 [threaId=516]
23/04/18 18:20:11 468 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:20:11 469 [info]:  >> Connection 반납됨 [threaId=516]
23/04/18 18:20:11 469 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 18:20:11 470 [debug]: --------------------------------------------------
23/04/18 18:22:12 065 [debug]: --------------------------------------------------
23/04/18 18:22:12 067 [debug]: |              Start Express Server              |
23/04/18 18:22:12 068 [debug]: --------------------------------------------------
23/04/18 18:22:12 068 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:22:12 068 [debug]: --------------------------------------------------
23/04/18 18:22:25 177 [debug]: --------------------------------------------------
23/04/18 18:22:25 180 [debug]: |              Start Express Server              |
23/04/18 18:22:25 180 [debug]: --------------------------------------------------
23/04/18 18:22:25 180 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:22:25 181 [debug]: --------------------------------------------------
23/04/18 18:23:56 974 [debug]: --------------------------------------------------
23/04/18 18:23:56 976 [debug]: |              Start Express Server              |
23/04/18 18:23:56 977 [debug]: --------------------------------------------------
23/04/18 18:23:56 977 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:23:56 977 [debug]: --------------------------------------------------
23/04/18 18:23:59 718 [debug]: --------------------------------------------------
23/04/18 18:23:59 720 [debug]: |              Start Express Server              |
23/04/18 18:23:59 721 [debug]: --------------------------------------------------
23/04/18 18:23:59 721 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:23:59 722 [debug]: --------------------------------------------------
23/04/18 18:24:02 484 [debug]: --------------------------------------------------
23/04/18 18:24:02 486 [debug]: |              Start Express Server              |
23/04/18 18:24:02 486 [debug]: --------------------------------------------------
23/04/18 18:24:02 487 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:24:02 487 [debug]: --------------------------------------------------
23/04/18 18:24:39 766 [debug]: --------------------------------------------------
23/04/18 18:24:39 769 [debug]: |              Start Express Server              |
23/04/18 18:24:39 769 [debug]: --------------------------------------------------
23/04/18 18:24:39 770 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:24:39 770 [debug]: --------------------------------------------------
23/04/18 18:26:06 160 [debug]: --------------------------------------------------
23/04/18 18:26:06 163 [debug]: |              Start Express Server              |
23/04/18 18:26:06 163 [debug]: --------------------------------------------------
23/04/18 18:26:06 163 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:26:06 164 [debug]: --------------------------------------------------
23/04/18 18:26:09 108 [debug]: --------------------------------------------------
23/04/18 18:26:09 110 [debug]: |              Start Express Server              |
23/04/18 18:26:09 111 [debug]: --------------------------------------------------
23/04/18 18:26:09 111 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:26:09 112 [debug]: --------------------------------------------------
23/04/18 18:26:14 073 [debug]: --------------------------------------------------
23/04/18 18:26:14 076 [debug]: |              Start Express Server              |
23/04/18 18:26:14 076 [debug]: --------------------------------------------------
23/04/18 18:26:14 077 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:26:14 077 [debug]: --------------------------------------------------
23/04/18 18:26:20 250 [debug]: --------------------------------------------------
23/04/18 18:26:20 253 [debug]: |              Start Express Server              |
23/04/18 18:26:20 254 [debug]: --------------------------------------------------
23/04/18 18:26:20 254 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:26:20 255 [debug]: --------------------------------------------------
23/04/18 18:28:07 464 [debug]: --------------------------------------------------
23/04/18 18:28:07 466 [debug]: |              Start Express Server              |
23/04/18 18:28:07 466 [debug]: --------------------------------------------------
23/04/18 18:28:07 467 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:28:07 467 [debug]: --------------------------------------------------
23/04/18 18:29:31 623 [debug]: --------------------------------------------------
23/04/18 18:29:31 626 [debug]: |              Start Express Server              |
23/04/18 18:29:31 626 [debug]: --------------------------------------------------
23/04/18 18:29:31 627 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:29:31 627 [debug]: --------------------------------------------------
23/04/18 18:29:43 065 [debug]: --------------------------------------------------
23/04/18 18:29:43 068 [debug]: |              Start Express Server              |
23/04/18 18:29:43 068 [debug]: --------------------------------------------------
23/04/18 18:29:43 069 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:29:43 069 [debug]: --------------------------------------------------
23/04/18 18:29:51 221 [debug]: --------------------------------------------------
23/04/18 18:29:51 223 [debug]: |              Start Express Server              |
23/04/18 18:29:51 224 [debug]: --------------------------------------------------
23/04/18 18:29:51 224 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:29:51 224 [debug]: --------------------------------------------------
23/04/18 18:29:53 230 [debug]: --------------------------------------------------
23/04/18 18:29:53 232 [debug]: |              Start Express Server              |
23/04/18 18:29:53 232 [debug]: --------------------------------------------------
23/04/18 18:29:53 233 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:29:53 233 [debug]: --------------------------------------------------
23/04/18 18:29:54 883 [debug]: --------------------------------------------------
23/04/18 18:29:54 885 [debug]: |              Start Express Server              |
23/04/18 18:29:54 886 [debug]: --------------------------------------------------
23/04/18 18:29:54 886 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:29:54 886 [debug]: --------------------------------------------------
23/04/18 18:29:58 814 [debug]: --------------------------------------------------
23/04/18 18:29:58 817 [debug]: |              Start Express Server              |
23/04/18 18:29:58 817 [debug]: --------------------------------------------------
23/04/18 18:29:58 817 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:29:58 818 [debug]: --------------------------------------------------
23/04/18 18:30:15 662 [debug]: --------------------------------------------------
23/04/18 18:30:15 665 [debug]: |              Start Express Server              |
23/04/18 18:30:15 665 [debug]: --------------------------------------------------
23/04/18 18:30:15 666 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:30:15 666 [debug]: --------------------------------------------------
23/04/18 18:30:23 900 [debug]: --------------------------------------------------
23/04/18 18:30:23 903 [debug]: |              Start Express Server              |
23/04/18 18:30:23 904 [debug]: --------------------------------------------------
23/04/18 18:30:23 905 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:30:23 905 [debug]: --------------------------------------------------
23/04/18 18:30:39 801 [debug]: --------------------------------------------------
23/04/18 18:30:39 803 [debug]: |              Start Express Server              |
23/04/18 18:30:39 804 [debug]: --------------------------------------------------
23/04/18 18:30:39 804 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:30:39 805 [debug]: --------------------------------------------------
23/04/18 18:30:45 617 [debug]: --------------------------------------------------
23/04/18 18:30:45 620 [debug]: |              Start Express Server              |
23/04/18 18:30:45 620 [debug]: --------------------------------------------------
23/04/18 18:30:45 621 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:30:45 621 [debug]: --------------------------------------------------
23/04/18 18:31:25 083 [debug]: --------------------------------------------------
23/04/18 18:31:25 085 [debug]: |              Start Express Server              |
23/04/18 18:31:25 085 [debug]: --------------------------------------------------
23/04/18 18:31:25 086 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:31:25 086 [debug]: --------------------------------------------------
23/04/18 18:32:13 124 [debug]: --------------------------------------------------
23/04/18 18:32:13 126 [debug]: |              Start Express Server              |
23/04/18 18:32:13 126 [debug]: --------------------------------------------------
23/04/18 18:32:13 127 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:13 127 [debug]: --------------------------------------------------
23/04/18 18:32:15 065 [debug]: --------------------------------------------------
23/04/18 18:32:15 067 [debug]: |              Start Express Server              |
23/04/18 18:32:15 068 [debug]: --------------------------------------------------
23/04/18 18:32:15 068 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:15 068 [debug]: --------------------------------------------------
23/04/18 18:32:23 964 [debug]: --------------------------------------------------
23/04/18 18:32:23 966 [debug]: |              Start Express Server              |
23/04/18 18:32:23 966 [debug]: --------------------------------------------------
23/04/18 18:32:23 967 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:23 967 [debug]: --------------------------------------------------
23/04/18 18:32:30 386 [debug]: --------------------------------------------------
23/04/18 18:32:30 389 [debug]: |              Start Express Server              |
23/04/18 18:32:30 389 [debug]: --------------------------------------------------
23/04/18 18:32:30 389 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:30 390 [debug]: --------------------------------------------------
23/04/18 18:32:32 603 [debug]: --------------------------------------------------
23/04/18 18:32:32 605 [debug]: |              Start Express Server              |
23/04/18 18:32:32 606 [debug]: --------------------------------------------------
23/04/18 18:32:32 606 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:32 606 [debug]: --------------------------------------------------
23/04/18 18:32:38 962 [debug]: --------------------------------------------------
23/04/18 18:32:38 965 [debug]: |              Start Express Server              |
23/04/18 18:32:38 965 [debug]: --------------------------------------------------
23/04/18 18:32:38 966 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:38 966 [debug]: --------------------------------------------------
23/04/18 18:32:41 829 [debug]: --------------------------------------------------
23/04/18 18:32:41 831 [debug]: |              Start Express Server              |
23/04/18 18:32:41 832 [debug]: --------------------------------------------------
23/04/18 18:32:41 832 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:41 833 [debug]: --------------------------------------------------
23/04/18 18:32:48 445 [debug]: --------------------------------------------------
23/04/18 18:32:48 448 [debug]: |              Start Express Server              |
23/04/18 18:32:48 448 [debug]: --------------------------------------------------
23/04/18 18:32:48 448 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:48 449 [debug]: --------------------------------------------------
23/04/18 18:32:55 453 [debug]: --------------------------------------------------
23/04/18 18:32:55 456 [debug]: |              Start Express Server              |
23/04/18 18:32:55 456 [debug]: --------------------------------------------------
23/04/18 18:32:55 456 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:32:55 457 [debug]: --------------------------------------------------
23/04/18 18:33:00 589 [debug]: --------------------------------------------------
23/04/18 18:33:00 591 [debug]: |              Start Express Server              |
23/04/18 18:33:00 592 [debug]: --------------------------------------------------
23/04/18 18:33:00 592 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:33:00 592 [debug]: --------------------------------------------------
23/04/18 18:33:32 875 [debug]: --------------------------------------------------
23/04/18 18:33:32 877 [debug]: |              Start Express Server              |
23/04/18 18:33:32 877 [debug]: --------------------------------------------------
23/04/18 18:33:32 878 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:33:32 878 [debug]: --------------------------------------------------
23/04/18 18:33:40 389 [debug]: --------------------------------------------------
23/04/18 18:33:40 391 [debug]: |              Start Express Server              |
23/04/18 18:33:40 391 [debug]: --------------------------------------------------
23/04/18 18:33:40 392 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:33:40 392 [debug]: --------------------------------------------------
23/04/18 18:33:51 518 [debug]: --------------------------------------------------
23/04/18 18:33:51 521 [debug]: |              Start Express Server              |
23/04/18 18:33:51 522 [debug]: --------------------------------------------------
23/04/18 18:33:51 522 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:33:51 522 [debug]: --------------------------------------------------
23/04/18 18:35:47 220 [debug]: --------------------------------------------------
23/04/18 18:35:47 223 [debug]: |              Start Express Server              |
23/04/18 18:35:47 224 [debug]: --------------------------------------------------
23/04/18 18:35:47 224 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:35:47 225 [debug]: --------------------------------------------------
23/04/18 18:36:08 869 [debug]: --------------------------------------------------
23/04/18 18:36:08 871 [debug]: |              Start Express Server              |
23/04/18 18:36:08 872 [debug]: --------------------------------------------------
23/04/18 18:36:08 872 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:36:08 872 [debug]: --------------------------------------------------
23/04/18 18:36:15 569 [debug]: --------------------------------------------------
23/04/18 18:36:15 571 [debug]: |              Start Express Server              |
23/04/18 18:36:15 572 [debug]: --------------------------------------------------
23/04/18 18:36:15 572 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:36:15 572 [debug]: --------------------------------------------------
23/04/18 18:36:36 782 [debug]: --------------------------------------------------
23/04/18 18:36:36 785 [debug]: |              Start Express Server              |
23/04/18 18:36:36 786 [debug]: --------------------------------------------------
23/04/18 18:36:36 787 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:36:36 787 [debug]: --------------------------------------------------
23/04/18 18:36:47 142 [debug]: --------------------------------------------------
23/04/18 18:36:47 144 [debug]: |              Start Express Server              |
23/04/18 18:36:47 145 [debug]: --------------------------------------------------
23/04/18 18:36:47 145 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:36:47 145 [debug]: --------------------------------------------------
23/04/18 18:36:52 210 [debug]: --------------------------------------------------
23/04/18 18:36:52 213 [debug]: |              Start Express Server              |
23/04/18 18:36:52 213 [debug]: --------------------------------------------------
23/04/18 18:36:52 214 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:36:52 214 [debug]: --------------------------------------------------
23/04/18 18:37:50 664 [debug]: --------------------------------------------------
23/04/18 18:37:50 667 [debug]: |              Start Express Server              |
23/04/18 18:37:50 668 [debug]: --------------------------------------------------
23/04/18 18:37:50 668 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:37:50 669 [debug]: --------------------------------------------------
23/04/18 18:38:40 479 [debug]: --------------------------------------------------
23/04/18 18:38:40 481 [debug]: |              Start Express Server              |
23/04/18 18:38:40 481 [debug]: --------------------------------------------------
23/04/18 18:38:40 482 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:38:40 482 [debug]: --------------------------------------------------
23/04/18 18:38:53 773 [debug]: --------------------------------------------------
23/04/18 18:38:53 776 [debug]: |              Start Express Server              |
23/04/18 18:38:53 776 [debug]: --------------------------------------------------
23/04/18 18:38:53 776 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:38:53 777 [debug]: --------------------------------------------------
23/04/18 18:38:56 611 [debug]: --------------------------------------------------
23/04/18 18:38:56 613 [debug]: |              Start Express Server              |
23/04/18 18:38:56 614 [debug]: --------------------------------------------------
23/04/18 18:38:56 614 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:38:56 614 [debug]: --------------------------------------------------
23/04/18 18:39:36 929 [debug]: --------------------------------------------------
23/04/18 18:39:36 931 [debug]: |              Start Express Server              |
23/04/18 18:39:36 931 [debug]: --------------------------------------------------
23/04/18 18:39:36 932 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:39:36 932 [debug]: --------------------------------------------------
23/04/18 18:39:42 096 [debug]: --------------------------------------------------
23/04/18 18:39:42 098 [debug]: |              Start Express Server              |
23/04/18 18:39:42 099 [debug]: --------------------------------------------------
23/04/18 18:39:42 099 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:39:42 100 [debug]: --------------------------------------------------
23/04/18 18:39:44 107 [debug]: --------------------------------------------------
23/04/18 18:39:44 109 [debug]: |              Start Express Server              |
23/04/18 18:39:44 109 [debug]: --------------------------------------------------
23/04/18 18:39:44 110 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:39:44 110 [debug]: --------------------------------------------------
23/04/18 18:40:02 149 [debug]: --------------------------------------------------
23/04/18 18:40:02 151 [debug]: |              Start Express Server              |
23/04/18 18:40:02 152 [debug]: --------------------------------------------------
23/04/18 18:40:02 152 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:40:02 152 [debug]: --------------------------------------------------
23/04/18 18:40:10 100 [debug]: --------------------------------------------------
23/04/18 18:40:10 103 [debug]: |              Start Express Server              |
23/04/18 18:40:10 103 [debug]: --------------------------------------------------
23/04/18 18:40:10 104 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:40:10 104 [debug]: --------------------------------------------------
23/04/18 18:40:39 532 [debug]: --------------------------------------------------
23/04/18 18:40:39 534 [debug]: |              Start Express Server              |
23/04/18 18:40:39 534 [debug]: --------------------------------------------------
23/04/18 18:40:39 535 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:40:39 535 [debug]: --------------------------------------------------
23/04/18 18:40:52 943 [debug]: --------------------------------------------------
23/04/18 18:40:52 945 [debug]: |              Start Express Server              |
23/04/18 18:40:52 946 [debug]: --------------------------------------------------
23/04/18 18:40:52 946 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:40:52 946 [debug]: --------------------------------------------------
23/04/18 18:41:12 184 [debug]: --------------------------------------------------
23/04/18 18:41:12 186 [debug]: |              Start Express Server              |
23/04/18 18:41:12 186 [debug]: --------------------------------------------------
23/04/18 18:41:12 187 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:41:12 187 [debug]: --------------------------------------------------
23/04/18 18:41:18 188 [debug]: --------------------------------------------------
23/04/18 18:41:18 190 [debug]: |              Start Express Server              |
23/04/18 18:41:18 190 [debug]: --------------------------------------------------
23/04/18 18:41:18 191 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:41:18 191 [debug]: --------------------------------------------------
23/04/18 18:41:33 638 [debug]: --------------------------------------------------
23/04/18 18:41:33 641 [debug]: |              Start Express Server              |
23/04/18 18:41:33 641 [debug]: --------------------------------------------------
23/04/18 18:41:33 642 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:41:33 642 [debug]: --------------------------------------------------
23/04/18 18:41:36 392 [debug]: --------------------------------------------------
23/04/18 18:41:36 394 [debug]: |              Start Express Server              |
23/04/18 18:41:36 394 [debug]: --------------------------------------------------
23/04/18 18:41:36 395 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:41:36 395 [debug]: --------------------------------------------------
23/04/18 18:41:51 512 [debug]: --------------------------------------------------
23/04/18 18:41:51 514 [debug]: |              Start Express Server              |
23/04/18 18:41:51 515 [debug]: --------------------------------------------------
23/04/18 18:41:51 515 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:41:51 515 [debug]: --------------------------------------------------
23/04/18 18:42:09 732 [debug]: --------------------------------------------------
23/04/18 18:42:09 734 [debug]: |              Start Express Server              |
23/04/18 18:42:09 735 [debug]: --------------------------------------------------
23/04/18 18:42:09 735 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:42:09 735 [debug]: --------------------------------------------------
23/04/18 18:42:11 598 [debug]: --------------------------------------------------
23/04/18 18:42:11 600 [debug]: |              Start Express Server              |
23/04/18 18:42:11 600 [debug]: --------------------------------------------------
23/04/18 18:42:11 601 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:42:11 601 [debug]: --------------------------------------------------
23/04/18 18:42:38 367 [debug]: --------------------------------------------------
23/04/18 18:42:38 369 [debug]: |              Start Express Server              |
23/04/18 18:42:38 369 [debug]: --------------------------------------------------
23/04/18 18:42:38 370 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:42:38 370 [debug]: --------------------------------------------------
23/04/18 18:42:44 850 [debug]: --------------------------------------------------
23/04/18 18:42:44 853 [debug]: |              Start Express Server              |
23/04/18 18:42:44 853 [debug]: --------------------------------------------------
23/04/18 18:42:44 854 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:42:44 854 [debug]: --------------------------------------------------
23/04/18 18:44:22 732 [debug]: --------------------------------------------------
23/04/18 18:44:22 734 [debug]: |              Start Express Server              |
23/04/18 18:44:22 734 [debug]: --------------------------------------------------
23/04/18 18:44:22 735 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:44:22 735 [debug]: --------------------------------------------------
23/04/18 18:44:38 541 [debug]: --------------------------------------------------
23/04/18 18:44:38 544 [debug]: |              Start Express Server              |
23/04/18 18:44:38 544 [debug]: --------------------------------------------------
23/04/18 18:44:38 544 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:44:38 545 [debug]: --------------------------------------------------
23/04/18 18:44:43 130 [debug]: --------------------------------------------------
23/04/18 18:44:43 132 [debug]: |              Start Express Server              |
23/04/18 18:44:43 132 [debug]: --------------------------------------------------
23/04/18 18:44:43 133 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:44:43 133 [debug]: --------------------------------------------------
23/04/18 18:44:50 040 [debug]: --------------------------------------------------
23/04/18 18:44:50 043 [debug]: |              Start Express Server              |
23/04/18 18:44:50 043 [debug]: --------------------------------------------------
23/04/18 18:44:50 043 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:44:50 044 [debug]: --------------------------------------------------
23/04/18 18:45:29 054 [debug]: --------------------------------------------------
23/04/18 18:45:29 056 [debug]: |              Start Express Server              |
23/04/18 18:45:29 057 [debug]: --------------------------------------------------
23/04/18 18:45:29 057 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:45:29 057 [debug]: --------------------------------------------------
23/04/18 18:45:43 964 [debug]: --------------------------------------------------
23/04/18 18:45:43 966 [debug]: |              Start Express Server              |
23/04/18 18:45:43 966 [debug]: --------------------------------------------------
23/04/18 18:45:43 967 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:45:43 967 [debug]: --------------------------------------------------
23/04/18 18:46:04 045 [debug]: --------------------------------------------------
23/04/18 18:46:04 047 [debug]: |              Start Express Server              |
23/04/18 18:46:04 047 [debug]: --------------------------------------------------
23/04/18 18:46:04 048 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:46:04 048 [debug]: --------------------------------------------------
23/04/18 18:46:31 015 [debug]: --------------------------------------------------
23/04/18 18:46:31 017 [debug]: |              Start Express Server              |
23/04/18 18:46:31 018 [debug]: --------------------------------------------------
23/04/18 18:46:31 018 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:46:31 018 [debug]: --------------------------------------------------
23/04/18 18:46:41 092 [debug]: --------------------------------------------------
23/04/18 18:46:41 094 [debug]: |              Start Express Server              |
23/04/18 18:46:41 095 [debug]: --------------------------------------------------
23/04/18 18:46:41 095 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:46:41 095 [debug]: --------------------------------------------------
23/04/18 18:46:43 475 [debug]: --------------------------------------------------
23/04/18 18:46:43 477 [debug]: |              Start Express Server              |
23/04/18 18:46:43 477 [debug]: --------------------------------------------------
23/04/18 18:46:43 478 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:46:43 478 [debug]: --------------------------------------------------
23/04/18 18:46:49 921 [debug]: --------------------------------------------------
23/04/18 18:46:49 924 [debug]: |              Start Express Server              |
23/04/18 18:46:49 924 [debug]: --------------------------------------------------
23/04/18 18:46:49 925 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:46:49 925 [debug]: --------------------------------------------------
23/04/18 18:47:11 365 [debug]: --------------------------------------------------
23/04/18 18:47:11 368 [debug]: |              Start Express Server              |
23/04/18 18:47:11 368 [debug]: --------------------------------------------------
23/04/18 18:47:11 369 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:47:11 369 [debug]: --------------------------------------------------
23/04/18 18:47:25 433 [debug]: --------------------------------------------------
23/04/18 18:47:25 435 [debug]: |              Start Express Server              |
23/04/18 18:47:25 435 [debug]: --------------------------------------------------
23/04/18 18:47:25 435 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:47:25 436 [debug]: --------------------------------------------------
23/04/18 18:47:34 884 [debug]: --------------------------------------------------
23/04/18 18:47:34 887 [debug]: |              Start Express Server              |
23/04/18 18:47:34 887 [debug]: --------------------------------------------------
23/04/18 18:47:34 887 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:47:34 888 [debug]: --------------------------------------------------
23/04/18 18:47:43 141 [debug]: --------------------------------------------------
23/04/18 18:47:43 143 [debug]: |              Start Express Server              |
23/04/18 18:47:43 144 [debug]: --------------------------------------------------
23/04/18 18:47:43 144 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:47:43 144 [debug]: --------------------------------------------------
23/04/18 18:47:48 773 [debug]: --------------------------------------------------
23/04/18 18:47:48 775 [debug]: |              Start Express Server              |
23/04/18 18:47:48 776 [debug]: --------------------------------------------------
23/04/18 18:47:48 776 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:47:48 777 [debug]: --------------------------------------------------
23/04/18 18:48:00 595 [debug]: --------------------------------------------------
23/04/18 18:48:00 597 [debug]: |              Start Express Server              |
23/04/18 18:48:00 597 [debug]: --------------------------------------------------
23/04/18 18:48:00 597 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:48:00 598 [debug]: --------------------------------------------------
23/04/18 18:48:04 614 [debug]: --------------------------------------------------
23/04/18 18:48:04 617 [debug]: |              Start Express Server              |
23/04/18 18:48:04 617 [debug]: --------------------------------------------------
23/04/18 18:48:04 617 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:48:04 618 [debug]: --------------------------------------------------
23/04/18 18:48:54 721 [debug]: --------------------------------------------------
23/04/18 18:48:54 723 [debug]: |              Start Express Server              |
23/04/18 18:48:54 724 [debug]: --------------------------------------------------
23/04/18 18:48:54 724 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:48:54 725 [debug]: --------------------------------------------------
23/04/18 18:49:23 516 [debug]: --------------------------------------------------
23/04/18 18:49:23 518 [debug]: |              Start Express Server              |
23/04/18 18:49:23 519 [debug]: --------------------------------------------------
23/04/18 18:49:23 519 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:49:23 519 [debug]: --------------------------------------------------
23/04/18 18:49:37 187 [debug]: --------------------------------------------------
23/04/18 18:49:37 190 [debug]: |              Start Express Server              |
23/04/18 18:49:37 190 [debug]: --------------------------------------------------
23/04/18 18:49:37 190 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:49:37 191 [debug]: --------------------------------------------------
23/04/18 18:50:00 671 [debug]: --------------------------------------------------
23/04/18 18:50:00 673 [debug]: |              Start Express Server              |
23/04/18 18:50:00 674 [debug]: --------------------------------------------------
23/04/18 18:50:00 674 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:50:00 675 [debug]: --------------------------------------------------
23/04/18 18:50:09 468 [debug]: --------------------------------------------------
23/04/18 18:50:09 470 [debug]: |              Start Express Server              |
23/04/18 18:50:09 471 [debug]: --------------------------------------------------
23/04/18 18:50:09 471 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:50:09 471 [debug]: --------------------------------------------------
23/04/18 18:51:08 542 [debug]: --------------------------------------------------
23/04/18 18:51:08 545 [debug]: |              Start Express Server              |
23/04/18 18:51:08 545 [debug]: --------------------------------------------------
23/04/18 18:51:08 545 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:51:08 546 [debug]: --------------------------------------------------
23/04/18 18:51:12 024 [debug]: --------------------------------------------------
23/04/18 18:51:12 026 [debug]: |              Start Express Server              |
23/04/18 18:51:12 027 [debug]: --------------------------------------------------
23/04/18 18:51:12 027 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:51:12 027 [debug]: --------------------------------------------------
23/04/18 18:51:48 242 [debug]: --------------------------------------------------
23/04/18 18:51:48 245 [debug]: |              Start Express Server              |
23/04/18 18:51:48 245 [debug]: --------------------------------------------------
23/04/18 18:51:48 246 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:51:48 246 [debug]: --------------------------------------------------
23/04/18 18:52:25 709 [debug]: --------------------------------------------------
23/04/18 18:52:25 712 [debug]: |              Start Express Server              |
23/04/18 18:52:25 712 [debug]: --------------------------------------------------
23/04/18 18:52:25 713 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:52:25 713 [debug]: --------------------------------------------------
23/04/18 18:52:35 283 [debug]: --------------------------------------------------
23/04/18 18:52:35 285 [debug]: |              Start Express Server              |
23/04/18 18:52:35 285 [debug]: --------------------------------------------------
23/04/18 18:52:35 286 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:52:35 286 [debug]: --------------------------------------------------
23/04/18 18:52:51 656 [debug]: --------------------------------------------------
23/04/18 18:52:51 658 [debug]: |              Start Express Server              |
23/04/18 18:52:51 659 [debug]: --------------------------------------------------
23/04/18 18:52:51 659 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:52:51 659 [debug]: --------------------------------------------------
23/04/18 18:53:02 788 [debug]: --------------------------------------------------
23/04/18 18:53:02 790 [debug]: |              Start Express Server              |
23/04/18 18:53:02 790 [debug]: --------------------------------------------------
23/04/18 18:53:02 791 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:02 791 [debug]: --------------------------------------------------
23/04/18 18:53:05 176 [debug]: --------------------------------------------------
23/04/18 18:53:05 179 [debug]: |              Start Express Server              |
23/04/18 18:53:05 180 [debug]: --------------------------------------------------
23/04/18 18:53:05 180 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:05 180 [debug]: --------------------------------------------------
23/04/18 18:53:07 272 [debug]: --------------------------------------------------
23/04/18 18:53:07 274 [debug]: |              Start Express Server              |
23/04/18 18:53:07 274 [debug]: --------------------------------------------------
23/04/18 18:53:07 275 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:07 275 [debug]: --------------------------------------------------
23/04/18 18:53:15 397 [debug]: --------------------------------------------------
23/04/18 18:53:15 399 [debug]: |              Start Express Server              |
23/04/18 18:53:15 400 [debug]: --------------------------------------------------
23/04/18 18:53:15 400 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:15 400 [debug]: --------------------------------------------------
23/04/18 18:53:25 683 [debug]: --------------------------------------------------
23/04/18 18:53:25 686 [debug]: |              Start Express Server              |
23/04/18 18:53:25 686 [debug]: --------------------------------------------------
23/04/18 18:53:25 686 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:25 687 [debug]: --------------------------------------------------
23/04/18 18:53:28 155 [debug]: --------------------------------------------------
23/04/18 18:53:28 157 [debug]: |              Start Express Server              |
23/04/18 18:53:28 157 [debug]: --------------------------------------------------
23/04/18 18:53:28 158 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:28 158 [debug]: --------------------------------------------------
23/04/18 18:53:29 993 [debug]: --------------------------------------------------
23/04/18 18:53:29 995 [debug]: |              Start Express Server              |
23/04/18 18:53:29 996 [debug]: --------------------------------------------------
23/04/18 18:53:29 996 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:29 996 [debug]: --------------------------------------------------
23/04/18 18:53:36 944 [debug]: --------------------------------------------------
23/04/18 18:53:36 946 [debug]: |              Start Express Server              |
23/04/18 18:53:36 947 [debug]: --------------------------------------------------
23/04/18 18:53:36 947 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:36 947 [debug]: --------------------------------------------------
23/04/18 18:53:42 319 [debug]: --------------------------------------------------
23/04/18 18:53:42 321 [debug]: |              Start Express Server              |
23/04/18 18:53:42 322 [debug]: --------------------------------------------------
23/04/18 18:53:42 322 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:42 322 [debug]: --------------------------------------------------
23/04/18 18:53:49 684 [debug]: --------------------------------------------------
23/04/18 18:53:49 686 [debug]: |              Start Express Server              |
23/04/18 18:53:49 687 [debug]: --------------------------------------------------
23/04/18 18:53:49 688 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:53:49 689 [debug]: --------------------------------------------------
23/04/18 18:54:05 002 [debug]: --------------------------------------------------
23/04/18 18:54:05 004 [debug]: |              Start Express Server              |
23/04/18 18:54:05 004 [debug]: --------------------------------------------------
23/04/18 18:54:05 005 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:54:05 005 [debug]: --------------------------------------------------
23/04/18 18:54:10 505 [debug]: --------------------------------------------------
23/04/18 18:54:10 507 [debug]: |              Start Express Server              |
23/04/18 18:54:10 508 [debug]: --------------------------------------------------
23/04/18 18:54:10 508 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:54:10 508 [debug]: --------------------------------------------------
23/04/18 18:54:22 666 [debug]: --------------------------------------------------
23/04/18 18:54:22 669 [debug]: |              Start Express Server              |
23/04/18 18:54:22 669 [debug]: --------------------------------------------------
23/04/18 18:54:22 669 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:54:22 670 [debug]: --------------------------------------------------
23/04/18 18:54:49 485 [debug]: --------------------------------------------------
23/04/18 18:54:49 487 [debug]: |              Start Express Server              |
23/04/18 18:54:49 488 [debug]: --------------------------------------------------
23/04/18 18:54:49 488 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:54:49 488 [debug]: --------------------------------------------------
23/04/18 18:55:14 283 [debug]: --------------------------------------------------
23/04/18 18:55:14 285 [debug]: |              Start Express Server              |
23/04/18 18:55:14 285 [debug]: --------------------------------------------------
23/04/18 18:55:14 286 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:55:14 286 [debug]: --------------------------------------------------
23/04/18 18:55:18 798 [debug]: --------------------------------------------------
23/04/18 18:55:18 801 [debug]: |              Start Express Server              |
23/04/18 18:55:18 802 [debug]: --------------------------------------------------
23/04/18 18:55:18 803 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:55:18 803 [debug]: --------------------------------------------------
23/04/18 18:55:34 285 [debug]: --------------------------------------------------
23/04/18 18:55:34 287 [debug]: |              Start Express Server              |
23/04/18 18:55:34 288 [debug]: --------------------------------------------------
23/04/18 18:55:34 288 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:55:34 288 [debug]: --------------------------------------------------
23/04/18 18:55:37 847 [debug]: --------------------------------------------------
23/04/18 18:55:37 849 [debug]: |              Start Express Server              |
23/04/18 18:55:37 850 [debug]: --------------------------------------------------
23/04/18 18:55:37 850 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:55:37 850 [debug]: --------------------------------------------------
23/04/18 18:55:45 145 [debug]: --------------------------------------------------
23/04/18 18:55:45 147 [debug]: |              Start Express Server              |
23/04/18 18:55:45 148 [debug]: --------------------------------------------------
23/04/18 18:55:45 148 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:55:45 148 [debug]: --------------------------------------------------
23/04/18 18:56:00 070 [debug]: --------------------------------------------------
23/04/18 18:56:00 072 [debug]: |              Start Express Server              |
23/04/18 18:56:00 073 [debug]: --------------------------------------------------
23/04/18 18:56:00 073 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:56:00 073 [debug]: --------------------------------------------------
23/04/18 18:56:33 643 [debug]: --------------------------------------------------
23/04/18 18:56:33 645 [debug]: |              Start Express Server              |
23/04/18 18:56:33 646 [debug]: --------------------------------------------------
23/04/18 18:56:33 646 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:56:33 646 [debug]: --------------------------------------------------
23/04/18 18:56:50 534 [debug]: --------------------------------------------------
23/04/18 18:56:50 536 [debug]: |              Start Express Server              |
23/04/18 18:56:50 536 [debug]: --------------------------------------------------
23/04/18 18:56:50 537 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:56:50 537 [debug]: --------------------------------------------------
23/04/18 18:57:07 035 [debug]: --------------------------------------------------
23/04/18 18:57:07 037 [debug]: |              Start Express Server              |
23/04/18 18:57:07 037 [debug]: --------------------------------------------------
23/04/18 18:57:07 038 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:57:07 038 [debug]: --------------------------------------------------
23/04/18 18:57:16 923 [debug]: --------------------------------------------------
23/04/18 18:57:16 925 [debug]: |              Start Express Server              |
23/04/18 18:57:16 926 [debug]: --------------------------------------------------
23/04/18 18:57:16 926 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:57:16 926 [debug]: --------------------------------------------------
23/04/18 18:57:44 151 [debug]: --------------------------------------------------
23/04/18 18:57:44 153 [debug]: |              Start Express Server              |
23/04/18 18:57:44 153 [debug]: --------------------------------------------------
23/04/18 18:57:44 154 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:57:44 154 [debug]: --------------------------------------------------
23/04/18 18:57:53 983 [debug]: --------------------------------------------------
23/04/18 18:57:53 986 [debug]: |              Start Express Server              |
23/04/18 18:57:53 987 [debug]: --------------------------------------------------
23/04/18 18:57:53 987 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:57:53 987 [debug]: --------------------------------------------------
23/04/18 18:57:57 494 [debug]: --------------------------------------------------
23/04/18 18:57:57 497 [debug]: |              Start Express Server              |
23/04/18 18:57:57 497 [debug]: --------------------------------------------------
23/04/18 18:57:57 498 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:57:57 498 [debug]: --------------------------------------------------
23/04/18 18:57:57 548 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:57:57 549 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:57:57 549 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:57:57 553 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:57:57 553 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:57:57 554 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:57:57 556 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:57:57 556 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:57:57 556 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:57:57 557 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:57:57 557 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:57:57 557 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:57:57 582 [info]:  >> DATABASE 접속됨 [threaId=634]
23/04/18 18:57:57 582 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 584 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:57:57 585 [info]:  >> DATABASE 접속됨 [threaId=636]
23/04/18 18:57:57 585 [info]:  >> Connection 임대됨 [threaId=636]
23/04/18 18:57:57 586 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:57:57 587 [info]:  >> DATABASE 접속됨 [threaId=637]
23/04/18 18:57:57 587 [info]:  >> Connection 임대됨 [threaId=637]
23/04/18 18:57:57 587 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:57:57 590 [info]:  >> Connection 반납됨 [threaId=636]
23/04/18 18:57:57 590 [info]:  >> Connection 임대됨 [threaId=636]
23/04/18 18:57:57 591 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:57:57 591 [info]:  >> DATABASE 접속됨 [threaId=635]
23/04/18 18:57:57 591 [info]:  >> Connection 임대됨 [threaId=635]
23/04/18 18:57:57 592 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:57:57 592 [info]:  >> Connection 반납됨 [threaId=636]
23/04/18 18:57:57 593 [info]:  >> Connection 임대됨 [threaId=636]
23/04/18 18:57:57 593 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:57:57 594 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 594 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 595 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:57:57 596 [info]:  >> Connection 반납됨 [threaId=637]
23/04/18 18:57:57 599 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 42ms
23/04/18 18:57:57 599 [debug]: --------------------------------------------------
23/04/18 18:57:57 600 [info]:  >> Connection 반납됨 [threaId=636]
23/04/18 18:57:57 601 [info]:  >> Connection 임대됨 [threaId=636]
23/04/18 18:57:57 601 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:57:57 602 [info]:  >> Connection 반납됨 [threaId=635]
23/04/18 18:57:57 603 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 50ms
23/04/18 18:57:57 603 [debug]: --------------------------------------------------
23/04/18 18:57:57 603 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 604 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 604 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:57:57 605 [info]:  >> Connection 반납됨 [threaId=636]
23/04/18 18:57:57 605 [info]:  >> Connection 임대됨 [threaId=636]
23/04/18 18:57:57 605 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:57:57 606 [info]:  >> Connection 반납됨 [threaId=636]
23/04/18 18:57:57 606 [info]:  >> Connection 임대됨 [threaId=636]
23/04/18 18:57:57 606 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:57:57 607 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 607 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 608 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:57:57 608 [info]:  >> Connection 반납됨 [threaId=636]
23/04/18 18:57:57 609 [info]:  >> Connection 임대됨 [threaId=636]
23/04/18 18:57:57 609 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:57:57 610 [info]:  >> Connection 반납됨 [threaId=636]
23/04/18 18:57:57 611 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 55ms
23/04/18 18:57:57 611 [debug]: --------------------------------------------------
23/04/18 18:57:57 612 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 613 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 64ms
23/04/18 18:57:57 613 [debug]: --------------------------------------------------
23/04/18 18:57:57 614 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:57:57 614 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:57:57 615 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:57:57 616 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 616 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:57:57 617 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 617 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 617 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:57:57 618 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 618 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 618 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:57:57 619 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 619 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 619 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:57:57 619 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 620 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 620 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:57:57 620 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 621 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 621 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:57:57 621 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 622 [info]:  >> Connection 임대됨 [threaId=634]
23/04/18 18:57:57 622 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:57:57 623 [info]:  >> Connection 반납됨 [threaId=634]
23/04/18 18:57:57 624 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 18:57:57 624 [debug]: --------------------------------------------------
23/04/18 18:58:06 113 [debug]: --------------------------------------------------
23/04/18 18:58:06 115 [debug]: |              Start Express Server              |
23/04/18 18:58:06 115 [debug]: --------------------------------------------------
23/04/18 18:58:06 116 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:58:06 116 [debug]: --------------------------------------------------
23/04/18 18:58:07 931 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:07 932 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:58:07 933 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:07 942 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:07 943 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:58:07 943 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:07 945 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:07 945 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:58:07 946 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:07 946 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:07 947 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:58:07 947 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:07 966 [info]:  >> DATABASE 접속됨 [threaId=639]
23/04/18 18:58:07 966 [info]:  >> Connection 임대됨 [threaId=639]
23/04/18 18:58:07 968 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:07 969 [info]:  >> DATABASE 접속됨 [threaId=640]
23/04/18 18:58:07 969 [info]:  >> Connection 임대됨 [threaId=640]
23/04/18 18:58:07 970 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:58:07 971 [info]:  >> DATABASE 접속됨 [threaId=641]
23/04/18 18:58:07 971 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:07 972 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:58:07 974 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:07 974 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:07 975 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:58:07 976 [info]:  >> Connection 반납됨 [threaId=639]
23/04/18 18:58:07 976 [info]:  >> Connection 임대됨 [threaId=639]
23/04/18 18:58:07 977 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:07 977 [info]:  >> DATABASE 접속됨 [threaId=642]
23/04/18 18:58:07 978 [info]:  >> Connection 임대됨 [threaId=642]
23/04/18 18:58:07 978 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:58:07 979 [info]:  >> Connection 반납됨 [threaId=640]
23/04/18 18:58:07 981 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 18:58:07 982 [debug]: --------------------------------------------------
23/04/18 18:58:07 983 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:07 983 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:07 984 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:58:07 984 [info]:  >> Connection 반납됨 [threaId=639]
23/04/18 18:58:07 985 [info]:  >> Connection 임대됨 [threaId=639]
23/04/18 18:58:07 985 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:07 986 [info]:  >> Connection 반납됨 [threaId=642]
23/04/18 18:58:07 987 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 18:58:07 987 [debug]: --------------------------------------------------
23/04/18 18:58:07 988 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:07 988 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:07 988 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:58:07 989 [info]:  >> Connection 반납됨 [threaId=639]
23/04/18 18:58:07 989 [info]:  >> Connection 임대됨 [threaId=639]
23/04/18 18:58:07 990 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:58:07 990 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:07 991 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:07 991 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:58:07 992 [info]:  >> Connection 반납됨 [threaId=639]
23/04/18 18:58:07 993 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 18:58:07 993 [debug]: --------------------------------------------------
23/04/18 18:58:07 993 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:07 994 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:07 994 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:58:07 994 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:07 995 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:07 996 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:58:07 996 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:07 997 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 52ms
23/04/18 18:58:07 997 [debug]: --------------------------------------------------
23/04/18 18:58:07 998 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:07 999 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:58:07 999 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:08 000 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:08 001 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:58:08 001 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:08 001 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:08 002 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:58:08 002 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:08 002 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:08 003 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:58:08 003 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:08 004 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:08 004 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:58:08 005 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:08 005 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:08 006 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:58:08 006 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:08 006 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:08 007 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:58:08 007 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:08 007 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:08 008 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:58:08 008 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:08 009 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 18:58:08 009 [debug]: --------------------------------------------------
23/04/18 18:58:13 717 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:13 718 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:58:13 718 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:13 719 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:13 719 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:13 720 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:13 720 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:58:13 721 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:13 721 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:13 722 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:58:13 722 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:13 722 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:13 723 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:58:13 723 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:13 724 [info]:  >> Connection 임대됨 [threaId=639]
23/04/18 18:58:13 724 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:58:13 725 [info]:  >> Connection 임대됨 [threaId=642]
23/04/18 18:58:13 725 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:58:13 725 [info]:  >> Connection 임대됨 [threaId=640]
23/04/18 18:58:13 726 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:58:13 726 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:13 727 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:13 727 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:13 728 [info]:  >> Connection 반납됨 [threaId=639]
23/04/18 18:58:13 728 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 18:58:13 729 [debug]: --------------------------------------------------
23/04/18 18:58:13 729 [info]:  >> Connection 반납됨 [threaId=642]
23/04/18 18:58:13 729 [info]:  >> Connection 임대됨 [threaId=642]
23/04/18 18:58:13 730 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:58:13 730 [info]:  >> Connection 반납됨 [threaId=640]
23/04/18 18:58:13 731 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 18:58:13 731 [debug]: --------------------------------------------------
23/04/18 18:58:13 731 [info]:  >> Connection 반납됨 [threaId=642]
23/04/18 18:58:13 732 [info]:  >> Connection 임대됨 [threaId=642]
23/04/18 18:58:13 732 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:58:13 732 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:13 733 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:13 733 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:13 734 [info]:  >> Connection 반납됨 [threaId=642]
23/04/18 18:58:13 734 [info]:  >> Connection 임대됨 [threaId=642]
23/04/18 18:58:13 734 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:58:13 735 [info]:  >> Connection 반납됨 [threaId=642]
23/04/18 18:58:13 735 [info]:  >> Connection 임대됨 [threaId=642]
23/04/18 18:58:13 735 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:58:13 736 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:13 736 [info]:  >> Connection 임대됨 [threaId=641]
23/04/18 18:58:13 736 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:58:13 737 [info]:  >> Connection 반납됨 [threaId=642]
23/04/18 18:58:13 737 [info]:  >> Connection 임대됨 [threaId=642]
23/04/18 18:58:13 737 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:58:13 738 [info]:  >> Connection 반납됨 [threaId=641]
23/04/18 18:58:13 738 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 18:58:13 739 [debug]: --------------------------------------------------
23/04/18 18:58:13 739 [info]:  >> Connection 반납됨 [threaId=642]
23/04/18 18:58:13 739 [info]:  >> Connection 임대됨 [threaId=642]
23/04/18 18:58:13 740 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:58:13 741 [info]:  >> Connection 반납됨 [threaId=642]
23/04/18 18:58:13 741 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 18:58:13 742 [debug]: --------------------------------------------------
23/04/18 18:58:30 789 [debug]: --------------------------------------------------
23/04/18 18:58:30 791 [debug]: |              Start Express Server              |
23/04/18 18:58:30 792 [debug]: --------------------------------------------------
23/04/18 18:58:30 792 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:58:30 793 [debug]: --------------------------------------------------
23/04/18 18:58:31 436 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:31 438 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 18:58:31 438 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:31 443 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:31 444 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 18:58:31 444 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:31 453 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:31 453 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:58:31 454 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:31 455 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:31 456 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 18:58:31 456 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:31 480 [info]:  >> DATABASE 접속됨 [threaId=644]
23/04/18 18:58:31 481 [info]:  >> Connection 임대됨 [threaId=644]
23/04/18 18:58:31 483 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:31 484 [info]:  >> DATABASE 접속됨 [threaId=645]
23/04/18 18:58:31 484 [info]:  >> Connection 임대됨 [threaId=645]
23/04/18 18:58:31 485 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 18:58:31 485 [info]:  >> DATABASE 접속됨 [threaId=646]
23/04/18 18:58:31 485 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 486 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:58:31 488 [info]:  >> Connection 반납됨 [threaId=644]
23/04/18 18:58:31 488 [info]:  >> Connection 임대됨 [threaId=644]
23/04/18 18:58:31 489 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:31 490 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 491 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 491 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:58:31 492 [info]:  >> Connection 반납됨 [threaId=645]
23/04/18 18:58:31 495 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 51ms
23/04/18 18:58:31 495 [debug]: --------------------------------------------------
23/04/18 18:58:31 496 [info]:  >> DATABASE 접속됨 [threaId=647]
23/04/18 18:58:31 496 [info]:  >> Connection 임대됨 [threaId=647]
23/04/18 18:58:31 497 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 18:58:31 498 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 498 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 498 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:58:31 499 [info]:  >> Connection 반납됨 [threaId=644]
23/04/18 18:58:31 499 [info]:  >> Connection 임대됨 [threaId=644]
23/04/18 18:58:31 500 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 18:58:31 500 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 501 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 501 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:58:31 502 [info]:  >> Connection 반납됨 [threaId=647]
23/04/18 18:58:31 503 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 48ms
23/04/18 18:58:31 503 [debug]: --------------------------------------------------
23/04/18 18:58:31 504 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 504 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 504 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:58:31 505 [info]:  >> Connection 반납됨 [threaId=644]
23/04/18 18:58:31 505 [info]:  >> Connection 임대됨 [threaId=644]
23/04/18 18:58:31 506 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 18:58:31 506 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 506 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 507 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:58:31 507 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 508 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 508 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:58:31 510 [info]:  >> Connection 반납됨 [threaId=644]
23/04/18 18:58:31 510 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 73ms
23/04/18 18:58:31 511 [debug]: --------------------------------------------------
23/04/18 18:58:31 512 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 512 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 59ms
23/04/18 18:58:31 513 [debug]: --------------------------------------------------
23/04/18 18:58:31 513 [debug]: 클라이언트가 접속했습니다.
23/04/18 18:58:31 514 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 18:58:31 514 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 18:58:31 515 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 515 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 18:58:31 516 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 516 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 516 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 18:58:31 517 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 517 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 518 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 18:58:31 518 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 518 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 519 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 18:58:31 519 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 520 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 520 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 18:58:31 520 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 521 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 521 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 18:58:31 521 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 521 [info]:  >> Connection 임대됨 [threaId=646]
23/04/18 18:58:31 522 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 18:58:31 523 [info]:  >> Connection 반납됨 [threaId=646]
23/04/18 18:58:31 523 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 18:58:31 524 [debug]: --------------------------------------------------
23/04/18 18:58:41 447 [debug]: --------------------------------------------------
23/04/18 18:58:41 449 [debug]: |              Start Express Server              |
23/04/18 18:58:41 450 [debug]: --------------------------------------------------
23/04/18 18:58:41 450 [debug]: server address => http://211.222.164.95:3001
23/04/18 18:58:41 451 [debug]: --------------------------------------------------
23/04/18 19:00:24 753 [debug]: --------------------------------------------------
23/04/18 19:00:24 756 [debug]: |              Start Express Server              |
23/04/18 19:00:24 756 [debug]: --------------------------------------------------
23/04/18 19:00:24 757 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:00:24 757 [debug]: --------------------------------------------------
23/04/18 19:00:25 286 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:25 287 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:00:25 288 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:25 298 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:25 299 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:00:25 300 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:25 302 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:25 302 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:00:25 303 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:25 304 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:25 304 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:00:25 304 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:25 327 [info]:  >> DATABASE 접속됨 [threaId=650]
23/04/18 19:00:25 328 [info]:  >> Connection 임대됨 [threaId=650]
23/04/18 19:00:25 331 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:00:25 332 [info]:  >> DATABASE 접속됨 [threaId=651]
23/04/18 19:00:25 332 [info]:  >> Connection 임대됨 [threaId=651]
23/04/18 19:00:25 333 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:00:25 334 [info]:  >> DATABASE 접속됨 [threaId=653]
23/04/18 19:00:25 334 [info]:  >> Connection 임대됨 [threaId=653]
23/04/18 19:00:25 334 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:00:25 338 [info]:  >> Connection 반납됨 [threaId=651]
23/04/18 19:00:25 342 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 43ms
23/04/18 19:00:25 343 [debug]: --------------------------------------------------
23/04/18 19:00:25 344 [info]:  >> DATABASE 접속됨 [threaId=652]
23/04/18 19:00:25 344 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 346 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:00:25 347 [info]:  >> Connection 반납됨 [threaId=650]
23/04/18 19:00:25 347 [info]:  >> Connection 임대됨 [threaId=650]
23/04/18 19:00:25 348 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:00:25 351 [info]:  >> Connection 반납됨 [threaId=653]
23/04/18 19:00:25 352 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 48ms
23/04/18 19:00:25 352 [debug]: --------------------------------------------------
23/04/18 19:00:25 353 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 354 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 355 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:00:25 356 [info]:  >> Connection 반납됨 [threaId=650]
23/04/18 19:00:25 357 [info]:  >> Connection 임대됨 [threaId=650]
23/04/18 19:00:25 357 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:00:25 358 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 358 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 359 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:00:25 359 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 359 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 360 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:00:25 360 [info]:  >> Connection 반납됨 [threaId=650]
23/04/18 19:00:25 361 [info]:  >> Connection 임대됨 [threaId=650]
23/04/18 19:00:25 361 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:00:25 361 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 362 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 362 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:00:25 363 [info]:  >> Connection 반납됨 [threaId=650]
23/04/18 19:00:25 364 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 77ms
23/04/18 19:00:25 364 [debug]: --------------------------------------------------
23/04/18 19:00:25 365 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 365 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 365 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:00:25 366 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 366 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 367 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:00:25 368 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 369 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 67ms
23/04/18 19:00:25 369 [debug]: --------------------------------------------------
23/04/18 19:00:25 370 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:25 371 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:00:25 371 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:25 372 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 373 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:00:25 374 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 374 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 374 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:00:25 375 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 375 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 375 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:00:25 376 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 376 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 377 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:00:25 377 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 377 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 378 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:00:25 378 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 379 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 379 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:00:25 380 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 380 [info]:  >> Connection 임대됨 [threaId=652]
23/04/18 19:00:25 380 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:00:25 381 [info]:  >> Connection 반납됨 [threaId=652]
23/04/18 19:00:25 382 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:00:25 382 [debug]: --------------------------------------------------
23/04/18 19:00:52 007 [debug]: --------------------------------------------------
23/04/18 19:00:52 009 [debug]: |              Start Express Server              |
23/04/18 19:00:52 009 [debug]: --------------------------------------------------
23/04/18 19:00:52 010 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:00:52 010 [debug]: --------------------------------------------------
23/04/18 19:00:52 144 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:52 145 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:00:52 146 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:52 150 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:52 151 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:00:52 152 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:52 160 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:52 161 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:00:52 161 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:52 162 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:52 163 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:00:52 163 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:52 180 [info]:  >> DATABASE 접속됨 [threaId=656]
23/04/18 19:00:52 180 [info]:  >> Connection 임대됨 [threaId=656]
23/04/18 19:00:52 182 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:00:52 183 [info]:  >> DATABASE 접속됨 [threaId=655]
23/04/18 19:00:52 183 [info]:  >> Connection 임대됨 [threaId=655]
23/04/18 19:00:52 185 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:00:52 185 [info]:  >> DATABASE 접속됨 [threaId=658]
23/04/18 19:00:52 185 [info]:  >> Connection 임대됨 [threaId=658]
23/04/18 19:00:52 186 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:00:52 188 [info]:  >> Connection 반납됨 [threaId=656]
23/04/18 19:00:52 192 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 41ms
23/04/18 19:00:52 192 [debug]: --------------------------------------------------
23/04/18 19:00:52 193 [info]:  >> DATABASE 접속됨 [threaId=657]
23/04/18 19:00:52 193 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 194 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:00:52 195 [info]:  >> Connection 반납됨 [threaId=658]
23/04/18 19:00:52 196 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 32ms
23/04/18 19:00:52 196 [debug]: --------------------------------------------------
23/04/18 19:00:52 197 [info]:  >> Connection 반납됨 [threaId=655]
23/04/18 19:00:52 197 [info]:  >> Connection 임대됨 [threaId=655]
23/04/18 19:00:52 198 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:00:52 198 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 199 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 199 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:00:52 200 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 200 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 200 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:00:52 201 [info]:  >> Connection 반납됨 [threaId=655]
23/04/18 19:00:52 201 [info]:  >> Connection 임대됨 [threaId=655]
23/04/18 19:00:52 201 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:00:52 202 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 202 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 203 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:00:52 203 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 203 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 204 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:00:52 204 [info]:  >> Connection 반납됨 [threaId=655]
23/04/18 19:00:52 205 [info]:  >> Connection 임대됨 [threaId=655]
23/04/18 19:00:52 205 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:00:52 205 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 206 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 206 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:00:52 207 [info]:  >> Connection 반납됨 [threaId=655]
23/04/18 19:00:52 208 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 63ms
23/04/18 19:00:52 208 [debug]: --------------------------------------------------
23/04/18 19:00:52 208 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 209 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 210 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:00:52 211 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 211 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 50ms
23/04/18 19:00:52 211 [debug]: --------------------------------------------------
23/04/18 19:00:52 212 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:00:52 212 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:00:52 213 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:00:52 214 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 214 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:00:52 215 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 215 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 216 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:00:52 216 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 216 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 217 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:00:52 218 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 218 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 219 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:00:52 219 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 219 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 220 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:00:52 220 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 220 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 221 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:00:52 221 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 222 [info]:  >> Connection 임대됨 [threaId=657]
23/04/18 19:00:52 222 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:00:52 223 [info]:  >> Connection 반납됨 [threaId=657]
23/04/18 19:00:52 224 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 19:00:52 224 [debug]: --------------------------------------------------
23/04/18 19:01:06 477 [debug]: --------------------------------------------------
23/04/18 19:01:06 479 [debug]: |              Start Express Server              |
23/04/18 19:01:06 479 [debug]: --------------------------------------------------
23/04/18 19:01:06 480 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:01:06 480 [debug]: --------------------------------------------------
23/04/18 19:03:20 548 [debug]: --------------------------------------------------
23/04/18 19:03:20 550 [debug]: |              Start Express Server              |
23/04/18 19:03:20 550 [debug]: --------------------------------------------------
23/04/18 19:03:20 550 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:03:20 551 [debug]: --------------------------------------------------
23/04/18 19:03:21 570 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:21 571 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:03:21 571 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:21 575 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:21 576 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:03:21 577 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:21 584 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:21 585 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:03:21 585 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:21 586 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:21 586 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:03:21 587 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:21 603 [info]:  >> DATABASE 접속됨 [threaId=663]
23/04/18 19:03:21 603 [info]:  >> Connection 임대됨 [threaId=663]
23/04/18 19:03:21 606 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:21 606 [info]:  >> DATABASE 접속됨 [threaId=664]
23/04/18 19:03:21 606 [info]:  >> Connection 임대됨 [threaId=664]
23/04/18 19:03:21 607 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:03:21 608 [info]:  >> DATABASE 접속됨 [threaId=665]
23/04/18 19:03:21 608 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 608 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:03:21 611 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 612 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 613 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:03:21 613 [info]:  >> Connection 반납됨 [threaId=663]
23/04/18 19:03:21 613 [info]:  >> Connection 임대됨 [threaId=663]
23/04/18 19:03:21 614 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:21 615 [info]:  >> Connection 반납됨 [threaId=664]
23/04/18 19:03:21 618 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 42ms
23/04/18 19:03:21 618 [debug]: --------------------------------------------------
23/04/18 19:03:21 618 [info]:  >> DATABASE 접속됨 [threaId=666]
23/04/18 19:03:21 619 [info]:  >> Connection 임대됨 [threaId=666]
23/04/18 19:03:21 619 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:03:21 620 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 620 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 620 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:03:21 621 [info]:  >> Connection 반납됨 [threaId=663]
23/04/18 19:03:21 621 [info]:  >> Connection 임대됨 [threaId=663]
23/04/18 19:03:21 621 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:21 622 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 622 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 623 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:03:21 623 [info]:  >> Connection 반납됨 [threaId=666]
23/04/18 19:03:21 624 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 19:03:21 624 [debug]: --------------------------------------------------
23/04/18 19:03:21 625 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 625 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 626 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:03:21 626 [info]:  >> Connection 반납됨 [threaId=663]
23/04/18 19:03:21 627 [info]:  >> Connection 임대됨 [threaId=663]
23/04/18 19:03:21 627 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:03:21 627 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 628 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 628 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:03:21 629 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 629 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 629 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:03:21 630 [info]:  >> Connection 반납됨 [threaId=663]
23/04/18 19:03:21 631 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 19:03:21 631 [debug]: --------------------------------------------------
23/04/18 19:03:21 632 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 633 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 48ms
23/04/18 19:03:21 633 [debug]: --------------------------------------------------
23/04/18 19:03:21 634 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:21 634 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:03:21 635 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:21 635 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 636 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:03:21 636 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 636 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 637 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:03:21 637 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 637 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 638 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:03:21 638 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 639 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 639 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:03:21 639 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 640 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 640 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:03:21 641 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 641 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 641 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:03:21 642 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 642 [info]:  >> Connection 임대됨 [threaId=665]
23/04/18 19:03:21 643 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:03:21 643 [info]:  >> Connection 반납됨 [threaId=665]
23/04/18 19:03:21 644 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:03:21 644 [debug]: --------------------------------------------------
23/04/18 19:03:40 969 [debug]: --------------------------------------------------
23/04/18 19:03:40 971 [debug]: |              Start Express Server              |
23/04/18 19:03:40 972 [debug]: --------------------------------------------------
23/04/18 19:03:40 972 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:03:40 972 [debug]: --------------------------------------------------
23/04/18 19:03:41 908 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:41 909 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:03:41 909 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:41 914 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:41 915 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:03:41 915 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:41 924 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:41 924 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:03:41 925 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:41 926 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:41 926 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:03:41 926 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:41 944 [info]:  >> DATABASE 접속됨 [threaId=668]
23/04/18 19:03:41 945 [info]:  >> Connection 임대됨 [threaId=668]
23/04/18 19:03:41 947 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:41 947 [info]:  >> DATABASE 접속됨 [threaId=669]
23/04/18 19:03:41 948 [info]:  >> Connection 임대됨 [threaId=669]
23/04/18 19:03:41 948 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:03:41 949 [info]:  >> DATABASE 접속됨 [threaId=671]
23/04/18 19:03:41 949 [info]:  >> Connection 임대됨 [threaId=671]
23/04/18 19:03:41 950 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:03:41 950 [info]:  >> DATABASE 접속됨 [threaId=670]
23/04/18 19:03:41 950 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 951 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:03:41 954 [info]:  >> Connection 반납됨 [threaId=668]
23/04/18 19:03:41 954 [info]:  >> Connection 임대됨 [threaId=668]
23/04/18 19:03:41 954 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:41 956 [info]:  >> Connection 반납됨 [threaId=671]
23/04/18 19:03:41 959 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 33ms
23/04/18 19:03:41 959 [debug]: --------------------------------------------------
23/04/18 19:03:41 960 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 960 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 961 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:03:41 962 [info]:  >> Connection 반납됨 [threaId=669]
23/04/18 19:03:41 962 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 47ms
23/04/18 19:03:41 963 [debug]: --------------------------------------------------
23/04/18 19:03:41 963 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 963 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 964 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:03:41 964 [info]:  >> Connection 반납됨 [threaId=668]
23/04/18 19:03:41 964 [info]:  >> Connection 임대됨 [threaId=668]
23/04/18 19:03:41 965 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:41 965 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 966 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 966 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:03:41 967 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 967 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 967 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:03:41 968 [info]:  >> Connection 반납됨 [threaId=668]
23/04/18 19:03:41 968 [info]:  >> Connection 임대됨 [threaId=668]
23/04/18 19:03:41 968 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:03:41 969 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 969 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 969 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:03:41 970 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 970 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 971 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:03:41 972 [info]:  >> Connection 반납됨 [threaId=668]
23/04/18 19:03:41 973 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 65ms
23/04/18 19:03:41 973 [debug]: --------------------------------------------------
23/04/18 19:03:41 974 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 974 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 50ms
23/04/18 19:03:41 975 [debug]: --------------------------------------------------
23/04/18 19:03:41 976 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:41 976 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:03:41 976 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:41 977 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 977 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:03:41 978 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 978 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 978 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:03:41 979 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 979 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 980 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:03:41 980 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 981 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 981 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:03:41 982 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 982 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 982 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:03:41 983 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 983 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 984 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:03:41 984 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 984 [info]:  >> Connection 임대됨 [threaId=670]
23/04/18 19:03:41 985 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:03:41 986 [info]:  >> Connection 반납됨 [threaId=670]
23/04/18 19:03:41 986 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:03:41 987 [debug]: --------------------------------------------------
23/04/18 19:03:53 558 [debug]: --------------------------------------------------
23/04/18 19:03:53 560 [debug]: |              Start Express Server              |
23/04/18 19:03:53 561 [debug]: --------------------------------------------------
23/04/18 19:03:53 561 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:03:53 561 [debug]: --------------------------------------------------
23/04/18 19:03:55 027 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:55 029 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:03:55 029 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:55 033 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:55 034 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:03:55 034 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:55 043 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:55 043 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:03:55 043 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:55 044 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:55 045 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:03:55 045 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:55 061 [info]:  >> DATABASE 접속됨 [threaId=674]
23/04/18 19:03:55 062 [info]:  >> Connection 임대됨 [threaId=674]
23/04/18 19:03:55 063 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:03:55 064 [info]:  >> DATABASE 접속됨 [threaId=673]
23/04/18 19:03:55 064 [info]:  >> Connection 임대됨 [threaId=673]
23/04/18 19:03:55 065 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:55 066 [info]:  >> DATABASE 접속됨 [threaId=675]
23/04/18 19:03:55 066 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 067 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:03:55 070 [info]:  >> Connection 반납됨 [threaId=674]
23/04/18 19:03:55 073 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 19:03:55 073 [debug]: --------------------------------------------------
23/04/18 19:03:55 074 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 074 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 075 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:03:55 076 [info]:  >> Connection 반납됨 [threaId=673]
23/04/18 19:03:55 076 [info]:  >> Connection 임대됨 [threaId=673]
23/04/18 19:03:55 076 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:55 077 [info]:  >> DATABASE 접속됨 [threaId=676]
23/04/18 19:03:55 077 [info]:  >> Connection 임대됨 [threaId=676]
23/04/18 19:03:55 078 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:03:55 078 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 078 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 079 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:03:55 079 [info]:  >> Connection 반납됨 [threaId=673]
23/04/18 19:03:55 079 [info]:  >> Connection 임대됨 [threaId=673]
23/04/18 19:03:55 080 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:03:55 080 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 080 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 081 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:03:55 082 [info]:  >> Connection 반납됨 [threaId=676]
23/04/18 19:03:55 082 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 37ms
23/04/18 19:03:55 083 [debug]: --------------------------------------------------
23/04/18 19:03:55 083 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 083 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 084 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:03:55 084 [info]:  >> Connection 반납됨 [threaId=673]
23/04/18 19:03:55 085 [info]:  >> Connection 임대됨 [threaId=673]
23/04/18 19:03:55 085 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:03:55 085 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 086 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 086 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:03:55 086 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 087 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 088 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:03:55 088 [info]:  >> Connection 반납됨 [threaId=673]
23/04/18 19:03:55 089 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 19:03:55 089 [debug]: --------------------------------------------------
23/04/18 19:03:55 090 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 091 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 48ms
23/04/18 19:03:55 091 [debug]: --------------------------------------------------
23/04/18 19:03:55 092 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:03:55 092 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:03:55 093 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:03:55 093 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 094 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:03:55 094 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 094 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 095 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:03:55 095 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 095 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 096 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:03:55 096 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 097 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 097 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:03:55 097 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 098 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 098 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:03:55 099 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 099 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 099 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:03:55 100 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 100 [info]:  >> Connection 임대됨 [threaId=675]
23/04/18 19:03:55 101 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:03:55 101 [info]:  >> Connection 반납됨 [threaId=675]
23/04/18 19:03:55 102 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:03:55 102 [debug]: --------------------------------------------------
23/04/18 19:04:08 105 [debug]: --------------------------------------------------
23/04/18 19:04:08 107 [debug]: |              Start Express Server              |
23/04/18 19:04:08 108 [debug]: --------------------------------------------------
23/04/18 19:04:08 108 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:04:08 108 [debug]: --------------------------------------------------
23/04/18 19:04:19 568 [debug]: --------------------------------------------------
23/04/18 19:04:19 570 [debug]: |              Start Express Server              |
23/04/18 19:04:19 571 [debug]: --------------------------------------------------
23/04/18 19:04:19 571 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:04:19 571 [debug]: --------------------------------------------------
23/04/18 19:05:16 432 [debug]: --------------------------------------------------
23/04/18 19:05:16 434 [debug]: |              Start Express Server              |
23/04/18 19:05:16 434 [debug]: --------------------------------------------------
23/04/18 19:05:16 435 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:05:16 435 [debug]: --------------------------------------------------
23/04/18 19:06:28 145 [debug]: --------------------------------------------------
23/04/18 19:06:28 148 [debug]: |              Start Express Server              |
23/04/18 19:06:28 148 [debug]: --------------------------------------------------
23/04/18 19:06:28 149 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:06:28 149 [debug]: --------------------------------------------------
23/04/18 19:06:37 911 [debug]: --------------------------------------------------
23/04/18 19:06:37 913 [debug]: |              Start Express Server              |
23/04/18 19:06:37 914 [debug]: --------------------------------------------------
23/04/18 19:06:37 914 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:06:37 915 [debug]: --------------------------------------------------
23/04/18 19:06:38 024 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:06:38 025 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:06:38 026 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:06:38 037 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:06:38 037 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:06:38 038 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:06:38 040 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:06:38 040 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:06:38 041 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:06:38 042 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:06:38 042 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:06:38 042 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:06:38 061 [info]:  >> DATABASE 접속됨 [threaId=682]
23/04/18 19:06:38 062 [info]:  >> Connection 임대됨 [threaId=682]
23/04/18 19:06:38 064 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:06:38 065 [info]:  >> DATABASE 접속됨 [threaId=684]
23/04/18 19:06:38 065 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 066 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:06:38 066 [info]:  >> DATABASE 접속됨 [threaId=683]
23/04/18 19:06:38 067 [info]:  >> Connection 임대됨 [threaId=683]
23/04/18 19:06:38 067 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:06:38 070 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 070 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 071 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:06:38 072 [info]:  >> Connection 반납됨 [threaId=683]
23/04/18 19:06:38 075 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 19:06:38 075 [debug]: --------------------------------------------------
23/04/18 19:06:38 076 [info]:  >> Connection 반납됨 [threaId=682]
23/04/18 19:06:38 077 [info]:  >> Connection 임대됨 [threaId=682]
23/04/18 19:06:38 077 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:06:38 078 [info]:  >> DATABASE 접속됨 [threaId=685]
23/04/18 19:06:38 078 [info]:  >> Connection 임대됨 [threaId=685]
23/04/18 19:06:38 078 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:06:38 079 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 079 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 079 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:06:38 080 [info]:  >> Connection 반납됨 [threaId=682]
23/04/18 19:06:38 080 [info]:  >> Connection 임대됨 [threaId=682]
23/04/18 19:06:38 081 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:06:38 081 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 082 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 082 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:06:38 083 [info]:  >> Connection 반납됨 [threaId=685]
23/04/18 19:06:38 084 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 42ms
23/04/18 19:06:38 084 [debug]: --------------------------------------------------
23/04/18 19:06:38 084 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 085 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 085 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:06:38 085 [info]:  >> Connection 반납됨 [threaId=682]
23/04/18 19:06:38 086 [info]:  >> Connection 임대됨 [threaId=682]
23/04/18 19:06:38 086 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:06:38 087 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 087 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 088 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:06:38 089 [info]:  >> Connection 반납됨 [threaId=682]
23/04/18 19:06:38 089 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 64ms
23/04/18 19:06:38 090 [debug]: --------------------------------------------------
23/04/18 19:06:38 090 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 091 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 091 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:06:38 092 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 093 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 53ms
23/04/18 19:06:38 093 [debug]: --------------------------------------------------
23/04/18 19:06:38 094 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:06:38 095 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:06:38 095 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:06:38 096 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 097 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:06:38 097 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 097 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 098 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:06:38 098 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 099 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 099 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:06:38 099 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 100 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 100 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:06:38 100 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 101 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 102 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:06:38 103 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 103 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 103 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:06:38 104 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 104 [info]:  >> Connection 임대됨 [threaId=684]
23/04/18 19:06:38 105 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:06:38 105 [info]:  >> Connection 반납됨 [threaId=684]
23/04/18 19:06:38 106 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:06:38 106 [debug]: --------------------------------------------------
23/04/18 19:08:45 217 [debug]: --------------------------------------------------
23/04/18 19:08:45 219 [debug]: |              Start Express Server              |
23/04/18 19:08:45 219 [debug]: --------------------------------------------------
23/04/18 19:08:45 219 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:08:45 220 [debug]: --------------------------------------------------
23/04/18 19:08:47 827 [debug]: --------------------------------------------------
23/04/18 19:08:47 829 [debug]: |              Start Express Server              |
23/04/18 19:08:47 829 [debug]: --------------------------------------------------
23/04/18 19:08:47 830 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:08:47 830 [debug]: --------------------------------------------------
23/04/18 19:09:01 269 [debug]: --------------------------------------------------
23/04/18 19:09:01 271 [debug]: |              Start Express Server              |
23/04/18 19:09:01 272 [debug]: --------------------------------------------------
23/04/18 19:09:01 272 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:09:01 272 [debug]: --------------------------------------------------
23/04/18 19:11:32 358 [debug]: --------------------------------------------------
23/04/18 19:11:32 361 [debug]: |              Start Express Server              |
23/04/18 19:11:32 361 [debug]: --------------------------------------------------
23/04/18 19:11:32 362 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:11:32 362 [debug]: --------------------------------------------------
23/04/18 19:11:32 871 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:11:32 872 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:11:32 873 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:11:32 877 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:11:32 877 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:11:32 878 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:11:32 886 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:11:32 886 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:11:32 887 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:11:32 888 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:11:32 888 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:11:32 889 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:11:32 909 [info]:  >> DATABASE 접속됨 [threaId=691]
23/04/18 19:11:32 909 [info]:  >> Connection 임대됨 [threaId=691]
23/04/18 19:11:32 911 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:11:32 912 [info]:  >> DATABASE 접속됨 [threaId=690]
23/04/18 19:11:32 912 [info]:  >> Connection 임대됨 [threaId=690]
23/04/18 19:11:32 913 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:11:32 914 [info]:  >> DATABASE 접속됨 [threaId=692]
23/04/18 19:11:32 914 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 915 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:11:32 915 [info]:  >> DATABASE 접속됨 [threaId=693]
23/04/18 19:11:32 915 [info]:  >> Connection 임대됨 [threaId=693]
23/04/18 19:11:32 916 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:11:32 918 [info]:  >> Connection 반납됨 [threaId=691]
23/04/18 19:11:32 921 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 44ms
23/04/18 19:11:32 922 [debug]: --------------------------------------------------
23/04/18 19:11:32 923 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 923 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 924 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:11:32 925 [info]:  >> Connection 반납됨 [threaId=690]
23/04/18 19:11:32 925 [info]:  >> Connection 임대됨 [threaId=690]
23/04/18 19:11:32 925 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:11:32 927 [info]:  >> Connection 반납됨 [threaId=693]
23/04/18 19:11:32 927 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 19:11:32 928 [debug]: --------------------------------------------------
23/04/18 19:11:32 928 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 928 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 929 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:11:32 929 [info]:  >> Connection 반납됨 [threaId=690]
23/04/18 19:11:32 930 [info]:  >> Connection 임대됨 [threaId=690]
23/04/18 19:11:32 930 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:11:32 931 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 931 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 932 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:11:32 932 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 932 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 933 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:11:32 933 [info]:  >> Connection 반납됨 [threaId=690]
23/04/18 19:11:32 934 [info]:  >> Connection 임대됨 [threaId=690]
23/04/18 19:11:32 934 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:11:32 934 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 935 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 935 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:11:32 936 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 936 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 937 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:11:32 938 [info]:  >> Connection 반납됨 [threaId=690]
23/04/18 19:11:32 939 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 67ms
23/04/18 19:11:32 939 [debug]: --------------------------------------------------
23/04/18 19:11:32 940 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 941 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 55ms
23/04/18 19:11:32 941 [debug]: --------------------------------------------------
23/04/18 19:11:32 942 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:11:32 942 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:11:32 943 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:11:32 944 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 944 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:11:32 945 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 945 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 945 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:11:32 946 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 946 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 947 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:11:32 947 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 948 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 948 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:11:32 948 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 949 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 949 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:11:32 949 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 950 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 950 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:11:32 950 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 951 [info]:  >> Connection 임대됨 [threaId=692]
23/04/18 19:11:32 951 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:11:32 952 [info]:  >> Connection 반납됨 [threaId=692]
23/04/18 19:11:32 953 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:11:32 953 [debug]: --------------------------------------------------
23/04/18 19:12:02 665 [debug]: --------------------------------------------------
23/04/18 19:12:02 667 [debug]: |              Start Express Server              |
23/04/18 19:12:02 667 [debug]: --------------------------------------------------
23/04/18 19:12:02 668 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:12:02 668 [debug]: --------------------------------------------------
23/04/18 19:12:18 778 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:12:18 780 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:12:18 780 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:12:18 784 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:12:18 785 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:12:18 785 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:12:18 787 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:12:18 788 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:12:18 788 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:12:18 797 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:12:18 798 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:12:18 798 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:12:18 814 [info]:  >> DATABASE 접속됨 [threaId=696]
23/04/18 19:12:18 814 [info]:  >> Connection 임대됨 [threaId=696]
23/04/18 19:12:18 816 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:12:18 817 [info]:  >> DATABASE 접속됨 [threaId=697]
23/04/18 19:12:18 817 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 819 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:12:18 819 [info]:  >> DATABASE 접속됨 [threaId=695]
23/04/18 19:12:18 820 [info]:  >> Connection 임대됨 [threaId=695]
23/04/18 19:12:18 820 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:12:18 823 [info]:  >> Connection 반납됨 [threaId=696]
23/04/18 19:12:18 826 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 41ms
23/04/18 19:12:18 826 [debug]: --------------------------------------------------
23/04/18 19:12:18 827 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 828 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 829 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:12:18 830 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 830 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 831 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:12:18 831 [info]:  >> Connection 반납됨 [threaId=695]
23/04/18 19:12:18 831 [info]:  >> Connection 임대됨 [threaId=695]
23/04/18 19:12:18 832 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:12:18 832 [info]:  >> DATABASE 접속됨 [threaId=698]
23/04/18 19:12:18 833 [info]:  >> Connection 임대됨 [threaId=698]
23/04/18 19:12:18 833 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:12:18 834 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 834 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 834 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:12:18 835 [info]:  >> Connection 반납됨 [threaId=695]
23/04/18 19:12:18 835 [info]:  >> Connection 임대됨 [threaId=695]
23/04/18 19:12:18 835 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:12:18 836 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 836 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 836 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:12:18 837 [info]:  >> Connection 반납됨 [threaId=698]
23/04/18 19:12:18 838 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 40ms
23/04/18 19:12:18 838 [debug]: --------------------------------------------------
23/04/18 19:12:18 839 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 839 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 839 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:12:18 840 [info]:  >> Connection 반납됨 [threaId=695]
23/04/18 19:12:18 840 [info]:  >> Connection 임대됨 [threaId=695]
23/04/18 19:12:18 840 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:12:18 841 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 841 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 842 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:12:18 843 [info]:  >> Connection 반납됨 [threaId=695]
23/04/18 19:12:18 844 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 65ms
23/04/18 19:12:18 844 [debug]: --------------------------------------------------
23/04/18 19:12:18 845 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 845 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 58ms
23/04/18 19:12:18 846 [debug]: --------------------------------------------------
23/04/18 19:12:18 846 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:12:18 847 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:12:18 847 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:12:18 848 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 848 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:12:18 849 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 849 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 849 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:12:18 850 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 850 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 850 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:12:18 851 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 851 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 851 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:12:18 851 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 852 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 852 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:12:18 852 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 853 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 853 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:12:18 853 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 853 [info]:  >> Connection 임대됨 [threaId=697]
23/04/18 19:12:18 854 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:12:18 855 [info]:  >> Connection 반납됨 [threaId=697]
23/04/18 19:12:18 855 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:12:18 855 [debug]: --------------------------------------------------
23/04/18 19:12:30 366 [debug]: --------------------------------------------------
23/04/18 19:12:30 368 [debug]: |              Start Express Server              |
23/04/18 19:12:30 368 [debug]: --------------------------------------------------
23/04/18 19:12:30 368 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:12:30 369 [debug]: --------------------------------------------------
23/04/18 19:12:56 392 [debug]: --------------------------------------------------
23/04/18 19:12:56 394 [debug]: |              Start Express Server              |
23/04/18 19:12:56 394 [debug]: --------------------------------------------------
23/04/18 19:12:56 395 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:12:56 395 [debug]: --------------------------------------------------
23/04/18 19:13:29 914 [debug]: --------------------------------------------------
23/04/18 19:13:29 917 [debug]: |              Start Express Server              |
23/04/18 19:13:29 917 [debug]: --------------------------------------------------
23/04/18 19:13:29 917 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:13:29 918 [debug]: --------------------------------------------------
23/04/18 19:13:32 808 [debug]: --------------------------------------------------
23/04/18 19:13:32 810 [debug]: |              Start Express Server              |
23/04/18 19:13:32 811 [debug]: --------------------------------------------------
23/04/18 19:13:32 811 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:13:32 812 [debug]: --------------------------------------------------
23/04/18 19:13:36 615 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:36 617 [debug]: [GET] http://localhost:3001/book_authName/www.naver.com
23/04/18 19:13:36 617 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:36 621 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:36 622 [debug]: [GET] http://localhost:3001/book_Top5/www.naver.com
23/04/18 19:13:36 622 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:36 630 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:36 630 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=www.naver.com&odby=&point=
23/04/18 19:13:36 631 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:36 632 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:36 632 [debug]: [GET] http://localhost:3001/book_new5/www.naver.com
23/04/18 19:13:36 633 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:36 650 [info]:  >> DATABASE 접속됨 [threaId=703]
23/04/18 19:13:36 650 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:36 653 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = 'www.naver.com'
23/04/18 19:13:36 653 [info]:  >> DATABASE 접속됨 [threaId=704]
23/04/18 19:13:36 653 [info]:  >> Connection 임대됨 [threaId=704]
23/04/18 19:13:36 654 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = 'www.naver.com')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:13:36 656 [info]:  >> Connection 반납됨 [threaId=704]
23/04/18 19:13:36 660 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 38ms
23/04/18 19:13:36 660 [debug]: --------------------------------------------------
23/04/18 19:13:36 661 [info]:  >> DATABASE 접속됨 [threaId=705]
23/04/18 19:13:36 661 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 662 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', 'www.naver.com', '%')
23/04/18 19:13:36 663 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:36 663 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:36 664 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = 'www.naver.com') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = 'www.naver.com'
23/04/18 19:13:36 664 [info]:  >> DATABASE 접속됨 [threaId=706]
23/04/18 19:13:36 664 [info]:  >> Connection 임대됨 [threaId=706]
23/04/18 19:13:36 665 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = 'www.naver.com') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:13:36 665 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:36 666 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:36 666 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = 'www.naver.com')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = 'www.naver.com'
23/04/18 19:13:36 667 [info]:  >> Connection 반납됨 [threaId=706]
23/04/18 19:13:36 668 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 36ms
23/04/18 19:13:36 668 [debug]: --------------------------------------------------
23/04/18 19:13:36 668 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 669 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 669 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:13:36 670 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:36 670 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:36 670 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= 'www.naver.com'
23/04/18 19:13:36 671 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 671 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 672 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:13:36 673 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:36 674 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 58ms
23/04/18 19:13:36 674 [debug]: --------------------------------------------------
23/04/18 19:13:36 674 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 675 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 675 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:13:36 676 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 676 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 676 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:13:36 677 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 677 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 677 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:13:36 678 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 678 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 679 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', 'www.naver.com', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:13:36 680 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 681 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 51ms
23/04/18 19:13:36 681 [debug]: --------------------------------------------------
23/04/18 19:13:36 682 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:36 682 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=www.naver.com&odby=&point=
23/04/18 19:13:36 682 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:36 683 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 683 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', 'www.naver.com', '%')
23/04/18 19:13:36 684 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 684 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 685 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:13:36 685 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 685 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 686 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:13:36 686 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 686 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 687 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:13:36 687 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 688 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 688 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:13:36 689 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 689 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 689 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:13:36 690 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 690 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:36 690 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', 'www.naver.com', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:13:36 691 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:36 692 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:13:36 692 [debug]: --------------------------------------------------
23/04/18 19:13:49 319 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:49 320 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:13:49 320 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:49 321 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:49 322 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:13:49 325 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:49 325 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:13:49 326 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:49 326 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:49 327 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:49 327 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:13:49 328 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 329 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:13:49 329 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:49 329 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:49 330 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:13:49 331 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 332 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 19:13:49 332 [debug]: --------------------------------------------------
23/04/18 19:13:49 333 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:49 333 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:49 333 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:13:49 334 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:49 335 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:13:49 335 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:49 335 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:49 336 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:13:49 336 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:49 337 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 338 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:13:49 338 [info]:  >> Connection 임대됨 [threaId=706]
23/04/18 19:13:49 338 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:13:49 340 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:49 341 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:13:49 341 [debug]: --------------------------------------------------
23/04/18 19:13:49 342 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 342 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 343 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:13:49 343 [info]:  >> Connection 반납됨 [threaId=706]
23/04/18 19:13:49 344 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:13:49 344 [debug]: --------------------------------------------------
23/04/18 19:13:49 345 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 345 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 345 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:13:49 346 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 346 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 346 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:13:49 347 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 347 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 347 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:13:49 348 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 348 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 348 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:13:49 349 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 349 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 350 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:13:49 351 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 351 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 17ms
23/04/18 19:13:49 352 [debug]: --------------------------------------------------
23/04/18 19:13:49 353 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:49 353 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:13:49 353 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:49 355 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 356 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:13:49 356 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 356 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 357 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:13:49 357 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 357 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 358 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:13:49 358 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 358 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 359 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:13:49 359 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 359 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 360 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:13:49 360 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 360 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 361 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:13:49 361 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 361 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:49 362 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:13:49 363 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:49 364 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:13:49 364 [debug]: --------------------------------------------------
23/04/18 19:13:53 546 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:53 546 [debug]: [GET] http://localhost:3001/book_authName/www.naver.com
23/04/18 19:13:53 547 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:53 548 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:53 548 [debug]: [GET] http://localhost:3001/book_Top5/www.naver.com
23/04/18 19:13:53 548 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:53 549 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:53 549 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = 'www.naver.com'
23/04/18 19:13:53 550 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:53 550 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=www.naver.com&odby=&point=
23/04/18 19:13:53 551 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:53 552 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:53 552 [debug]: [GET] http://localhost:3001/book_new5/www.naver.com
23/04/18 19:13:53 552 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:53 554 [info]:  >> Connection 임대됨 [threaId=706]
23/04/18 19:13:53 555 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = 'www.naver.com')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:13:53 556 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 556 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', 'www.naver.com', '%')
23/04/18 19:13:53 557 [info]:  >> Connection 임대됨 [threaId=704]
23/04/18 19:13:53 557 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = 'www.naver.com') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:13:53 557 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:53 558 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:53 558 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = 'www.naver.com') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = 'www.naver.com'
23/04/18 19:13:53 559 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:53 559 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:53 559 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = 'www.naver.com')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = 'www.naver.com'
23/04/18 19:13:53 560 [info]:  >> Connection 반납됨 [threaId=706]
23/04/18 19:13:53 561 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 13ms
23/04/18 19:13:53 561 [debug]: --------------------------------------------------
23/04/18 19:13:53 562 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 562 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 562 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:13:53 563 [info]:  >> Connection 반납됨 [threaId=704]
23/04/18 19:13:53 563 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:13:53 564 [debug]: --------------------------------------------------
23/04/18 19:13:53 564 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:53 564 [info]:  >> Connection 임대됨 [threaId=703]
23/04/18 19:13:53 564 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= 'www.naver.com'
23/04/18 19:13:53 565 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 565 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 566 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:13:53 566 [info]:  >> Connection 반납됨 [threaId=703]
23/04/18 19:13:53 567 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:13:53 567 [debug]: --------------------------------------------------
23/04/18 19:13:53 567 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 567 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 568 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:13:53 568 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 568 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 569 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:13:53 569 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 570 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 570 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:13:53 570 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 571 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 571 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', 'www.naver.com', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:13:53 571 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 572 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 22ms
23/04/18 19:13:53 572 [debug]: --------------------------------------------------
23/04/18 19:13:53 573 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:13:53 573 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=www.naver.com&odby=&point=
23/04/18 19:13:53 574 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:13:53 575 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 575 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', 'www.naver.com', '%')
23/04/18 19:13:53 576 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 576 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 576 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:13:53 577 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 577 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 577 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:13:53 578 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 578 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 578 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:13:53 578 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 579 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 579 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:13:53 579 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 580 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 580 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '0', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:13:53 580 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 581 [info]:  >> Connection 임대됨 [threaId=705]
23/04/18 19:13:53 581 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', 'www.naver.com', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:13:53 582 [info]:  >> Connection 반납됨 [threaId=705]
23/04/18 19:13:53 582 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:13:53 582 [debug]: --------------------------------------------------
23/04/18 19:14:27 496 [debug]: --------------------------------------------------
23/04/18 19:14:27 499 [debug]: |              Start Express Server              |
23/04/18 19:14:27 500 [debug]: --------------------------------------------------
23/04/18 19:14:27 501 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:14:27 501 [debug]: --------------------------------------------------
23/04/18 19:14:27 725 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:14:27 726 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:14:27 727 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:14:27 732 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:14:27 733 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:14:27 734 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:14:27 744 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:14:27 745 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:14:27 745 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:14:27 746 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:14:27 747 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:14:27 747 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:14:27 766 [info]:  >> DATABASE 접속됨 [threaId=709]
23/04/18 19:14:27 767 [info]:  >> Connection 임대됨 [threaId=709]
23/04/18 19:14:27 769 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:14:27 770 [info]:  >> DATABASE 접속됨 [threaId=708]
23/04/18 19:14:27 771 [info]:  >> Connection 임대됨 [threaId=708]
23/04/18 19:14:27 772 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:14:27 775 [info]:  >> Connection 반납됨 [threaId=709]
23/04/18 19:14:27 779 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 46ms
23/04/18 19:14:27 779 [debug]: --------------------------------------------------
23/04/18 19:14:27 780 [info]:  >> DATABASE 접속됨 [threaId=710]
23/04/18 19:14:27 780 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 781 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:14:27 782 [info]:  >> Connection 반납됨 [threaId=708]
23/04/18 19:14:27 783 [info]:  >> Connection 임대됨 [threaId=708]
23/04/18 19:14:27 783 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:14:27 784 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 785 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 786 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:14:27 786 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 787 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 787 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:14:27 787 [info]:  >> DATABASE 접속됨 [threaId=711]
23/04/18 19:14:27 788 [info]:  >> Connection 임대됨 [threaId=711]
23/04/18 19:14:27 788 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:14:27 789 [info]:  >> Connection 반납됨 [threaId=708]
23/04/18 19:14:27 790 [info]:  >> Connection 임대됨 [threaId=708]
23/04/18 19:14:27 790 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:14:27 791 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 791 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 792 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:14:27 793 [info]:  >> Connection 반납됨 [threaId=711]
23/04/18 19:14:27 793 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 46ms
23/04/18 19:14:27 794 [debug]: --------------------------------------------------
23/04/18 19:14:27 794 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 794 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 795 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:14:27 795 [info]:  >> Connection 반납됨 [threaId=708]
23/04/18 19:14:27 796 [info]:  >> Connection 임대됨 [threaId=708]
23/04/18 19:14:27 796 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:14:27 799 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 800 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 801 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:14:27 802 [info]:  >> Connection 반납됨 [threaId=708]
23/04/18 19:14:27 803 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 77ms
23/04/18 19:14:27 805 [debug]: --------------------------------------------------
23/04/18 19:14:27 806 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 807 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 808 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:14:27 809 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 810 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 65ms
23/04/18 19:14:27 810 [debug]: --------------------------------------------------
23/04/18 19:14:27 816 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:14:27 821 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:14:27 821 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:14:27 823 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 824 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:14:27 824 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 825 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 825 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:14:27 826 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 826 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 827 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:14:27 828 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 828 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 829 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:14:27 829 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 829 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 830 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:14:27 830 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 833 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 837 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:14:27 840 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 841 [info]:  >> Connection 임대됨 [threaId=710]
23/04/18 19:14:27 842 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:14:27 844 [info]:  >> Connection 반납됨 [threaId=710]
23/04/18 19:14:27 844 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 24ms
23/04/18 19:14:27 845 [debug]: --------------------------------------------------
23/04/18 19:15:45 543 [debug]: --------------------------------------------------
23/04/18 19:15:45 545 [debug]: |              Start Express Server              |
23/04/18 19:15:45 546 [debug]: --------------------------------------------------
23/04/18 19:15:45 546 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:15:45 547 [debug]: --------------------------------------------------
23/04/18 19:16:10 151 [debug]: --------------------------------------------------
23/04/18 19:16:10 153 [debug]: |              Start Express Server              |
23/04/18 19:16:10 153 [debug]: --------------------------------------------------
23/04/18 19:16:10 154 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:16:10 154 [debug]: --------------------------------------------------
23/04/18 19:16:23 985 [debug]: --------------------------------------------------
23/04/18 19:16:23 988 [debug]: |              Start Express Server              |
23/04/18 19:16:23 988 [debug]: --------------------------------------------------
23/04/18 19:16:23 989 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:16:23 989 [debug]: --------------------------------------------------
23/04/18 19:16:37 599 [debug]: --------------------------------------------------
23/04/18 19:16:37 601 [debug]: |              Start Express Server              |
23/04/18 19:16:37 602 [debug]: --------------------------------------------------
23/04/18 19:16:37 602 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:16:37 602 [debug]: --------------------------------------------------
23/04/18 19:17:10 085 [debug]: --------------------------------------------------
23/04/18 19:17:10 087 [debug]: |              Start Express Server              |
23/04/18 19:17:10 088 [debug]: --------------------------------------------------
23/04/18 19:17:10 088 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:17:10 088 [debug]: --------------------------------------------------
23/04/18 19:24:08 736 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:24:08 738 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 19:24:08 738 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:24:08 757 [info]:  >> DATABASE 접속됨 [threaId=717]
23/04/18 19:24:08 758 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:08 760 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:24:08 763 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:08 763 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:08 764 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:24:08 765 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:08 765 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:08 766 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:24:08 767 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:08 767 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:08 768 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:24:08 768 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:08 769 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:08 769 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:24:08 770 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:08 770 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:08 770 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:24:08 771 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:08 771 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:08 772 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 19:24:08 773 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:08 776 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 19:24:08 776 [debug]: --------------------------------------------------
23/04/18 19:24:09 780 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:24:09 781 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 19:24:09 781 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:24:09 782 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:09 783 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:24:09 783 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:09 784 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:09 784 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:24:09 785 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:09 785 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:09 785 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:24:09 786 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:09 786 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:09 787 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:24:09 787 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:09 787 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:09 788 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:24:09 788 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:09 788 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:09 789 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:24:09 789 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:09 790 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:09 790 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 19:24:09 791 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:09 791 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:24:09 792 [debug]: --------------------------------------------------
23/04/18 19:24:11 023 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:24:11 024 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:24:11 024 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:24:11 025 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:11 025 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:24:11 026 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:11 026 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:11 026 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:24:11 027 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:11 027 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:11 027 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:24:11 028 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:11 028 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:11 028 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:24:11 029 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:11 029 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:11 029 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:24:11 030 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:11 030 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:11 030 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:24:11 030 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:11 031 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:24:11 031 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:24:11 032 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:24:11 032 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:24:11 032 [debug]: --------------------------------------------------
23/04/18 19:46:31 037 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:31 037 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:46:31 037 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:31 039 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:31 039 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:31 040 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:31 040 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:46:31 041 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:31 041 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:31 041 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:46:31 042 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:31 043 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:31 043 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:46:31 043 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:31 048 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:31 048 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:31 049 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:31 050 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:31 051 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:31 051 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:31 052 [info]:  >> DATABASE 접속됨 [threaId=719]
23/04/18 19:46:31 052 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:31 052 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:46:31 053 [info]:  >> DATABASE 접속됨 [threaId=721]
23/04/18 19:46:31 053 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:31 054 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:46:31 054 [info]:  >> DATABASE 접속됨 [threaId=720]
23/04/18 19:46:31 054 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:31 055 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:31 056 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:31 056 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 16ms
23/04/18 19:46:31 056 [debug]: --------------------------------------------------
23/04/18 19:46:31 057 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:31 057 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:31 057 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:46:31 058 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:31 058 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:31 059 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:31 060 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:31 061 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 24ms
23/04/18 19:46:31 061 [debug]: --------------------------------------------------
23/04/18 19:46:31 062 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:31 062 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 19:46:31 062 [debug]: --------------------------------------------------
23/04/18 19:46:31 063 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:31 063 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:31 063 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:31 064 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:31 064 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:31 064 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:31 065 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:31 065 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:31 066 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:31 067 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:31 067 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:31 067 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:31 068 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:31 068 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:31 068 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:31 069 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:31 070 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 29ms
23/04/18 19:46:31 070 [debug]: --------------------------------------------------
23/04/18 19:46:33 654 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:33 655 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:46:33 655 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:33 656 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:33 656 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:46:33 656 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:33 657 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:33 657 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:46:33 658 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:33 658 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:33 659 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:46:33 659 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:33 660 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:33 660 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:33 661 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:33 661 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:46:33 661 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:33 662 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:33 663 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:33 663 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:46:33 663 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:33 664 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:46:33 664 [debug]: --------------------------------------------------
23/04/18 19:46:33 665 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:33 665 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:33 665 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:33 666 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:33 666 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:33 667 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:33 667 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:33 667 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:33 668 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:33 668 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:33 669 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:46:33 669 [debug]: --------------------------------------------------
23/04/18 19:46:33 670 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:33 670 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:33 670 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:33 671 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:33 671 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:33 672 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:33 672 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:33 672 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:33 672 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:33 673 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:33 673 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:33 673 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:46:33 674 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:33 674 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:33 674 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:33 675 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:33 675 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:33 675 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:33 676 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:33 677 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 22ms
23/04/18 19:46:33 677 [debug]: --------------------------------------------------
23/04/18 19:46:33 677 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:33 678 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:46:33 679 [debug]: --------------------------------------------------
23/04/18 19:46:34 048 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:34 049 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:46:34 049 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:34 050 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:34 050 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:46:34 050 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:34 051 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:34 051 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:46:34 052 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:34 053 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:34 053 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:46:34 054 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:34 054 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:34 054 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:34 055 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:34 055 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:46:34 056 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:34 056 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:34 057 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:34 057 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:46:34 057 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:34 058 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:46:34 058 [debug]: --------------------------------------------------
23/04/18 19:46:34 059 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:34 059 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:34 059 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:34 060 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:34 060 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:34 061 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:34 061 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:34 062 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:46:34 062 [debug]: --------------------------------------------------
23/04/18 19:46:34 063 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:34 063 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:34 064 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:34 065 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:34 065 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:34 066 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:34 066 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:34 067 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:34 067 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:34 067 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:34 068 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:34 068 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:34 069 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:34 069 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:34 069 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:46:34 070 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:34 070 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:34 071 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:34 071 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:34 072 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 23ms
23/04/18 19:46:34 072 [debug]: --------------------------------------------------
23/04/18 19:46:34 073 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:34 073 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:34 074 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:34 074 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:34 075 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 24ms
23/04/18 19:46:34 076 [debug]: --------------------------------------------------
23/04/18 19:46:35 947 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:35 948 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:46:35 948 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:35 949 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:35 949 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:46:35 949 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:35 950 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:35 950 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:46:35 950 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:35 951 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:35 951 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:46:35 951 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:35 952 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:35 953 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:35 953 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:35 954 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:46:35 954 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:35 955 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:35 955 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:35 956 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:46:35 956 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:35 957 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:46:35 957 [debug]: --------------------------------------------------
23/04/18 19:46:35 958 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:35 958 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:35 958 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:35 959 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:35 959 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:35 960 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:35 960 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:35 960 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:35 961 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:35 961 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:35 962 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:46:35 962 [debug]: --------------------------------------------------
23/04/18 19:46:35 962 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:35 963 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:35 963 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:35 964 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:35 964 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:35 964 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:35 964 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:35 965 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:35 965 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:35 965 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:35 965 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:35 966 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:46:35 966 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:35 966 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:35 967 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:35 968 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:35 968 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 19:46:35 969 [debug]: --------------------------------------------------
23/04/18 19:46:35 969 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:35 969 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:35 970 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:35 970 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:35 971 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:46:35 971 [debug]: --------------------------------------------------
23/04/18 19:46:36 292 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:36 292 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:46:36 292 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:36 293 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:36 293 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:46:36 293 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:36 294 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:36 294 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:46:36 294 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:36 295 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:36 295 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:46:36 295 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:36 297 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:36 297 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:36 298 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:36 298 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:46:36 299 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:36 299 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:36 299 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:36 300 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:46:36 300 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:36 301 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:46:36 301 [debug]: --------------------------------------------------
23/04/18 19:46:36 302 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:36 302 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:36 303 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:36 303 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:36 304 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:36 304 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:36 304 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:36 305 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:46:36 305 [debug]: --------------------------------------------------
23/04/18 19:46:36 305 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:36 306 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:36 306 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:36 307 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:36 307 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:36 307 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:36 308 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:36 308 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:36 308 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:36 309 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:36 309 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:36 309 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:36 310 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:36 310 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:36 310 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:46:36 311 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:36 311 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:36 311 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:36 311 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:36 312 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:36 312 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:36 312 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:36 313 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:46:36 313 [debug]: --------------------------------------------------
23/04/18 19:46:36 314 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:36 314 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 19:46:36 314 [debug]: --------------------------------------------------
23/04/18 19:46:37 920 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:37 921 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:46:37 921 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:37 922 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:37 922 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:46:37 922 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:37 923 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:37 923 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:46:37 923 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:37 924 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:37 924 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:46:37 924 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:37 925 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:37 925 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:37 925 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:37 926 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:46:37 927 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:37 927 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:37 927 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:37 928 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:46:37 928 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:37 929 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 19:46:37 929 [debug]: --------------------------------------------------
23/04/18 19:46:37 929 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:37 929 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:37 930 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:37 930 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:37 930 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:37 931 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:37 931 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:37 931 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 19:46:37 932 [debug]: --------------------------------------------------
23/04/18 19:46:37 932 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:37 932 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:37 933 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:37 933 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:37 933 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:37 933 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:46:37 934 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:37 934 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:37 935 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:37 935 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:37 935 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:37 936 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:37 936 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:37 936 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:37 937 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:46:37 937 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:37 937 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:37 937 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:37 938 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:37 938 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 17ms
23/04/18 19:46:37 939 [debug]: --------------------------------------------------
23/04/18 19:46:37 939 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:37 939 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:37 940 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:37 940 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:37 941 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 19:46:37 941 [debug]: --------------------------------------------------
23/04/18 19:46:49 637 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:49 637 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 19:46:49 638 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:49 638 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:49 639 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:49 639 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:49 639 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:49 640 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:49 640 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:49 640 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:49 641 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:49 641 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:49 641 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:49 642 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:49 642 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:49 642 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:49 642 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:49 643 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:49 643 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:49 643 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:49 643 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:49 644 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:49 644 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 19:46:49 645 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:49 645 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:46:49 645 [debug]: --------------------------------------------------
23/04/18 19:46:50 523 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:50 523 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 19:46:50 523 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:50 524 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:50 525 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:50 525 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:50 525 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:50 526 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:50 526 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:50 526 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:50 526 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:50 527 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:50 527 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:50 527 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:50 527 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:50 528 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:50 528 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:50 528 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:50 528 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:50 529 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:50 529 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:50 529 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:50 530 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 19:46:50 530 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:50 531 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:46:50 531 [debug]: --------------------------------------------------
23/04/18 19:46:51 427 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:51 427 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:46:51 427 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:51 428 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:51 429 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:46:51 429 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:51 429 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:51 430 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:51 430 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:51 430 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:51 430 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:51 431 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:51 431 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:51 432 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:51 432 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:51 432 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:51 433 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:51 433 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:51 433 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:51 433 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:51 434 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:51 434 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:51 434 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:51 435 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:51 436 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:46:51 436 [debug]: --------------------------------------------------
23/04/18 19:46:56 337 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:56 337 [debug]: [GET] http://localhost:3001/book_authName/18
23/04/18 19:46:56 338 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:56 340 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:56 340 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 19:46:56 341 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:56 341 [debug]: [GET] http://localhost:3001/book_Top5/18
23/04/18 19:46:56 341 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:56 342 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:56 343 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=18&odby=&point=
23/04/18 19:46:56 343 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:56 343 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:56 344 [debug]: [GET] http://localhost:3001/book_new5/18
23/04/18 19:46:56 344 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:56 345 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:56 346 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '18')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:46:56 346 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:56 347 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')
23/04/18 19:46:56 347 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:56 347 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:56 348 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '18') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 19:46:56 348 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:56 349 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '18') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:46:56 350 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:56 351 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:46:56 351 [debug]: --------------------------------------------------
23/04/18 19:46:56 351 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:56 351 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:56 352 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:56 352 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:56 352 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:56 353 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:56 353 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:56 353 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:56 354 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '18')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 19:46:56 354 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:56 355 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:46:56 355 [debug]: --------------------------------------------------
23/04/18 19:46:56 355 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:56 356 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:56 356 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:56 357 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:56 357 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:56 357 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '18'
23/04/18 19:46:56 358 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:56 358 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:56 358 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:56 359 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:56 359 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:56 359 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:56 360 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:56 360 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 23ms
23/04/18 19:46:56 360 [debug]: --------------------------------------------------
23/04/18 19:46:56 361 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:56 361 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:56 361 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '18', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:56 362 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:56 362 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 19:46:56 363 [debug]: --------------------------------------------------
23/04/18 19:46:57 563 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:57 564 [debug]: [GET] http://localhost:3001/book_authName/17
23/04/18 19:46:57 564 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:57 565 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:57 565 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=17&odby=&point=
23/04/18 19:46:57 566 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:57 566 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:57 566 [debug]: [GET] http://localhost:3001/book_Top5/17
23/04/18 19:46:57 567 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:57 567 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:46:57 567 [debug]: [GET] http://localhost:3001/book_new5/17
23/04/18 19:46:57 568 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:46:57 569 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:57 569 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '17'
23/04/18 19:46:57 570 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:57 570 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')
23/04/18 19:46:57 570 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:46:57 571 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '17')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:46:57 571 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:46:57 572 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '17') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:46:57 572 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:57 572 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:57 573 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:46:57 573 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:57 573 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:57 574 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '17') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '17'
23/04/18 19:46:57 574 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:46:57 575 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:46:57 575 [debug]: --------------------------------------------------
23/04/18 19:46:57 575 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:57 575 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:57 576 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:46:57 576 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:46:57 576 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:46:57 577 [debug]: --------------------------------------------------
23/04/18 19:46:57 577 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:57 577 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:57 577 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '17')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '17'
23/04/18 19:46:57 578 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:57 578 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:57 579 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:46:57 579 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:57 579 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:57 580 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:46:57 580 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:57 580 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:46:57 581 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '17'
23/04/18 19:46:57 581 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:57 582 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:57 582 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:46:57 582 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:57 582 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:46:57 583 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '17', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:46:57 583 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:46:57 584 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 19:46:57 584 [debug]: --------------------------------------------------
23/04/18 19:46:57 585 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:46:57 585 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 19:46:57 585 [debug]: --------------------------------------------------
23/04/18 19:47:02 545 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:02 546 [debug]: [GET] http://localhost:3001/book_authName/423
23/04/18 19:47:02 546 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:02 547 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:02 547 [debug]: [GET] http://localhost:3001/book_Top5/423
23/04/18 19:47:02 547 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:02 549 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:02 549 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=423&odby=&point=
23/04/18 19:47:02 549 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:02 550 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:02 550 [debug]: [GET] http://localhost:3001/book_new5/423
23/04/18 19:47:02 550 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:02 551 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:02 551 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '423'
23/04/18 19:47:02 553 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:02 553 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '423')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:47:02 553 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 554 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')
23/04/18 19:47:02 554 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:02 554 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '423') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:47:02 555 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:02 556 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:02 556 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '423') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '423'
23/04/18 19:47:02 557 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:02 557 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:47:02 557 [debug]: --------------------------------------------------
23/04/18 19:47:02 558 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 558 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 559 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:47:02 559 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 560 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 560 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:47:02 560 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:02 561 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:02 561 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '423')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '423'
23/04/18 19:47:02 561 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:02 562 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 12ms
23/04/18 19:47:02 562 [debug]: --------------------------------------------------
23/04/18 19:47:02 562 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 563 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 563 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:47:02 564 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:02 564 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:02 564 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '423'
23/04/18 19:47:02 565 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 565 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 565 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:47:02 566 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 566 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 566 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:47:02 567 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:02 567 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:47:02 568 [debug]: --------------------------------------------------
23/04/18 19:47:02 568 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 568 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 568 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '423', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:47:02 569 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 569 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 19:47:02 569 [debug]: --------------------------------------------------
23/04/18 19:47:02 570 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:02 570 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=423&odby=&point=
23/04/18 19:47:02 571 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:02 571 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 572 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')
23/04/18 19:47:02 572 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 572 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 573 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:47:02 573 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 573 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 574 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:47:02 574 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 574 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 575 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:47:02 575 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 575 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 575 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:47:02 576 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 576 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 576 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '423', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:47:02 577 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 577 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:02 577 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '423', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:47:02 578 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:02 579 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:47:02 579 [debug]: --------------------------------------------------
23/04/18 19:47:10 714 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:10 714 [debug]: [GET] http://localhost:3001/book_authName/333
23/04/18 19:47:10 715 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:10 716 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:10 716 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '333'
23/04/18 19:47:10 717 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:10 717 [debug]: [GET] http://localhost:3001/book_Top5/333
23/04/18 19:47:10 717 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:10 718 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:10 718 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=333&odby=&point=
23/04/18 19:47:10 719 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:10 719 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:10 719 [debug]: [GET] http://localhost:3001/book_new5/333
23/04/18 19:47:10 720 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:10 721 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:10 721 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '333')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:47:10 722 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 722 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')
23/04/18 19:47:10 723 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:10 723 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:10 723 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '333') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '333'
23/04/18 19:47:10 724 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:10 725 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '333') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:47:10 725 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:10 726 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:47:10 726 [debug]: --------------------------------------------------
23/04/18 19:47:10 727 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 727 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 727 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:47:10 728 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 728 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 728 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:47:10 729 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:10 729 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:10 729 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '333')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '333'
23/04/18 19:47:10 730 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:10 730 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:47:10 730 [debug]: --------------------------------------------------
23/04/18 19:47:10 731 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 731 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 731 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:47:10 732 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:10 732 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:10 732 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '333'
23/04/18 19:47:10 733 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 733 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 733 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:47:10 734 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 734 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 734 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:47:10 735 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:10 736 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 22ms
23/04/18 19:47:10 736 [debug]: --------------------------------------------------
23/04/18 19:47:10 736 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 736 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 737 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '333', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:47:10 737 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 738 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 19:47:10 738 [debug]: --------------------------------------------------
23/04/18 19:47:10 739 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:10 739 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=333&odby=&point=
23/04/18 19:47:10 739 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:10 740 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 741 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')
23/04/18 19:47:10 741 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 741 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 741 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:47:10 742 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 742 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 742 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:47:10 742 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 743 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 743 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:47:10 743 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 743 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 744 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:47:10 744 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 744 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 745 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '333', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:47:10 745 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 745 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:10 746 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '333', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:47:10 746 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:10 747 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:47:10 747 [debug]: --------------------------------------------------
23/04/18 19:47:16 121 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:16 122 [debug]: [GET] http://localhost:3001/book_authName/145
23/04/18 19:47:16 122 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:16 123 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:16 124 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '145'
23/04/18 19:47:16 125 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:16 125 [debug]: [GET] http://localhost:3001/book_Top5/145
23/04/18 19:47:16 125 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:16 126 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:16 127 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=145&odby=&point=
23/04/18 19:47:16 127 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:16 128 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:16 128 [debug]: [GET] http://localhost:3001/book_new5/145
23/04/18 19:47:16 128 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:16 129 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:47:16 130 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '145')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:47:16 130 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 131 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')
23/04/18 19:47:16 131 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:16 132 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '145') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:47:16 132 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:16 132 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:16 133 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '145') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '145'
23/04/18 19:47:16 134 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 134 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 134 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:47:16 135 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:47:16 136 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:47:16 136 [debug]: --------------------------------------------------
23/04/18 19:47:16 136 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 137 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 137 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:47:16 138 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:16 138 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:16 138 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '145')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '145'
23/04/18 19:47:16 139 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 139 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 139 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:47:16 140 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 140 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 140 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:47:16 140 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:16 141 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:16 141 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '145'
23/04/18 19:47:16 142 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:16 142 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 14ms
23/04/18 19:47:16 143 [debug]: --------------------------------------------------
23/04/18 19:47:16 143 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 144 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 144 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:47:16 144 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:16 145 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 24ms
23/04/18 19:47:16 145 [debug]: --------------------------------------------------
23/04/18 19:47:16 146 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 146 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 146 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '145', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:47:16 147 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 147 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:47:16 147 [debug]: --------------------------------------------------
23/04/18 19:47:16 148 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:16 148 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=145&odby=&point=
23/04/18 19:47:16 149 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:16 149 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 150 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')
23/04/18 19:47:16 150 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 150 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 151 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:47:16 151 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 151 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 152 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:47:16 152 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 152 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 153 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:47:16 153 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 153 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 154 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:47:16 154 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 154 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 155 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '145', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:47:16 155 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 155 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:16 155 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '145', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:47:16 156 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:16 156 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:47:16 157 [debug]: --------------------------------------------------
23/04/18 19:47:55 822 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:55 822 [debug]: [GET] http://localhost:3001/book_authName/136
23/04/18 19:47:55 823 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:55 823 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:55 824 [debug]: [GET] http://localhost:3001/book_Top5/136
23/04/18 19:47:55 824 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:55 825 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:55 826 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '136'
23/04/18 19:47:55 826 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:55 827 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '136')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:47:55 828 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:55 828 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=136&odby=&point=
23/04/18 19:47:55 828 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:55 829 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:47:55 829 [debug]: [GET] http://localhost:3001/book_new5/136
23/04/18 19:47:55 830 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:47:55 830 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:55 831 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '136', '%')
23/04/18 19:47:55 831 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:55 832 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:47:55 832 [debug]: --------------------------------------------------
23/04/18 19:47:55 832 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:55 833 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:55 833 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '136') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '136'
23/04/18 19:47:55 834 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:47:55 834 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '136') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:47:55 835 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:55 835 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:55 836 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '136', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:47:55 836 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:55 836 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:55 837 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '136', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:47:55 837 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:55 837 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:55 838 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '136')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '136'
23/04/18 19:47:55 838 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:47:55 839 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:47:55 839 [debug]: --------------------------------------------------
23/04/18 19:47:55 839 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:55 840 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:55 840 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '136', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:47:55 840 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:55 841 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:47:55 841 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '136'
23/04/18 19:47:55 842 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:55 842 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:55 842 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '136', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:47:55 843 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:47:55 843 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:47:55 844 [debug]: --------------------------------------------------
23/04/18 19:47:55 844 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:55 844 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:55 845 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '136', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:47:55 845 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:55 845 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:47:55 846 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '136', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:47:55 846 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:47:55 847 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 19:47:55 847 [debug]: --------------------------------------------------
23/04/18 19:49:25 293 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:25 293 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:49:25 294 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:25 295 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:49:25 295 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:49:25 295 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:25 296 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:49:25 296 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:25 296 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:25 297 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:49:25 297 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:25 298 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:49:25 298 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:49:25 299 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 299 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:25 300 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:25 301 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:49:25 301 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:25 302 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:49:25 302 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:49:25 302 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:49:25 303 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:49:25 303 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:49:25 304 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:49:25 305 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:49:25 305 [debug]: --------------------------------------------------
23/04/18 19:49:25 305 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 305 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 306 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:25 306 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 306 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 307 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:25 307 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:49:25 307 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:49:25 308 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:49:25 308 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:49:25 309 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:25 310 [debug]: --------------------------------------------------
23/04/18 19:49:25 310 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 310 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 311 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:25 311 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:49:25 311 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:49:25 312 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:49:25 312 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 313 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 313 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:25 313 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 314 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 314 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:25 315 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:49:25 315 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 22ms
23/04/18 19:49:25 315 [debug]: --------------------------------------------------
23/04/18 19:49:25 316 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 316 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 316 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:49:25 317 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 318 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:49:25 318 [debug]: --------------------------------------------------
23/04/18 19:49:25 319 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:25 319 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:49:25 319 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:25 320 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 321 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:25 321 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 321 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 322 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:25 322 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 322 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 323 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:25 323 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 323 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 323 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:25 324 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 324 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 324 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:25 325 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 325 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 325 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:25 326 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 326 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:25 326 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:49:25 327 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:25 327 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:25 328 [debug]: --------------------------------------------------
23/04/18 19:49:29 452 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:29 452 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 19:49:29 452 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:29 453 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:29 454 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:29 454 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:29 454 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:29 455 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:29 455 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:29 455 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:29 456 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:29 456 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:29 456 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:29 457 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:29 458 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:29 458 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:29 458 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:29 458 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:29 459 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:29 459 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:29 459 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:29 460 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:29 460 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 19:49:29 461 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:29 461 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:49:29 461 [debug]: --------------------------------------------------
23/04/18 19:49:30 556 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:30 557 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 19:49:30 557 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:30 557 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:30 558 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:30 558 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:30 558 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:30 559 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:30 559 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:30 559 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:30 560 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:30 560 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:30 560 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:30 560 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:30 561 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:30 561 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:30 561 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:30 561 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:30 562 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:30 562 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:30 562 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:30 562 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:30 563 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 19:49:30 563 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:30 564 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:30 564 [debug]: --------------------------------------------------
23/04/18 19:49:31 449 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:31 450 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 19:49:31 450 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:31 451 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:31 452 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:31 452 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:31 452 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:31 453 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:31 453 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:31 453 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:31 453 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:31 454 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:31 454 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:31 454 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:31 455 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:31 455 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:31 455 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:31 455 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:31 456 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:31 456 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:31 456 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:31 456 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:31 457 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 19:49:31 457 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:31 458 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:31 458 [debug]: --------------------------------------------------
23/04/18 19:49:32 162 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:32 163 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:49:32 163 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:32 164 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:32 164 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:32 165 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:32 165 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:32 165 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:32 165 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:32 166 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:32 166 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:32 166 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:32 167 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:32 167 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:32 168 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:32 168 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:32 168 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:32 169 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:32 169 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:32 169 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:32 169 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:32 170 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:32 170 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:49:32 170 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:32 171 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:32 171 [debug]: --------------------------------------------------
23/04/18 19:49:33 611 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:33 612 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 19:49:33 612 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:33 613 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:33 613 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:33 614 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:33 614 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:33 614 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:33 615 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:33 615 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:33 615 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:33 616 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:33 616 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:33 616 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:33 616 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:33 616 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:33 617 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:33 617 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:33 617 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:33 618 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:33 618 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:33 618 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:33 619 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 19:49:33 619 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:33 620 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:33 620 [debug]: --------------------------------------------------
23/04/18 19:49:34 386 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:34 386 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 19:49:34 387 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:34 388 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:34 389 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:34 389 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:34 389 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:34 390 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:34 390 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:34 391 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:34 391 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:34 391 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:34 392 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:34 392 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:34 393 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:34 393 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:34 393 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:34 394 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:34 394 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:34 394 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:34 395 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:34 395 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:34 396 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 19:49:34 396 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:34 397 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 19:49:34 397 [debug]: --------------------------------------------------
23/04/18 19:49:35 320 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:35 321 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:49:35 321 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:35 322 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:35 322 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:35 322 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:35 323 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:35 323 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:35 323 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:35 324 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:35 324 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:35 324 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:35 324 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:35 325 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:35 325 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:35 325 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:35 326 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:35 326 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:35 326 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:35 326 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:35 327 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:35 327 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:35 327 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:49:35 328 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:35 329 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:35 329 [debug]: --------------------------------------------------
23/04/18 19:49:36 006 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:36 006 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 19:49:36 006 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:36 007 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 008 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:36 008 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 008 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 008 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:36 009 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 009 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 009 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:36 010 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 010 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 010 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:36 011 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 011 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 011 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:36 012 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 012 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 012 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:36 012 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 013 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 013 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 19:49:36 013 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 014 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:36 014 [debug]: --------------------------------------------------
23/04/18 19:49:36 739 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:36 740 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 19:49:36 740 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:36 741 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 741 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:36 742 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 742 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 742 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:36 743 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 743 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 743 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:36 744 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 744 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 744 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:36 745 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 745 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 746 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:36 746 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 746 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 746 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:36 747 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 747 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:36 747 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 19:49:36 748 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:36 748 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:36 749 [debug]: --------------------------------------------------
23/04/18 19:49:37 774 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:49:37 774 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:49:37 775 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:49:37 775 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:37 776 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:49:37 776 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:37 776 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:37 777 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:49:37 777 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:37 777 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:37 778 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:49:37 778 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:37 778 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:37 779 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:49:37 779 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:37 779 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:37 780 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:49:37 780 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:37 780 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:37 780 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:49:37 781 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:37 781 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:49:37 781 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:49:37 782 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:49:37 782 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:49:37 782 [debug]: --------------------------------------------------
23/04/18 19:51:49 444 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:49 445 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:51:49 445 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:49 446 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:49 446 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:51:49 446 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:49 447 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:49 448 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:51:49 448 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:49 448 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:49 449 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:51:49 449 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:49 450 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:51:49 451 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:51:49 451 [info]:  >> Connection 임대됨 [threaId=717]
23/04/18 19:51:49 452 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:51:49 452 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:49 453 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:51:49 453 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:49 454 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:51:49 454 [info]:  >> Connection 반납됨 [threaId=717]
23/04/18 19:51:49 455 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:51:49 455 [debug]: --------------------------------------------------
23/04/18 19:51:49 455 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:51:49 455 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:51:49 456 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:51:49 457 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:49 457 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:49 457 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:51:49 458 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:49 458 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:49 458 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:51:49 459 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:49 459 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 19:51:49 459 [debug]: --------------------------------------------------
23/04/18 19:51:49 460 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:51:49 460 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:51:49 461 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:51:49 461 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:49 461 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:49 462 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:51:49 462 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:49 462 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:49 463 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:51:49 463 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:51:49 463 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:51:49 464 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:51:49 465 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:49 465 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:49 466 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:51:49 466 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:51:49 467 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:51:49 467 [debug]: --------------------------------------------------
23/04/18 19:51:49 467 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:49 467 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:49 468 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:51:49 468 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:49 468 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:51:49 469 [debug]: --------------------------------------------------
23/04/18 19:51:58 687 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:58 687 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:51:58 687 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:58 688 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:58 688 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:51:58 688 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:58 689 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:58 690 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:51:58 690 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:51:58 690 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:51:58 691 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:58 691 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:51:58 692 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:58 692 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:58 692 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:51:58 693 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:58 693 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 694 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:51:58 694 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:51:58 694 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 6ms
23/04/18 19:51:58 695 [debug]: --------------------------------------------------
23/04/18 19:51:58 695 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:58 695 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:58 695 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:51:58 697 [info]:  >> Connection 임대됨 [threaId=721]
23/04/18 19:51:58 697 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:51:58 697 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 698 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 698 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:51:58 698 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 698 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 699 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:51:58 699 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:58 699 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:58 700 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:51:58 701 [info]:  >> Connection 반납됨 [threaId=721]
23/04/18 19:51:58 701 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:51:58 702 [debug]: --------------------------------------------------
23/04/18 19:51:58 702 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 702 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 702 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:51:58 703 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:58 703 [info]:  >> Connection 임대됨 [threaId=720]
23/04/18 19:51:58 703 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:51:58 704 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 704 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 704 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:51:58 705 [info]:  >> Connection 반납됨 [threaId=720]
23/04/18 19:51:58 705 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 19:51:58 706 [debug]: --------------------------------------------------
23/04/18 19:51:58 706 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 706 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 707 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:51:58 707 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 707 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 708 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:51:58 708 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 709 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 19:51:58 709 [debug]: --------------------------------------------------
23/04/18 19:51:58 710 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:51:58 710 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:51:58 710 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:51:58 711 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 711 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:51:58 712 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 712 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 712 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:51:58 713 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 713 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 713 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:51:58 714 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 714 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 714 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:51:58 715 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 715 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 715 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:51:58 716 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 716 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 716 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:51:58 716 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 717 [info]:  >> Connection 임대됨 [threaId=719]
23/04/18 19:51:58 717 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:51:58 717 [info]:  >> Connection 반납됨 [threaId=719]
23/04/18 19:51:58 718 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 19:51:58 718 [debug]: --------------------------------------------------
23/04/18 19:53:59 141 [debug]: --------------------------------------------------
23/04/18 19:53:59 143 [debug]: |              Start Express Server              |
23/04/18 19:53:59 144 [debug]: --------------------------------------------------
23/04/18 19:53:59 144 [debug]: server address => http://211.222.164.95:3001
23/04/18 19:53:59 144 [debug]: --------------------------------------------------
23/04/18 19:56:11 155 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:56:11 156 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:56:11 157 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:56:11 160 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:56:11 161 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:56:11 161 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:56:11 163 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:56:11 164 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:56:11 164 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:56:11 165 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:56:11 165 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:56:11 165 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:56:11 193 [info]:  >> DATABASE 접속됨 [threaId=724]
23/04/18 19:56:11 194 [info]:  >> Connection 임대됨 [threaId=724]
23/04/18 19:56:11 196 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:56:11 197 [info]:  >> DATABASE 접속됨 [threaId=725]
23/04/18 19:56:11 197 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 19:56:11 198 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:56:11 198 [info]:  >> DATABASE 접속됨 [threaId=727]
23/04/18 19:56:11 199 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:56:11 199 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:56:11 201 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 19:56:11 205 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 44ms
23/04/18 19:56:11 205 [debug]: --------------------------------------------------
23/04/18 19:56:11 206 [info]:  >> DATABASE 접속됨 [threaId=726]
23/04/18 19:56:11 206 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:11 207 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:56:11 208 [info]:  >> Connection 반납됨 [threaId=724]
23/04/18 19:56:11 208 [info]:  >> Connection 임대됨 [threaId=724]
23/04/18 19:56:11 208 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:56:11 209 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:56:11 210 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 45ms
23/04/18 19:56:11 210 [debug]: --------------------------------------------------
23/04/18 19:56:11 211 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:11 212 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:11 212 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:56:11 213 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:11 213 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:11 214 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:56:11 214 [info]:  >> Connection 반납됨 [threaId=724]
23/04/18 19:56:11 215 [info]:  >> Connection 임대됨 [threaId=724]
23/04/18 19:56:11 215 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:56:11 216 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:11 216 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:11 216 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:56:11 217 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:11 217 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:11 218 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:56:11 218 [info]:  >> Connection 반납됨 [threaId=724]
23/04/18 19:56:11 219 [info]:  >> Connection 임대됨 [threaId=724]
23/04/18 19:56:11 219 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:56:11 219 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:11 220 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:11 220 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:56:11 220 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:11 221 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:11 221 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:56:11 222 [info]:  >> Connection 반납됨 [threaId=724]
23/04/18 19:56:11 223 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 67ms
23/04/18 19:56:11 223 [debug]: --------------------------------------------------
23/04/18 19:56:11 224 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:11 225 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 61ms
23/04/18 19:56:11 225 [debug]: --------------------------------------------------
23/04/18 19:56:12 027 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:56:12 028 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 19:56:12 028 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:56:12 028 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:56:12 029 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 19:56:12 029 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:56:12 030 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:56:12 030 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:56:12 030 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:56:12 031 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:56:12 032 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 19:56:12 032 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:56:12 033 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:12 033 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:56:12 034 [info]:  >> Connection 임대됨 [threaId=724]
23/04/18 19:56:12 034 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 19:56:12 035 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:56:12 036 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:56:12 036 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 19:56:12 037 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 19:56:12 037 [info]:  >> Connection 반납됨 [threaId=724]
23/04/18 19:56:12 038 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:56:12 038 [debug]: --------------------------------------------------
23/04/18 19:56:12 038 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:12 039 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:12 039 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:56:12 040 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:56:12 040 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:56:12 040 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:56:12 041 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 19:56:12 041 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:56:12 041 [debug]: --------------------------------------------------
23/04/18 19:56:12 042 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:56:12 042 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:56:12 042 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:56:12 043 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:12 043 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:12 043 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 19:56:12 044 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:56:12 044 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:56:12 044 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:56:12 045 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:56:12 045 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:56:12 045 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:56:12 046 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:12 046 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 19:56:12 046 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 19:56:12 047 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:56:12 047 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:56:12 047 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:56:12 048 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 19:56:12 048 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 19:56:12 048 [debug]: --------------------------------------------------
23/04/18 19:56:12 049 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:56:12 049 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:56:12 050 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:56:12 050 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:56:12 051 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 19:56:12 051 [debug]: --------------------------------------------------
23/04/18 19:57:59 670 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:57:59 671 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 19:57:59 671 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:57:59 672 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:57:59 673 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:57:59 673 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:57:59 673 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:57:59 674 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:57:59 674 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:57:59 674 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:57:59 675 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:57:59 675 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:57:59 675 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:57:59 676 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:57:59 676 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:57:59 676 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:57:59 677 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:57:59 677 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:57:59 677 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:57:59 677 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:57:59 678 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:57:59 678 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:57:59 678 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 19:57:59 679 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:57:59 680 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:57:59 680 [debug]: --------------------------------------------------
23/04/18 19:58:00 755 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:58:00 755 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 19:58:00 756 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:58:00 756 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:00 757 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:58:00 757 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:00 758 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:00 758 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:58:00 758 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:00 759 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:00 759 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:58:00 759 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:00 760 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:00 760 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:58:00 760 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:00 761 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:00 761 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:58:00 761 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:00 761 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:00 762 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:58:00 762 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:00 762 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:00 763 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 19:58:00 763 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:00 764 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:58:00 764 [debug]: --------------------------------------------------
23/04/18 19:58:01 528 [debug]: 클라이언트가 접속했습니다.
23/04/18 19:58:01 529 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 19:58:01 529 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 19:58:01 530 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:01 531 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 19:58:01 531 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:01 532 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:01 532 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 19:58:01 532 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:01 532 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:01 533 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 19:58:01 533 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:01 534 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:01 534 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 19:58:01 534 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:01 534 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:01 535 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 19:58:01 535 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:01 535 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:01 536 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 19:58:01 536 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:01 537 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 19:58:01 537 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 19:58:01 537 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 19:58:01 538 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 19:58:01 538 [debug]: --------------------------------------------------
23/04/18 20:01:35 622 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:01:35 623 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 20:01:35 623 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:01:35 624 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:35 624 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:01:35 625 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:35 625 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:35 625 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:01:35 626 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:35 626 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:35 626 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:01:35 626 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:35 627 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:35 627 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:01:35 627 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:35 627 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:35 628 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:01:35 628 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:35 628 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:35 629 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:01:35 629 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:35 629 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:35 630 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 20:01:35 631 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:35 632 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 20:01:35 632 [debug]: --------------------------------------------------
23/04/18 20:01:36 374 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:01:36 375 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 20:01:36 375 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:01:36 376 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:36 376 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:01:36 377 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:36 377 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:36 377 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:01:36 378 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:36 378 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:36 378 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:01:36 378 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:36 379 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:36 379 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:01:36 380 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:36 380 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:36 380 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:01:36 381 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:36 381 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:36 381 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:01:36 382 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:36 382 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:36 382 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 20:01:36 383 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:36 384 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 20:01:36 384 [debug]: --------------------------------------------------
23/04/18 20:01:37 207 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:01:37 208 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 20:01:37 208 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:01:37 209 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:37 210 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:01:37 210 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:37 210 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:37 211 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:01:37 211 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:37 212 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:37 212 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:01:37 213 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:37 213 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:37 214 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:01:37 214 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:37 214 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:37 214 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:01:37 215 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:37 215 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:37 215 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:01:37 215 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:37 216 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:01:37 216 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:01:37 217 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:01:37 218 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 20:01:37 218 [debug]: --------------------------------------------------
23/04/18 20:02:10 450 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:02:10 450 [debug]: [GET] http://localhost:3001/book_authName/84
23/04/18 20:02:10 450 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:02:10 452 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:02:10 452 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '84'
23/04/18 20:02:10 453 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:02:10 453 [debug]: [GET] http://localhost:3001/book_Top5/84
23/04/18 20:02:10 453 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:02:10 454 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:02:10 454 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=84&odby=&point=
23/04/18 20:02:10 455 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:02:10 455 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:02:10 455 [debug]: [GET] http://localhost:3001/book_new5/84
23/04/18 20:02:10 456 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:02:10 457 [info]:  >> Connection 임대됨 [threaId=726]
23/04/18 20:02:10 457 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '84')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:02:10 458 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 20:02:10 459 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')
23/04/18 20:02:10 459 [info]:  >> Connection 임대됨 [threaId=724]
23/04/18 20:02:10 459 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '84') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:02:10 460 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:02:10 460 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:02:10 460 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '84') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '84'
23/04/18 20:02:10 461 [info]:  >> Connection 반납됨 [threaId=726]
23/04/18 20:02:10 462 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:02:10 462 [debug]: --------------------------------------------------
23/04/18 20:02:10 462 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 20:02:10 463 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 20:02:10 463 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:02:10 464 [info]:  >> Connection 반납됨 [threaId=724]
23/04/18 20:02:10 465 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 20:02:10 465 [debug]: --------------------------------------------------
23/04/18 20:02:10 465 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 20:02:10 465 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 20:02:10 466 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:02:10 466 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:02:10 466 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:02:10 467 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '84')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '84'
23/04/18 20:02:10 467 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 20:02:10 467 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 20:02:10 468 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:02:10 468 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 20:02:10 468 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 20:02:10 468 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:02:10 469 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:02:10 469 [info]:  >> Connection 임대됨 [threaId=727]
23/04/18 20:02:10 469 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '84'
23/04/18 20:02:10 470 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 20:02:10 470 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 20:02:10 471 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:02:10 471 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 20:02:10 471 [info]:  >> Connection 임대됨 [threaId=725]
23/04/18 20:02:10 472 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '84', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:02:10 472 [info]:  >> Connection 반납됨 [threaId=727]
23/04/18 20:02:10 473 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 23ms
23/04/18 20:02:10 473 [debug]: --------------------------------------------------
23/04/18 20:02:10 474 [info]:  >> Connection 반납됨 [threaId=725]
23/04/18 20:02:10 474 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 20:02:10 475 [debug]: --------------------------------------------------
23/04/18 20:05:29 430 [debug]: --------------------------------------------------
23/04/18 20:05:29 432 [debug]: |              Start Express Server              |
23/04/18 20:05:29 433 [debug]: --------------------------------------------------
23/04/18 20:05:29 433 [debug]: server address => http://211.222.164.95:3001
23/04/18 20:05:29 434 [debug]: --------------------------------------------------
23/04/18 20:05:41 648 [debug]: --------------------------------------------------
23/04/18 20:05:41 651 [debug]: |              Start Express Server              |
23/04/18 20:05:41 651 [debug]: --------------------------------------------------
23/04/18 20:05:41 652 [debug]: server address => http://211.222.164.95:3001
23/04/18 20:05:41 652 [debug]: --------------------------------------------------
23/04/18 20:07:10 220 [debug]: --------------------------------------------------
23/04/18 20:07:10 222 [debug]: |              Start Express Server              |
23/04/18 20:07:10 222 [debug]: --------------------------------------------------
23/04/18 20:07:10 223 [debug]: server address => http://211.222.164.95:3001
23/04/18 20:07:10 223 [debug]: --------------------------------------------------
23/04/18 20:07:42 210 [debug]: --------------------------------------------------
23/04/18 20:07:42 213 [debug]: |              Start Express Server              |
23/04/18 20:07:42 213 [debug]: --------------------------------------------------
23/04/18 20:07:42 214 [debug]: server address => http://211.222.164.95:3001
23/04/18 20:07:42 214 [debug]: --------------------------------------------------
23/04/18 20:08:05 028 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:05 029 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 20:08:05 030 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:05 033 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:05 033 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 20:08:05 034 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:05 041 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:05 042 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 20:08:05 042 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:05 043 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:05 043 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 20:08:05 043 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:05 061 [info]:  >> DATABASE 접속됨 [threaId=733]
23/04/18 20:08:05 062 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:08:05 063 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:08:05 064 [info]:  >> DATABASE 접속됨 [threaId=732]
23/04/18 20:08:05 064 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:08:05 065 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:08:05 065 [info]:  >> DATABASE 접속됨 [threaId=734]
23/04/18 20:08:05 066 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 067 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:08:05 069 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:08:05 072 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 39ms
23/04/18 20:08:05 072 [debug]: --------------------------------------------------
23/04/18 20:08:05 073 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 074 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 074 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:08:05 075 [info]:  >> DATABASE 접속됨 [threaId=735]
23/04/18 20:08:05 075 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:08:05 075 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:08:05 076 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:08:05 076 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:08:05 077 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:08:05 078 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 078 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 079 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:08:05 079 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:08:05 080 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 37ms
23/04/18 20:08:05 080 [debug]: --------------------------------------------------
23/04/18 20:08:05 081 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:08:05 081 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:08:05 081 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:08:05 082 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 082 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 083 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:08:05 083 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 083 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 084 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:08:05 084 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:08:05 084 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:08:05 085 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 20:08:05 085 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 085 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 086 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:08:05 086 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 086 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 087 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:08:05 088 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:08:05 089 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 60ms
23/04/18 20:08:05 089 [debug]: --------------------------------------------------
23/04/18 20:08:05 090 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 090 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 48ms
23/04/18 20:08:05 091 [debug]: --------------------------------------------------
23/04/18 20:08:05 092 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:05 092 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 20:08:05 093 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:05 093 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 094 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:08:05 094 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 094 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 095 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:08:05 095 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 095 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 096 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:08:05 096 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 097 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 097 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:08:05 097 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 098 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 098 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:08:05 098 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 099 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 099 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:08:05 099 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 100 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:05 100 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:08:05 101 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:05 101 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:08:05 101 [debug]: --------------------------------------------------
23/04/18 20:08:09 613 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:09 613 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 20:08:09 613 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:09 614 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:09 615 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:08:09 615 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:09 615 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:09 616 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:08:09 616 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:09 616 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:09 617 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:08:09 617 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:09 618 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:09 618 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:08:09 618 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:09 619 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:09 619 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:08:09 619 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:09 619 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:09 620 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:08:09 620 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:09 621 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:09 621 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 20:08:09 622 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:09 622 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:08:09 622 [debug]: --------------------------------------------------
23/04/18 20:08:10 667 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:10 668 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spDown&point=
23/04/18 20:08:10 668 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:10 668 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:10 669 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:08:10 670 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:10 670 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:10 670 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:08:10 670 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:10 671 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:10 671 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:08:10 671 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:10 671 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:10 672 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:08:10 672 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:10 672 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:10 673 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:08:10 673 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:10 673 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:10 674 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:08:10 674 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:10 674 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:10 675 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp DESC    LIMIT 0, 30
23/04/18 20:08:10 675 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:10 676 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:08:10 676 [debug]: --------------------------------------------------
23/04/18 20:08:11 490 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:11 490 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 20:08:11 490 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:11 491 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:11 492 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:08:11 492 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:11 493 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:11 493 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:08:11 493 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:11 494 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:11 494 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:08:11 494 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:11 495 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:11 495 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:08:11 495 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:11 495 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:11 496 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:08:11 496 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:11 496 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:11 497 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:08:11 497 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:11 498 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:11 498 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 20:08:11 498 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:11 499 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:08:11 499 [debug]: --------------------------------------------------
23/04/18 20:08:13 526 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:13 527 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 20:08:13 527 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:13 528 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:13 529 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:08:13 529 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:13 529 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:13 530 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:08:13 530 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:13 531 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:13 531 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:08:13 531 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:13 531 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:13 532 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:08:13 532 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:13 532 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:13 533 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:08:13 533 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:13 533 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:13 534 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:08:13 534 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:13 534 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:13 535 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:08:13 535 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:13 536 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:08:13 536 [debug]: --------------------------------------------------
23/04/18 20:08:14 250 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:08:14 251 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 20:08:14 251 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:08:14 252 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:14 253 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:08:14 253 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:14 253 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:14 254 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:08:14 254 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:14 254 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:14 254 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:08:14 255 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:14 255 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:14 255 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:08:14 256 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:14 256 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:14 256 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:08:14 257 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:14 257 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:14 257 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:08:14 257 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:14 258 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:08:14 258 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 20:08:14 259 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:08:14 259 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:08:14 260 [debug]: --------------------------------------------------
23/04/18 20:13:02 151 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:13:02 151 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 20:13:02 151 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:13:02 152 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:13:02 152 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 20:13:02 153 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:13:02 154 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:13:02 154 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:13:02 155 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:02 155 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:13:02 156 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:13:02 156 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 20:13:02 157 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:13:02 157 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:13:02 158 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 20:13:02 158 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:13:02 159 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:02 159 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:13:02 159 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:02 160 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:13:02 160 [debug]: --------------------------------------------------
23/04/18 20:13:02 161 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:13:02 161 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:13:02 161 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:13:02 162 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:02 163 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:13:02 163 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:02 164 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:02 164 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:13:02 165 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:02 165 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:02 166 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:13:02 166 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:13:02 166 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:13:02 167 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:13:02 167 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:02 168 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 20:13:02 168 [debug]: --------------------------------------------------
23/04/18 20:13:02 169 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:02 169 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:02 170 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:13:02 170 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:13:02 170 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:13:02 171 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 20:13:02 171 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:02 171 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:02 172 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:13:02 172 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:02 172 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:02 173 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:13:02 173 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:13:02 174 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 23ms
23/04/18 20:13:02 174 [debug]: --------------------------------------------------
23/04/18 20:13:02 175 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:02 175 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:02 175 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 20:13:02 176 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:02 177 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 20:13:02 177 [debug]: --------------------------------------------------
23/04/18 20:13:03 195 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:13:03 196 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 20:13:03 196 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:13:03 197 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:13:03 197 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 20:13:03 197 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:13:03 198 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:13:03 198 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=spUp&point=
23/04/18 20:13:03 199 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:13:03 200 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:13:03 200 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 20:13:03 200 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:13:03 201 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:03 201 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:13:03 202 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:13:03 202 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:13:03 203 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:03 203 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:13:03 204 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:13:03 204 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:13:03 205 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:13:03 205 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:13:03 205 [debug]: --------------------------------------------------
23/04/18 20:13:03 206 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:03 206 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:03 206 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:13:03 207 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:03 207 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:03 207 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:13:03 208 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:13:03 208 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:13:03 208 [debug]: --------------------------------------------------
23/04/18 20:13:03 209 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:03 209 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:03 209 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:13:03 210 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:03 210 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:03 210 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:13:03 211 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:03 211 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:03 212 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:13:03 212 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:03 212 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:03 213 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:13:03 213 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:03 214 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:13:03 214 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 20:13:03 214 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:03 214 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:03 215 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:13:03 215 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:13:03 216 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 20:13:03 216 [debug]: --------------------------------------------------
23/04/18 20:13:03 216 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:03 217 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:13:03 217 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY sp ASC    LIMIT 0, 30
23/04/18 20:13:03 218 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:13:03 219 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 20:13:03 219 [debug]: --------------------------------------------------
23/04/18 20:16:40 452 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:40 452 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 20:16:40 452 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:40 453 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:40 453 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 20:16:40 454 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:40 454 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:40 455 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:16:40 456 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:40 456 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 20:16:40 456 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:40 457 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:40 457 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 20:16:40 457 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:40 458 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:40 458 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:16:40 459 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:40 459 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:16:40 459 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:40 460 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:40 460 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:16:40 461 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:40 461 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:16:40 462 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:40 462 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:16:40 462 [debug]: --------------------------------------------------
23/04/18 20:16:40 463 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:40 463 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:40 464 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:16:40 464 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:40 464 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:40 465 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:16:40 465 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:40 465 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:40 466 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:16:40 466 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:40 467 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 20:16:40 467 [debug]: --------------------------------------------------
23/04/18 20:16:40 467 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:40 467 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:40 468 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:16:40 468 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:40 468 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:40 469 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 20:16:40 469 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:40 469 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:40 469 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:16:40 470 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:40 470 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:16:40 470 [debug]: --------------------------------------------------
23/04/18 20:16:40 471 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:40 471 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:40 471 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:16:40 472 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:40 472 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:40 472 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:16:40 473 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:40 474 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:16:40 474 [debug]: --------------------------------------------------
23/04/18 20:16:49 250 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:49 251 [debug]: [GET] http://localhost:3001/book_authName/1
23/04/18 20:16:49 251 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:49 251 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:49 252 [debug]: [GET] http://localhost:3001/book_Top5/1
23/04/18 20:16:49 252 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:49 253 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:49 253 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:16:49 253 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:49 254 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:16:49 254 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:49 254 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=1&odby=&point=
23/04/18 20:16:49 255 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:49 255 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:49 255 [debug]: [GET] http://localhost:3001/book_new5/1
23/04/18 20:16:49 255 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:49 256 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:49 256 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')
23/04/18 20:16:49 257 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:49 257 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 5ms
23/04/18 20:16:49 258 [debug]: --------------------------------------------------
23/04/18 20:16:49 258 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:49 258 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:49 258 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:16:49 259 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:49 260 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '1') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:16:49 260 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:49 260 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:49 260 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:16:49 261 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:49 261 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:49 261 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:16:49 261 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:49 262 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:49 262 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '1')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '1'
23/04/18 20:16:49 263 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:49 264 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:16:49 264 [debug]: --------------------------------------------------
23/04/18 20:16:49 264 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:49 265 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:49 265 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:16:49 265 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:49 266 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:49 266 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '1'
23/04/18 20:16:49 266 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:49 267 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:49 267 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:16:49 267 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:49 268 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:16:49 268 [debug]: --------------------------------------------------
23/04/18 20:16:49 268 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:49 269 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:49 269 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '1', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:16:49 269 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:49 269 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:49 270 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '1', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:16:49 270 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:49 271 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 17ms
23/04/18 20:16:49 271 [debug]: --------------------------------------------------
23/04/18 20:16:52 555 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:52 556 [debug]: [GET] http://localhost:3001/book_authName/18
23/04/18 20:16:52 556 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:52 557 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:52 558 [debug]: [GET] http://localhost:3001/book_Top5/18
23/04/18 20:16:52 558 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:52 558 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:52 559 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=18&odby=&point=
23/04/18 20:16:52 559 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:52 560 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:52 560 [debug]: [GET] http://localhost:3001/book_new5/18
23/04/18 20:16:52 560 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:52 561 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:52 562 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 20:16:52 563 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:52 563 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '18')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:16:52 564 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:52 564 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')
23/04/18 20:16:52 564 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:52 565 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '18') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:16:52 565 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:52 566 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:52 566 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '18') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 20:16:52 567 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:52 567 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:16:52 567 [debug]: --------------------------------------------------
23/04/18 20:16:52 568 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:52 568 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:52 569 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:16:52 569 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:52 570 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 10ms
23/04/18 20:16:52 570 [debug]: --------------------------------------------------
23/04/18 20:16:52 571 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:52 571 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:52 571 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:16:52 572 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:52 572 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:52 572 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '18')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '18'
23/04/18 20:16:52 573 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:52 573 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:52 573 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:16:52 574 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:52 574 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:52 574 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:16:52 575 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:52 575 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:52 575 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '18'
23/04/18 20:16:52 576 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:52 576 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:52 576 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '18', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:16:52 577 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:52 577 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 20:16:52 578 [debug]: --------------------------------------------------
23/04/18 20:16:52 578 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:52 579 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:52 579 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '18', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:16:52 580 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:52 580 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 21ms
23/04/18 20:16:52 580 [debug]: --------------------------------------------------
23/04/18 20:16:54 341 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:54 342 [debug]: [GET] http://localhost:3001/book_authName/84
23/04/18 20:16:54 342 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:54 342 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:54 343 [debug]: [GET] http://localhost:3001/book_Top5/84
23/04/18 20:16:54 343 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:54 343 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:54 344 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=84&odby=&point=
23/04/18 20:16:54 344 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:54 344 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:54 345 [debug]: [GET] http://localhost:3001/book_new5/84
23/04/18 20:16:54 345 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:54 346 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:54 346 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '84'
23/04/18 20:16:54 347 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:54 347 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '84')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:16:54 347 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:54 348 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')
23/04/18 20:16:54 348 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:54 348 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '84') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:16:54 349 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:54 349 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 6ms
23/04/18 20:16:54 350 [debug]: --------------------------------------------------
23/04/18 20:16:54 350 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:54 350 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:54 350 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '84') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '84'
23/04/18 20:16:54 351 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:54 351 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:54 352 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:16:54 352 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:54 352 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:54 353 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:16:54 354 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:54 355 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 11ms
23/04/18 20:16:54 355 [debug]: --------------------------------------------------
23/04/18 20:16:54 355 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:54 355 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:54 356 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '84')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '84'
23/04/18 20:16:54 356 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:54 356 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:54 357 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:16:54 357 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:54 357 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:54 357 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:16:54 358 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:54 358 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:54 358 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '84'
23/04/18 20:16:54 358 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:54 359 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:54 359 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '84', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:16:54 359 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:54 360 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:16:54 360 [debug]: --------------------------------------------------
23/04/18 20:16:54 360 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:54 361 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:54 361 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '84', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:16:54 361 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:54 362 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:16:54 362 [debug]: --------------------------------------------------
23/04/18 20:16:55 653 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:55 654 [debug]: [GET] http://localhost:3001/book_authName/17
23/04/18 20:16:55 654 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:55 655 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:55 655 [debug]: [GET] http://localhost:3001/book_Top5/17
23/04/18 20:16:55 655 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:55 656 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:55 656 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=17&odby=&point=
23/04/18 20:16:55 656 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:55 657 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:55 657 [debug]: [GET] http://localhost:3001/book_new5/17
23/04/18 20:16:55 657 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:55 658 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:55 659 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '17'
23/04/18 20:16:55 659 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:55 660 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '17')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:16:55 660 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:55 661 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')
23/04/18 20:16:55 661 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:55 661 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '17') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:16:55 662 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:55 662 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 20:16:55 663 [debug]: --------------------------------------------------
23/04/18 20:16:55 663 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:55 663 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:55 664 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '17') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '17'
23/04/18 20:16:55 664 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:55 664 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:55 665 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:16:55 665 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:55 665 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:55 666 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:16:55 666 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:55 666 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:16:55 667 [debug]: --------------------------------------------------
23/04/18 20:16:55 667 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:55 667 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:55 667 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:16:55 668 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:55 668 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:55 668 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '17')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '17'
23/04/18 20:16:55 669 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:55 669 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:55 669 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:16:55 669 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:55 670 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:55 670 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '17', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:16:55 670 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:55 670 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:55 671 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '17'
23/04/18 20:16:55 671 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:55 671 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:55 671 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '17', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:16:55 672 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:55 673 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 20:16:55 673 [debug]: --------------------------------------------------
23/04/18 20:16:55 674 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:55 674 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:16:55 674 [debug]: --------------------------------------------------
23/04/18 20:16:57 195 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:57 195 [debug]: [GET] http://localhost:3001/book_authName/85
23/04/18 20:16:57 195 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:57 196 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:57 196 [debug]: [GET] http://localhost:3001/book_Top5/85
23/04/18 20:16:57 196 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:57 197 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:57 197 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=85&odby=&point=
23/04/18 20:16:57 197 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:57 198 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:57 198 [debug]: [GET] http://localhost:3001/book_new5/85
23/04/18 20:16:57 198 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:57 199 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:57 199 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '85'
23/04/18 20:16:57 200 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:57 200 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '85')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:16:57 201 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:57 201 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '85', '%')
23/04/18 20:16:57 202 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:57 202 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '85') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:16:57 202 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:57 203 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 20:16:57 203 [debug]: --------------------------------------------------
23/04/18 20:16:57 204 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:57 204 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:57 204 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '85') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '85'
23/04/18 20:16:57 205 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:57 205 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:57 206 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '85', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:16:57 206 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:57 206 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:16:57 207 [debug]: --------------------------------------------------
23/04/18 20:16:57 207 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:57 208 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:57 208 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '85', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:16:57 209 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:57 209 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:57 209 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '85')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '85'
23/04/18 20:16:57 210 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:57 210 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:57 210 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '85', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:16:57 210 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:57 211 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:57 211 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '85', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:16:57 211 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:57 211 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:57 212 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '85'
23/04/18 20:16:57 212 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:57 212 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:57 213 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '85', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:16:57 213 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:57 214 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 20:16:57 214 [debug]: --------------------------------------------------
23/04/18 20:16:57 214 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:57 214 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:57 215 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '85', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:16:57 215 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:57 216 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 20:16:57 216 [debug]: --------------------------------------------------
23/04/18 20:16:59 378 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:59 379 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=83&odby=&point=
23/04/18 20:16:59 379 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:59 380 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:59 380 [debug]: [GET] http://localhost:3001/book_authName/83
23/04/18 20:16:59 381 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:59 381 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:59 381 [debug]: [GET] http://localhost:3001/book_Top5/83
23/04/18 20:16:59 382 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:59 382 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:16:59 382 [debug]: [GET] http://localhost:3001/book_new5/83
23/04/18 20:16:59 383 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:16:59 384 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:59 384 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')
23/04/18 20:16:59 384 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:59 385 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:16:59 385 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:16:59 385 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:16:59 386 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:16:59 386 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:16:59 387 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:59 387 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:59 387 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:16:59 388 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:16:59 388 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 20:16:59 388 [debug]: --------------------------------------------------
23/04/18 20:16:59 389 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:59 389 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:59 389 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:16:59 390 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:59 390 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:59 390 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:16:59 391 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:16:59 391 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:16:59 391 [debug]: --------------------------------------------------
23/04/18 20:16:59 392 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:59 392 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:59 392 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:16:59 392 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:59 393 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:59 393 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:16:59 393 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:59 394 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:59 394 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:16:59 394 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:59 394 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:59 395 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:16:59 395 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:59 395 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:16:59 396 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '83'
23/04/18 20:16:59 396 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:59 396 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:16:59 397 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '83', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:16:59 397 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:16:59 398 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:16:59 398 [debug]: --------------------------------------------------
23/04/18 20:16:59 398 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:16:59 399 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 20ms
23/04/18 20:16:59 399 [debug]: --------------------------------------------------
23/04/18 20:17:01 772 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:01 773 [debug]: [GET] http://localhost:3001/book_authName/83
23/04/18 20:17:01 773 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:01 773 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:01 774 [debug]: [GET] http://localhost:3001/book_Top5/83
23/04/18 20:17:01 774 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:01 774 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:01 774 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=83&odby=&point=
23/04/18 20:17:01 775 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:01 775 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:01 776 [debug]: [GET] http://localhost:3001/book_new5/83
23/04/18 20:17:01 776 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:01 776 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:17:01 777 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:01 777 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:01 778 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:17:01 778 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:01 779 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')
23/04/18 20:17:01 779 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:01 779 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:17:01 780 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:01 780 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 6ms
23/04/18 20:17:01 780 [debug]: --------------------------------------------------
23/04/18 20:17:01 781 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:17:01 781 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:17:01 781 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:01 782 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:01 782 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:01 782 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:17:01 783 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:01 783 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 20:17:01 784 [debug]: --------------------------------------------------
23/04/18 20:17:01 784 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:01 784 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:01 785 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:17:01 785 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:17:01 786 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:17:01 786 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:01 786 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:01 786 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:01 787 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:17:01 787 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:01 787 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:01 787 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:17:01 788 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:17:01 788 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:17:01 788 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '83'
23/04/18 20:17:01 789 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:01 789 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:01 789 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:17:01 789 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:17:01 790 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:17:01 790 [debug]: --------------------------------------------------
23/04/18 20:17:01 791 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:01 791 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:01 791 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '83', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:17:01 792 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:01 792 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:17:01 792 [debug]: --------------------------------------------------
23/04/18 20:17:03 574 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:03 575 [debug]: [GET] http://localhost:3001/book_authName/83
23/04/18 20:17:03 575 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:03 576 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:03 576 [debug]: [GET] http://localhost:3001/book_Top5/83
23/04/18 20:17:03 576 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:03 577 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:03 578 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=83&odby=&point=
23/04/18 20:17:03 578 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:03 578 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:03 578 [debug]: [GET] http://localhost:3001/book_new5/83
23/04/18 20:17:03 579 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:03 579 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:03 579 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:03 580 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:17:03 581 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:17:03 581 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:03 582 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')
23/04/18 20:17:03 582 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:03 582 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:17:03 583 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:03 583 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:03 583 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:03 584 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:17:03 584 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:17:03 584 [debug]: --------------------------------------------------
23/04/18 20:17:03 585 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:03 585 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:03 585 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:17:03 586 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:03 586 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:17:03 586 [debug]: --------------------------------------------------
23/04/18 20:17:03 587 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:03 587 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:03 587 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:03 588 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:03 588 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:03 588 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:17:03 588 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:03 589 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:03 589 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:17:03 589 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:03 590 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:03 590 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '83'
23/04/18 20:17:03 590 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:03 590 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:03 591 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:17:03 591 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:03 592 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 17ms
23/04/18 20:17:03 592 [debug]: --------------------------------------------------
23/04/18 20:17:03 592 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:03 592 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:03 593 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:17:03 593 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:03 593 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:03 594 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '83', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:17:03 594 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:03 595 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:17:03 595 [debug]: --------------------------------------------------
23/04/18 20:17:38 715 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:38 716 [debug]: [GET] http://localhost:3001/book_Top5/83
23/04/18 20:17:38 716 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:38 716 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:38 717 [debug]: [GET] http://localhost:3001/book_authName/83
23/04/18 20:17:38 717 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:38 718 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:38 718 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:17:38 719 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:38 719 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:38 720 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:38 720 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=83&odby=&point=
23/04/18 20:17:38 720 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:38 721 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:38 721 [debug]: [GET] http://localhost:3001/book_new5/83
23/04/18 20:17:38 721 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:38 722 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:38 722 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')
23/04/18 20:17:38 723 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:38 723 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:17:38 723 [debug]: --------------------------------------------------
23/04/18 20:17:38 724 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:38 724 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:38 724 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:38 725 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:38 725 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:17:38 726 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:38 726 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:38 726 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:17:38 726 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:38 727 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:38 727 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:17:38 728 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:38 728 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:38 728 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:38 729 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:38 730 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 9ms
23/04/18 20:17:38 730 [debug]: --------------------------------------------------
23/04/18 20:17:38 730 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:38 731 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:38 731 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:17:38 731 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:38 731 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:38 732 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '83'
23/04/18 20:17:38 732 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:38 732 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:38 733 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:17:38 733 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:38 734 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 18ms
23/04/18 20:17:38 734 [debug]: --------------------------------------------------
23/04/18 20:17:38 734 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:38 735 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:38 735 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:17:38 735 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:38 736 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:38 736 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '83', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:17:38 737 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:38 737 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 17ms
23/04/18 20:17:38 737 [debug]: --------------------------------------------------
23/04/18 20:17:41 912 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:41 913 [debug]: [GET] http://localhost:3001/book_authName/83
23/04/18 20:17:41 913 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:41 914 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:41 914 [debug]: [GET] http://localhost:3001/book_Top5/83
23/04/18 20:17:41 914 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:41 915 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:41 915 [debug]: [GET] http://localhost:3001/review?page=1&rows=30&query=83&odby=&point=
23/04/18 20:17:41 915 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:41 916 [debug]: 클라이언트가 접속했습니다.
23/04/18 20:17:41 916 [debug]: [GET] http://localhost:3001/book_new5/83
23/04/18 20:17:41 916 [debug]: [client] ::1 / Windows 10.0 / Chrome (112.0.0.0) / Microsoft Windows
23/04/18 20:17:41 917 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:41 918 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:41 918 [info]:  >> Connection 임대됨 [threaId=735]
23/04/18 20:17:41 919 [debug]: SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  b.bookNo,  a.authName,  b.bookTitle,  b.img,  b.price,  b.discount,  SUM(od.amount) AS sum_amount, ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo  JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo  WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 1 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 5;
23/04/18 20:17:41 919 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:41 920 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')
23/04/18 20:17:41 920 [info]:  >> Connection 임대됨 [threaId=734]
23/04/18 20:17:41 920 [debug]: SELECT  bookNo,  authName,  bookTitle,  img,  price,  discount  FROM book AS b  JOIN author AS a ON b.authNo = a.authNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)  WHERE pubDate BETWEEN DATE_SUB(NOW(), INTERVAL 4 WEEK) AND NOW()  ORDER BY pubDate DESC  LIMIT 5;
23/04/18 20:17:41 921 [info]:  >> Connection 반납됨 [threaId=735]
23/04/18 20:17:41 921 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 7ms
23/04/18 20:17:41 921 [debug]: --------------------------------------------------
23/04/18 20:17:41 922 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:41 922 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:41 922 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNO FROM book WHERE bookNo = '83') AS b2 ON ctg.ctgUp = b2.ctgNo - mod(b2.ctgNo, 100)    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:41 923 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:41 923 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:41 923 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '1' and ('1'+0.5)
23/04/18 20:17:41 924 [info]:  >> Connection 반납됨 [threaId=734]
23/04/18 20:17:41 924 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 8ms
23/04/18 20:17:41 924 [debug]: --------------------------------------------------
23/04/18 20:17:41 925 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:41 925 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:41 925 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '2' and ('2'+0.5)
23/04/18 20:17:41 926 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:41 926 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:41 926 [debug]: SELECT B.ranking  FROM   (SELECT ROW_NUMBER() OVER (ORDER BY SUM(od.amount) DESC) AS ranking,  od.bookNo,  SUM(od.amount) AS sum_amount,  ctg.ctgName  FROM orderDetails AS od  JOIN book AS b ON od.bookNo = b.bookNo  JOIN category AS ctg ON b.ctgNo = ctg.ctgNo  JOIN orders AS o ON od.orderNo = o.orderNo    JOIN (SELECT ctgNo FROM book WHERE bookNo = '83')  AS b2 ON b.ctgNo = b2.ctgNo    WHERE o.orderDate BETWEEN DATE_SUB(NOW(), INTERVAL 3 WEEK) AND NOW()  GROUP BY od.bookNo  ORDER BY sum_amount DESC  LIMIT 100  ) AS B  WHERE B.bookNo = '83'
23/04/18 20:17:41 927 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:41 927 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:41 927 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '3' and ('3'+0.5)
23/04/18 20:17:41 928 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:41 928 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:41 928 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '4' and ('4'+0.5)
23/04/18 20:17:41 929 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:41 929 [info]:  >> Connection 임대됨 [threaId=733]
23/04/18 20:17:41 930 [debug]: SELECT bookTitle, pubName, DATE_FORMAT(pubDate,'%Y-%m-%d') as pubDate,  price, count, selling, bookDesc,bookIntro, bookIndex, img, content, ISBNum, page, size, discount, a.authName as authName, a.authImg as authImg ,a.authDesc as authDesc, ctg.ctgName as ctgName , ctgu.ctgName as ctgUp,  SUM(COALESCE(rv.sp,0)) AS totalSp  FROM book  INNER JOIN author as a ON book.authNo = a.authNo  INNER JOIN category as ctg ON book.ctgNo = ctg.ctgNo  INNER JOIN category as ctgu ON ctg.ctgUp = ctgu.ctgNo  LEFT OUTER JOIN review AS rv ON rv.bookNo = book.bookNo  WHERE book.bookNo= '83'
23/04/18 20:17:41 930 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:41 930 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:41 931 [debug]: SELECT COUNT(*) AS cnt FROM review  WHERE     bookNo LIKE concat('%', '83', '%')    AND sp BETWEEN '5' and ('5'+0.5)
23/04/18 20:17:41 931 [info]:  >> Connection 반납됨 [threaId=733]
23/04/18 20:17:41 932 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 20:17:41 932 [debug]: --------------------------------------------------
23/04/18 20:17:41 933 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:41 933 [info]:  >> Connection 임대됨 [threaId=732]
23/04/18 20:17:41 933 [debug]: SELECT reviewNo, comment, sp, date_format(r.regDate, '%Y/%m/%d') as regDate, u.loginId, bookNo FROM review as r  INNER JOIN user as u ON r.userNo = u.userNo   WHERE  bookNo LIKE concat('%', '83', '%')    ORDER BY regDate DESC    LIMIT 0, 30
23/04/18 20:17:41 934 [info]:  >> Connection 반납됨 [threaId=732]
23/04/18 20:17:41 934 [debug]: 클라이언트의 접속이 종료되었습니다. ::: [runtime] 19ms
23/04/18 20:17:41 934 [debug]: --------------------------------------------------
23/04/18 20:22:06 197 [debug]: --------------------------------------------------
23/04/18 20:22:06 199 [debug]: |              Start Express Server              |
23/04/18 20:22:06 199 [debug]: --------------------------------------------------
23/04/18 20:22:06 200 [debug]: server address => http://211.222.164.95:3001
23/04/18 20:22:06 200 [debug]: --------------------------------------------------
